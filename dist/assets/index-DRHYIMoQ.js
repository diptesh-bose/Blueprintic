var M0=Object.defineProperty;var I0=(e,t,n)=>t in e?M0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ul=(e,t,n)=>I0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kf={exports:{}},Ps={},Xf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),T0=Symbol.for("react.portal"),b0=Symbol.for("react.fragment"),z0=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),D0=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),O0=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),Nc=Symbol.iterator;function F0(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qf=Object.assign,Zf={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Zf,this.updater=n||qf}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jf(){}Jf.prototype=Wr.prototype;function su(e,t,n){this.props=e,this.context=t,this.refs=Zf,this.updater=n||qf}var lu=su.prototype=new Jf;lu.constructor=su;Qf(lu,Wr.prototype);lu.isPureReactComponent=!0;var Cc=Array.isArray,ep=Object.prototype.hasOwnProperty,au={current:null},tp={key:!0,ref:!0,__self:!0,__source:!0};function np(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)ep.call(t,r)&&!tp.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ii,type:e,key:i,ref:s,props:o,_owner:au.current}}function H0(e,t){return{$$typeof:ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ii}function U0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ac=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U0(""+e.key):t.toString(36)}function Li(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ii:case T0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+cl(s,0):r,Cc(o)?(n="",e!=null&&(n=e.replace(Ac,"$&/")+"/"),Li(o,t,n,"",function(u){return u})):o!=null&&(uu(o)&&(o=H0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Ac,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Cc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+cl(i,l);s+=Li(i,t,n,a,o)}else if(a=F0(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+cl(i,l++),s+=Li(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function pi(e,t,n){if(e==null)return e;var r=[],o=0;return Li(e,r,"","",function(i){return t.call(n,i,o++)}),r}function B0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Fi={transition:null},V0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Fi,ReactCurrentOwner:au};function rp(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:pi,forEach:function(e,t,n){pi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pi(e,function(){t++}),t},toArray:function(e){return pi(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Wr;ee.Fragment=b0;ee.Profiler=R0;ee.PureComponent=su;ee.StrictMode=z0;ee.Suspense=j0;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0;ee.act=rp;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=au.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ep.call(t,a)&&!tp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ii,type:e.type,key:o,ref:i,props:r,_owner:s}};ee.createContext=function(e){return e={$$typeof:P0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$0,_context:e},e.Consumer=e};ee.createElement=np;ee.createFactory=function(e){var t=np.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:D0,render:e}};ee.isValidElement=uu;ee.lazy=function(e){return{$$typeof:L0,_payload:{_status:-1,_result:e},_init:B0}};ee.memo=function(e,t){return{$$typeof:O0,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Fi.transition;Fi.transition={};try{e()}finally{Fi.transition=t}};ee.unstable_act=rp;ee.useCallback=function(e,t){return Ue.current.useCallback(e,t)};ee.useContext=function(e){return Ue.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ue.current.useEffect(e,t)};ee.useId=function(){return Ue.current.useId()};ee.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ue.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};ee.useRef=function(e){return Ue.current.useRef(e)};ee.useState=function(e){return Ue.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Ue.current.useTransition()};ee.version="18.3.1";Xf.exports=ee;var N=Xf.exports;const O=Yf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=N,W0=Symbol.for("react.element"),Y0=Symbol.for("react.fragment"),K0=Object.prototype.hasOwnProperty,X0=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q0={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)K0.call(t,r)&&!q0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:W0,type:e,key:i,ref:s,props:o,_owner:X0.current}}Ps.Fragment=Y0;Ps.jsx=op;Ps.jsxs=op;Kf.exports=Ps;var w=Kf.exports,ip={exports:{}},nt={},sp={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,_){var E=k.length;k.push(_);e:for(;0<E;){var I=E-1>>>1,$=k[I];if(0<o($,_))k[I]=_,k[E]=$,E=I;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var _=k[0],E=k.pop();if(E!==_){k[0]=E;e:for(var I=0,$=k.length,V=$>>>1;I<V;){var B=2*(I+1)-1,G=k[B],Y=B+1,q=k[Y];if(0>o(G,E))Y<$&&0>o(q,G)?(k[I]=q,k[Y]=E,I=Y):(k[I]=G,k[B]=E,I=B);else if(Y<$&&0>o(q,E))k[I]=q,k[Y]=E,I=Y;else break e}}return _}function o(k,_){var E=k.sortIndex-_.sortIndex;return E!==0?E:k.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,g=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=k)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function S(k){if(v=!1,y(k),!g)if(n(a)!==null)g=!0,M(A);else{var _=n(u);_!==null&&F(S,_.startTime-k)}}function A(k,_){g=!1,v&&(v=!1,h(P),P=-1),p=!0;var E=f;try{for(y(_),d=n(a);d!==null&&(!(d.expirationTime>_)||k&&!j());){var I=d.callback;if(typeof I=="function"){d.callback=null,f=d.priorityLevel;var $=I(d.expirationTime<=_);_=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(a)&&r(a),y(_)}else r(a);d=n(a)}if(d!==null)var V=!0;else{var B=n(u);B!==null&&F(S,B.startTime-_),V=!1}return V}finally{d=null,f=E,p=!1}}var T=!1,z=null,P=-1,D=5,R=-1;function j(){return!(e.unstable_now()-R<D)}function H(){if(z!==null){var k=e.unstable_now();R=k;var _=!0;try{_=z(!0,k)}finally{_?L():(T=!1,z=null)}}else T=!1}var L;if(typeof m=="function")L=function(){m(H)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,b=x.port2;x.port1.onmessage=H,L=function(){b.postMessage(null)}}else L=function(){C(H,0)};function M(k){z=k,T||(T=!0,L())}function F(k,_){P=C(function(){k(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(A))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var _=3;break;default:_=f}var E=f;f=_;try{return k()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,_){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var E=f;f=k;try{return _()}finally{f=E}},e.unstable_scheduleCallback=function(k,_,E){var I=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?I+E:I):E=I,k){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=E+$,k={id:c++,callback:_,priorityLevel:k,startTime:E,expirationTime:$,sortIndex:-1},E>I?(k.sortIndex=E,t(u,k),n(a)===null&&k===n(u)&&(v?(h(P),P=-1):v=!0,F(S,E-I))):(k.sortIndex=$,t(a,k),g||p||(g=!0,M(A))),k},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(k){var _=f;return function(){var E=f;f=_;try{return k.apply(this,arguments)}finally{f=E}}}})(lp);sp.exports=lp;var Q0=sp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=N,et=Q0;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ap=new Set,zo={};function Jn(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(zo[e]=t,e=0;e<t.length;e++)ap.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,J0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},Ic={};function ey(e){return Xl.call(Ic,e)?!0:Xl.call(Mc,e)?!1:J0.test(e)?Ic[e]=!0:(Mc[e]=!0,!1)}function ty(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ny(e,t,n,r){if(t===null||typeof t>"u"||ty(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,du);Ie[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,du);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,du);Ie[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function fu(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ny(t,n,o,r)&&(n=null),r||o===null?ey(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qt=Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hi=Symbol.for("react.element"),pr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),cp=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),dp=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function eo(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,dl;function ho(e){if(dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var fl=!1;function pl(e,t){if(!e||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function ry(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function Jl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case pr:return"Portal";case ql:return"Profiler";case pu:return"StrictMode";case Ql:return"Suspense";case Zl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cp:return(e.displayName||"Context")+".Consumer";case up:return(e._context.displayName||"Context")+".Provider";case hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mu:return t=e.displayName||null,t!==null?t:Jl(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return Jl(e(t))}catch{}}return null}function oy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(t);case 8:return t===pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iy(e){var t=fp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mi(e){e._valueTracker||(e._valueTracker=iy(e))}function pp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hp(e,t){t=t.checked,t!=null&&fu(e,"checked",t,!1)}function ta(e,t){hp(e,t);var n=wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?na(e,t.type,n):t.hasOwnProperty("defaultValue")&&na(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function na(e,t,n){(t!=="number"||rs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mo=Array.isArray;function Cr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(mo(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function mp(e,t){var n=wn(t.value),r=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $c(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gi,yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sy=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(e){sy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_o[t]=_o[e]})});function vp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_o.hasOwnProperty(e)&&_o[e]?(""+t).trim():t+"px"}function xp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ly=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(e,t){if(t){if(ly[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,Ar=null,Mr=null;function Pc(e){if(e=ai(e)){if(typeof aa!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Fs(t),aa(e.stateNode,e.type,t))}}function wp(e){Ar?Mr?Mr.push(e):Mr=[e]:Ar=e}function Sp(){if(Ar){var e=Ar,t=Mr;if(Mr=Ar=null,Pc(e),t)for(e=0;e<t.length;e++)Pc(t[e])}}function _p(e,t){return e(t)}function Ep(){}var hl=!1;function kp(e,t,n){if(hl)return e(t,n);hl=!0;try{return _p(e,t,n)}finally{hl=!1,(Ar!==null||Mr!==null)&&(Ep(),Sp())}}function $o(e,t){var n=e.stateNode;if(n===null)return null;var r=Fs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ua=!1;if(Vt)try{var to={};Object.defineProperty(to,"passive",{get:function(){ua=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{ua=!1}function ay(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Eo=!1,os=null,is=!1,ca=null,uy={onError:function(e){Eo=!0,os=e}};function cy(e,t,n,r,o,i,s,l,a){Eo=!1,os=null,ay.apply(uy,arguments)}function dy(e,t,n,r,o,i,s,l,a){if(cy.apply(this,arguments),Eo){if(Eo){var u=os;Eo=!1,os=null}else throw Error(U(198));is||(is=!0,ca=u)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Np(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dc(e){if(er(e)!==e)throw Error(U(188))}function fy(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Dc(o),e;if(i===r)return Dc(o),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Cp(e){return e=fy(e),e!==null?Ap(e):null}function Ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ap(e);if(t!==null)return t;e=e.sibling}return null}var Mp=et.unstable_scheduleCallback,jc=et.unstable_cancelCallback,py=et.unstable_shouldYield,hy=et.unstable_requestPaint,ye=et.unstable_now,my=et.unstable_getCurrentPriorityLevel,yu=et.unstable_ImmediatePriority,Ip=et.unstable_UserBlockingPriority,ss=et.unstable_NormalPriority,gy=et.unstable_LowPriority,Tp=et.unstable_IdlePriority,Ds=null,Mt=null;function yy(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:wy,vy=Math.log,xy=Math.LN2;function wy(e){return e>>>=0,e===0?32:31-(vy(e)/xy|0)|0}var yi=64,vi=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=go(l):(i&=s,i!==0&&(r=go(i)))}else s=n&~o,s!==0?r=go(s):i!==0&&(r=go(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),o=1<<n,r|=e[n],t&=~o;return r}function Sy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _y(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=Sy(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bp(){var e=yi;return yi<<=1,!(yi&4194240)&&(yi=64),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Ey(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-wt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function vu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var oe=0;function zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rp,xu,$p,Pp,Dp,fa=!1,xi=[],cn=null,dn=null,fn=null,Po=new Map,Do=new Map,on=[],ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(t.pointerId)}}function no(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ai(t),t!==null&&xu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ny(e,t,n,r,o){switch(t){case"focusin":return cn=no(cn,e,t,n,r,o),!0;case"dragenter":return dn=no(dn,e,t,n,r,o),!0;case"mouseover":return fn=no(fn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Po.set(i,no(Po.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Do.set(i,no(Do.get(i)||null,e,t,n,r,o)),!0}return!1}function jp(e){var t=Pn(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=Np(n),t!==null){e.blockedOn=t,Dp(e.priority,function(){$p(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);la=r,n.target.dispatchEvent(r),la=null}else return t=ai(n),t!==null&&xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Lc(e,t,n){Hi(e)&&n.delete(t)}function Cy(){fa=!1,cn!==null&&Hi(cn)&&(cn=null),dn!==null&&Hi(dn)&&(dn=null),fn!==null&&Hi(fn)&&(fn=null),Po.forEach(Lc),Do.forEach(Lc)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,fa||(fa=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Cy)))}function jo(e){function t(o){return ro(o,e)}if(0<xi.length){ro(xi[0],e);for(var n=1;n<xi.length;n++){var r=xi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cn!==null&&ro(cn,e),dn!==null&&ro(dn,e),fn!==null&&ro(fn,e),Po.forEach(t),Do.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)jp(n),n.blockedOn===null&&on.shift()}var Ir=qt.ReactCurrentBatchConfig,as=!0;function Ay(e,t,n,r){var o=oe,i=Ir.transition;Ir.transition=null;try{oe=1,wu(e,t,n,r)}finally{oe=o,Ir.transition=i}}function My(e,t,n,r){var o=oe,i=Ir.transition;Ir.transition=null;try{oe=4,wu(e,t,n,r)}finally{oe=o,Ir.transition=i}}function wu(e,t,n,r){if(as){var o=pa(e,t,n,r);if(o===null)Nl(e,t,r,us,n),Oc(e,r);else if(Ny(o,e,t,n,r))r.stopPropagation();else if(Oc(e,r),t&4&&-1<ky.indexOf(e)){for(;o!==null;){var i=ai(o);if(i!==null&&Rp(i),i=pa(e,t,n,r),i===null&&Nl(e,t,r,us,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Nl(e,t,r,null,n)}}var us=null;function pa(e,t,n,r){if(us=null,e=gu(r),e=Pn(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Np(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return us=e,null}function Op(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(my()){case yu:return 1;case Ip:return 4;case ss:case gy:return 16;case Tp:return 536870912;default:return 16}default:return 16}}var ln=null,Su=null,Ui=null;function Lp(){if(Ui)return Ui;var e,t=Su,n=t.length,r,o="value"in ln?ln.value:ln.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Ui=o.slice(e,1<r?1-r:void 0)}function Bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function Fc(){return!1}function rt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wi:Fc,this.isPropagationStopped=Fc,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=rt(Yr),li=pe({},Yr,{view:0,detail:0}),Iy=rt(li),gl,yl,oo,js=pe({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(gl=e.screenX-oo.screenX,yl=e.screenY-oo.screenY):yl=gl=0,oo=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Hc=rt(js),Ty=pe({},js,{dataTransfer:0}),by=rt(Ty),zy=pe({},li,{relatedTarget:0}),vl=rt(zy),Ry=pe({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=rt(Ry),Py=pe({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dy=rt(Py),jy=pe({},Yr,{data:0}),Uc=rt(jy),Oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fy[e])?!!t[e]:!1}function Eu(){return Hy}var Uy=pe({},li,{key:function(e){if(e.key){var t=Oy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ly[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),By=rt(Uy),Vy=pe({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=rt(Vy),Gy=pe({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Wy=rt(Gy),Yy=pe({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ky=rt(Yy),Xy=pe({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qy=rt(Xy),Qy=[9,13,27,32],ku=Vt&&"CompositionEvent"in window,ko=null;Vt&&"documentMode"in document&&(ko=document.documentMode);var Zy=Vt&&"TextEvent"in window&&!ko,Fp=Vt&&(!ku||ko&&8<ko&&11>=ko),Vc=" ",Gc=!1;function Hp(e,t){switch(e){case"keyup":return Qy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function Jy(e,t){switch(e){case"compositionend":return Up(t);case"keypress":return t.which!==32?null:(Gc=!0,Vc);case"textInput":return e=t.data,e===Vc&&Gc?null:e;default:return null}}function ev(e,t){if(mr)return e==="compositionend"||!ku&&Hp(e,t)?(e=Lp(),Ui=Su=ln=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fp&&t.locale!=="ko"?null:t.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tv[e.type]:t==="textarea"}function Bp(e,t,n,r){wp(r),t=cs(t,"onChange"),0<t.length&&(n=new _u("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var No=null,Oo=null;function nv(e){eh(e,0)}function Os(e){var t=vr(e);if(pp(t))return e}function rv(e,t){if(e==="change")return t}var Vp=!1;if(Vt){var xl;if(Vt){var wl="oninput"in document;if(!wl){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),wl=typeof Yc.oninput=="function"}xl=wl}else xl=!1;Vp=xl&&(!document.documentMode||9<document.documentMode)}function Kc(){No&&(No.detachEvent("onpropertychange",Gp),Oo=No=null)}function Gp(e){if(e.propertyName==="value"&&Os(Oo)){var t=[];Bp(t,Oo,e,gu(e)),kp(nv,t)}}function ov(e,t,n){e==="focusin"?(Kc(),No=t,Oo=n,No.attachEvent("onpropertychange",Gp)):e==="focusout"&&Kc()}function iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(Oo)}function sv(e,t){if(e==="click")return Os(t)}function lv(e,t){if(e==="input"||e==="change")return Os(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:av;function Lo(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Xl.call(t,o)||!_t(e[o],t[o]))return!1}return!0}function Xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var n=Xc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xc(n)}}function Wp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yp(){for(var e=window,t=rs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rs(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uv(e){var t=Yp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wp(n.ownerDocument.documentElement,n)){if(r!==null&&Nu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=qc(n,i);var s=qc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cv=Vt&&"documentMode"in document&&11>=document.documentMode,gr=null,ha=null,Co=null,ma=!1;function Qc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||gr==null||gr!==rs(r)||(r=gr,"selectionStart"in r&&Nu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Co&&Lo(Co,r)||(Co=r,r=cs(ha,"onSelect"),0<r.length&&(t=new _u("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},Sl={},Kp={};Vt&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Ls(e){if(Sl[e])return Sl[e];if(!yr[e])return e;var t=yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kp)return Sl[e]=t[n];return e}var Xp=Ls("animationend"),qp=Ls("animationiteration"),Qp=Ls("animationstart"),Zp=Ls("transitionend"),Jp=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Jp.set(e,t),Jn(t,[e])}for(var _l=0;_l<Zc.length;_l++){var El=Zc[_l],dv=El.toLowerCase(),fv=El[0].toUpperCase()+El.slice(1);_n(dv,"on"+fv)}_n(Xp,"onAnimationEnd");_n(qp,"onAnimationIteration");_n(Qp,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Zp,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dy(r,t,void 0,e),e.currentTarget=null}function eh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Jc(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Jc(o,l,u),i=a}}}if(is)throw e=ca,is=!1,ca=null,e}function ae(e,t){var n=t[wa];n===void 0&&(n=t[wa]=new Set);var r=e+"__bubble";n.has(r)||(th(t,e,2,!1),n.add(r))}function kl(e,t,n){var r=0;t&&(r|=4),th(n,e,r,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[_i]){e[_i]=!0,ap.forEach(function(n){n!=="selectionchange"&&(pv.has(n)||kl(n,!1,e),kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_i]||(t[_i]=!0,kl("selectionchange",!1,t))}}function th(e,t,n,r){switch(Op(t)){case 1:var o=Ay;break;case 4:o=My;break;default:o=wu}n=o.bind(null,t,n,e),o=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Nl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Pn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}kp(function(){var u=i,c=gu(n),d=[];e:{var f=Jp.get(e);if(f!==void 0){var p=_u,g=e;switch(e){case"keypress":if(Bi(n)===0)break e;case"keydown":case"keyup":p=By;break;case"focusin":g="focus",p=vl;break;case"focusout":g="blur",p=vl;break;case"beforeblur":case"afterblur":p=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=by;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wy;break;case Xp:case qp:case Qp:p=$y;break;case Zp:p=Ky;break;case"scroll":p=Iy;break;case"wheel":p=qy;break;case"copy":case"cut":case"paste":p=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bc}var v=(t&4)!==0,C=!v&&e==="scroll",h=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,y;m!==null;){y=m;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,h!==null&&(S=$o(m,h),S!=null&&v.push(Ho(m,S,y)))),C)break;m=m.return}0<v.length&&(f=new p(f,g,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==la&&(g=n.relatedTarget||n.fromElement)&&(Pn(g)||g[Gt]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Pn(g):null,g!==null&&(C=er(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=Hc,S="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Bc,S="onPointerLeave",h="onPointerEnter",m="pointer"),C=p==null?f:vr(p),y=g==null?f:vr(g),f=new v(S,m+"leave",p,n,c),f.target=C,f.relatedTarget=y,S=null,Pn(c)===u&&(v=new v(h,m+"enter",g,n,c),v.target=y,v.relatedTarget=C,S=v),C=S,p&&g)t:{for(v=p,h=g,m=0,y=v;y;y=sr(y))m++;for(y=0,S=h;S;S=sr(S))y++;for(;0<m-y;)v=sr(v),m--;for(;0<y-m;)h=sr(h),y--;for(;m--;){if(v===h||h!==null&&v===h.alternate)break t;v=sr(v),h=sr(h)}v=null}else v=null;p!==null&&ed(d,f,p,v,!1),g!==null&&C!==null&&ed(d,C,g,v,!0)}}e:{if(f=u?vr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var A=rv;else if(Wc(f))if(Vp)A=lv;else{A=iv;var T=ov}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=sv);if(A&&(A=A(e,u))){Bp(d,A,n,c);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&na(f,"number",f.value)}switch(T=u?vr(u):window,e){case"focusin":(Wc(T)||T.contentEditable==="true")&&(gr=T,ha=u,Co=null);break;case"focusout":Co=ha=gr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Qc(d,n,c);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Qc(d,n,c)}var z;if(ku)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mr?Hp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Fp&&n.locale!=="ko"&&(mr||P!=="onCompositionStart"?P==="onCompositionEnd"&&mr&&(z=Lp()):(ln=c,Su="value"in ln?ln.value:ln.textContent,mr=!0)),T=cs(u,P),0<T.length&&(P=new Uc(P,e,null,n,c),d.push({event:P,listeners:T}),z?P.data=z:(z=Up(n),z!==null&&(P.data=z)))),(z=Zy?Jy(e,n):ev(e,n))&&(u=cs(u,"onBeforeInput"),0<u.length&&(c=new Uc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=z))}eh(d,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=$o(e,n),i!=null&&r.unshift(Ho(e,i,o)),i=$o(e,t),i!=null&&r.push(Ho(e,i,o))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ed(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=$o(n,i),a!=null&&s.unshift(Ho(n,a,l))):o||(a=$o(n,i),a!=null&&s.push(Ho(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var hv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function td(e){return(typeof e=="string"?e:""+e).replace(hv,`
`).replace(mv,"")}function Ei(e,t,n){if(t=td(t),td(e)!==t&&n)throw Error(U(425))}function ds(){}var ga=null,ya=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,yv=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(vv)}:xa;function vv(e){setTimeout(function(){throw e})}function Cl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),jo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);jo(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),At="__reactFiber$"+Kr,Uo="__reactProps$"+Kr,Gt="__reactContainer$"+Kr,wa="__reactEvents$"+Kr,xv="__reactListeners$"+Kr,wv="__reactHandles$"+Kr;function Pn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rd(e);e!==null;){if(n=e[At])return n;e=rd(e)}return t}e=n,n=e.parentNode}return null}function ai(e){return e=e[At]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Fs(e){return e[Uo]||null}var Sa=[],xr=-1;function En(e){return{current:e}}function ue(e){0>xr||(e.current=Sa[xr],Sa[xr]=null,xr--)}function se(e,t){xr++,Sa[xr]=e.current,e.current=t}var Sn={},je=En(Sn),Ye=En(!1),Gn=Sn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function fs(){ue(Ye),ue(je)}function od(e,t,n){if(je.current!==Sn)throw Error(U(168));se(je,t),se(Ye,n)}function nh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(U(108,oy(e)||"Unknown",o));return pe({},n,r)}function ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Gn=je.current,se(je,e),se(Ye,Ye.current),!0}function id(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=nh(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,ue(Ye),ue(je),se(je,e)):ue(Ye),se(Ye,n)}var jt=null,Hs=!1,Al=!1;function rh(e){jt===null?jt=[e]:jt.push(e)}function Sv(e){Hs=!0,rh(e)}function kn(){if(!Al&&jt!==null){Al=!0;var e=0,t=oe;try{var n=jt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,Hs=!1}catch(o){throw jt!==null&&(jt=jt.slice(e+1)),Mp(yu,kn),o}finally{oe=t,Al=!1}}return null}var wr=[],Sr=0,hs=null,ms=0,ot=[],it=0,Wn=null,Lt=1,Ft="";function bn(e,t){wr[Sr++]=ms,wr[Sr++]=hs,hs=e,ms=t}function oh(e,t,n){ot[it++]=Lt,ot[it++]=Ft,ot[it++]=Wn,Wn=e;var r=Lt;e=Ft;var o=32-wt(r)-1;r&=~(1<<o),n+=1;var i=32-wt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Lt=1<<32-wt(t)+o|n<<o|r,Ft=i+e}else Lt=1<<i|n<<o|r,Ft=e}function Cu(e){e.return!==null&&(bn(e,1),oh(e,1,0))}function Au(e){for(;e===hs;)hs=wr[--Sr],wr[Sr]=null,ms=wr[--Sr],wr[Sr]=null;for(;e===Wn;)Wn=ot[--it],ot[it]=null,Ft=ot[--it],ot[it]=null,Lt=ot[--it],ot[it]=null}var Je=null,Ze=null,ce=!1,vt=null;function ih(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:Lt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function _a(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ea(e){if(ce){var t=Ze;if(t){var n=t;if(!sd(e,t)){if(_a(e))throw Error(U(418));t=pn(n.nextSibling);var r=Je;t&&sd(e,t)?ih(r,n):(e.flags=e.flags&-4097|2,ce=!1,Je=e)}}else{if(_a(e))throw Error(U(418));e.flags=e.flags&-4097|2,ce=!1,Je=e}}}function ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function ki(e){if(e!==Je)return!1;if(!ce)return ld(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=Ze)){if(_a(e))throw sh(),Error(U(418));for(;t;)ih(e,t),t=pn(t.nextSibling)}if(ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?pn(e.stateNode.nextSibling):null;return!0}function sh(){for(var e=Ze;e;)e=pn(e.nextSibling)}function jr(){Ze=Je=null,ce=!1}function Mu(e){vt===null?vt=[e]:vt.push(e)}var _v=qt.ReactCurrentBatchConfig;function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Ni(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ad(e){var t=e._init;return t(e._payload)}function lh(e){function t(h,m){if(e){var y=h.deletions;y===null?(h.deletions=[m],h.flags|=16):y.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function o(h,m){return h=yn(h,m),h.index=0,h.sibling=null,h}function i(h,m,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<m?(h.flags|=2,m):y):(h.flags|=2,m)):(h.flags|=1048576,m)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,m,y,S){return m===null||m.tag!==6?(m=$l(y,h.mode,S),m.return=h,m):(m=o(m,y),m.return=h,m)}function a(h,m,y,S){var A=y.type;return A===hr?c(h,m,y.props.children,S,y.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Jt&&ad(A)===m.type)?(S=o(m,y.props),S.ref=io(h,m,y),S.return=h,S):(S=qi(y.type,y.key,y.props,null,h.mode,S),S.ref=io(h,m,y),S.return=h,S)}function u(h,m,y,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Pl(y,h.mode,S),m.return=h,m):(m=o(m,y.children||[]),m.return=h,m)}function c(h,m,y,S,A){return m===null||m.tag!==7?(m=Hn(y,h.mode,S,A),m.return=h,m):(m=o(m,y),m.return=h,m)}function d(h,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$l(""+m,h.mode,y),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case hi:return y=qi(m.type,m.key,m.props,null,h.mode,y),y.ref=io(h,null,m),y.return=h,y;case pr:return m=Pl(m,h.mode,y),m.return=h,m;case Jt:var S=m._init;return d(h,S(m._payload),y)}if(mo(m)||eo(m))return m=Hn(m,h.mode,y,null),m.return=h,m;Ni(h,m)}return null}function f(h,m,y,S){var A=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:l(h,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hi:return y.key===A?a(h,m,y,S):null;case pr:return y.key===A?u(h,m,y,S):null;case Jt:return A=y._init,f(h,m,A(y._payload),S)}if(mo(y)||eo(y))return A!==null?null:c(h,m,y,S,null);Ni(h,y)}return null}function p(h,m,y,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(y)||null,l(m,h,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hi:return h=h.get(S.key===null?y:S.key)||null,a(m,h,S,A);case pr:return h=h.get(S.key===null?y:S.key)||null,u(m,h,S,A);case Jt:var T=S._init;return p(h,m,y,T(S._payload),A)}if(mo(S)||eo(S))return h=h.get(y)||null,c(m,h,S,A,null);Ni(m,S)}return null}function g(h,m,y,S){for(var A=null,T=null,z=m,P=m=0,D=null;z!==null&&P<y.length;P++){z.index>P?(D=z,z=null):D=z.sibling;var R=f(h,z,y[P],S);if(R===null){z===null&&(z=D);break}e&&z&&R.alternate===null&&t(h,z),m=i(R,m,P),T===null?A=R:T.sibling=R,T=R,z=D}if(P===y.length)return n(h,z),ce&&bn(h,P),A;if(z===null){for(;P<y.length;P++)z=d(h,y[P],S),z!==null&&(m=i(z,m,P),T===null?A=z:T.sibling=z,T=z);return ce&&bn(h,P),A}for(z=r(h,z);P<y.length;P++)D=p(z,h,P,y[P],S),D!==null&&(e&&D.alternate!==null&&z.delete(D.key===null?P:D.key),m=i(D,m,P),T===null?A=D:T.sibling=D,T=D);return e&&z.forEach(function(j){return t(h,j)}),ce&&bn(h,P),A}function v(h,m,y,S){var A=eo(y);if(typeof A!="function")throw Error(U(150));if(y=A.call(y),y==null)throw Error(U(151));for(var T=A=null,z=m,P=m=0,D=null,R=y.next();z!==null&&!R.done;P++,R=y.next()){z.index>P?(D=z,z=null):D=z.sibling;var j=f(h,z,R.value,S);if(j===null){z===null&&(z=D);break}e&&z&&j.alternate===null&&t(h,z),m=i(j,m,P),T===null?A=j:T.sibling=j,T=j,z=D}if(R.done)return n(h,z),ce&&bn(h,P),A;if(z===null){for(;!R.done;P++,R=y.next())R=d(h,R.value,S),R!==null&&(m=i(R,m,P),T===null?A=R:T.sibling=R,T=R);return ce&&bn(h,P),A}for(z=r(h,z);!R.done;P++,R=y.next())R=p(z,h,P,R.value,S),R!==null&&(e&&R.alternate!==null&&z.delete(R.key===null?P:R.key),m=i(R,m,P),T===null?A=R:T.sibling=R,T=R);return e&&z.forEach(function(H){return t(h,H)}),ce&&bn(h,P),A}function C(h,m,y,S){if(typeof y=="object"&&y!==null&&y.type===hr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case hi:e:{for(var A=y.key,T=m;T!==null;){if(T.key===A){if(A=y.type,A===hr){if(T.tag===7){n(h,T.sibling),m=o(T,y.props.children),m.return=h,h=m;break e}}else if(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Jt&&ad(A)===T.type){n(h,T.sibling),m=o(T,y.props),m.ref=io(h,T,y),m.return=h,h=m;break e}n(h,T);break}else t(h,T);T=T.sibling}y.type===hr?(m=Hn(y.props.children,h.mode,S,y.key),m.return=h,h=m):(S=qi(y.type,y.key,y.props,null,h.mode,S),S.ref=io(h,m,y),S.return=h,h=S)}return s(h);case pr:e:{for(T=y.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(h,m.sibling),m=o(m,y.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=Pl(y,h.mode,S),m.return=h,h=m}return s(h);case Jt:return T=y._init,C(h,m,T(y._payload),S)}if(mo(y))return g(h,m,y,S);if(eo(y))return v(h,m,y,S);Ni(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(h,m.sibling),m=o(m,y),m.return=h,h=m):(n(h,m),m=$l(y,h.mode,S),m.return=h,h=m),s(h)):n(h,m)}return C}var Or=lh(!0),ah=lh(!1),gs=En(null),ys=null,_r=null,Iu=null;function Tu(){Iu=_r=ys=null}function bu(e){var t=gs.current;ue(gs),e._currentValue=t}function ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){ys=e,Iu=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Iu!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(ys===null)throw Error(U(308));_r=e,ys.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Dn=null;function zu(e){Dn===null?Dn=[e]:Dn.push(e)}function uh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,zu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Wt(e,n)}return o=r.interleaved,o===null?(t.next=t,zu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Wt(e,n)}function Vi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vu(e,n)}}function ud(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vs(e,t,n,r){var o=e.updateQueue;en=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=o.baseState;s=0,c=u=a=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(f=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=pe({},d,f);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Kn|=s,e.lanes=s,e.memoizedState=d}}function cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var ui={},It=En(ui),Bo=En(ui),Vo=En(ui);function jn(e){if(e===ui)throw Error(U(174));return e}function $u(e,t){switch(se(Vo,t),se(Bo,e),se(It,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oa(t,e)}ue(It),se(It,t)}function Lr(){ue(It),ue(Bo),ue(Vo)}function dh(e){jn(Vo.current);var t=jn(It.current),n=oa(t,e.type);t!==n&&(se(Bo,e),se(It,n))}function Pu(e){Bo.current===e&&(ue(It),ue(Bo))}var de=En(0);function xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Du(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Gi=qt.ReactCurrentDispatcher,Il=qt.ReactCurrentBatchConfig,Yn=0,fe=null,we=null,Ee=null,ws=!1,Ao=!1,Go=0,Ev=0;function Re(){throw Error(U(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function Ou(e,t,n,r,o,i){if(Yn=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gi.current=e===null||e.memoizedState===null?Av:Mv,e=n(r,o),Ao){i=0;do{if(Ao=!1,Go=0,25<=i)throw Error(U(301));i+=1,Ee=we=null,t.updateQueue=null,Gi.current=Iv,e=n(r,o)}while(Ao)}if(Gi.current=Ss,t=we!==null&&we.next!==null,Yn=0,Ee=we=fe=null,ws=!1,t)throw Error(U(300));return e}function Lu(){var e=Go!==0;return Go=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?fe.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ft(){if(we===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ee===null?fe.memoizedState:Ee.next;if(t!==null)Ee=t,we=e;else{if(e===null)throw Error(U(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ee===null?fe.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Wo(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=ft(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Yn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,fe.lanes|=c,Kn|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,_t(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,fe.lanes|=i,Kn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bl(e){var t=ft(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);_t(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function fh(){}function ph(e,t){var n=fe,r=ft(),o=t(),i=!_t(r.memoizedState,o);if(i&&(r.memoizedState=o,Ge=!0),r=r.queue,Fu(gh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Yo(9,mh.bind(null,n,r,o,t),void 0,null),ke===null)throw Error(U(349));Yn&30||hh(n,t,o)}return o}function hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mh(e,t,n,r){t.value=n,t.getSnapshot=r,yh(t)&&vh(e)}function gh(e,t,n){return n(function(){yh(t)&&vh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function vh(e){var t=Wt(e,1);t!==null&&St(t,e,1,-1)}function dd(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Cv.bind(null,fe,e),[t.memoizedState,e]}function Yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xh(){return ft().memoizedState}function Wi(e,t,n,r){var o=Ct();fe.flags|=e,o.memoizedState=Yo(1|t,n,void 0,r===void 0?null:r)}function Us(e,t,n,r){var o=ft();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&ju(r,s.deps)){o.memoizedState=Yo(t,n,i,r);return}}fe.flags|=e,o.memoizedState=Yo(1|t,n,i,r)}function fd(e,t){return Wi(8390656,8,e,t)}function Fu(e,t){return Us(2048,8,e,t)}function wh(e,t){return Us(4,2,e,t)}function Sh(e,t){return Us(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,n){return n=n!=null?n.concat([e]):null,Us(4,4,_h.bind(null,t,e),n)}function Hu(){}function kh(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nh(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ch(e,t,n){return Yn&21?(_t(n,t)||(n=bp(),fe.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function kv(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),t()}finally{oe=n,Il.transition=r}}function Ah(){return ft().memoizedState}function Nv(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mh(e))Ih(t,n);else if(n=uh(e,t,n,r),n!==null){var o=He();St(n,e,r,o),Th(n,t,r)}}function Cv(e,t,n){var r=gn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mh(e))Ih(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,_t(l,s)){var a=t.interleaved;a===null?(o.next=o,zu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=uh(e,t,o,r),n!==null&&(o=He(),St(n,e,r,o),Th(n,t,r))}}function Mh(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ih(e,t){Ao=ws=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Th(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vu(e,n)}}var Ss={readContext:dt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Av={readContext:dt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:fd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wi(4194308,4,_h.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nv.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:dd,useDebugValue:Hu,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=dd(!1),t=e[0];return e=kv.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,o=Ct();if(ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ke===null)throw Error(U(349));Yn&30||hh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,fd(gh.bind(null,r,i,e),[e]),r.flags|=2048,Yo(9,mh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=ke.identifierPrefix;if(ce){var n=Ft,r=Lt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ev++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mv={readContext:dt,useCallback:kh,useContext:dt,useEffect:Fu,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Nh,useReducer:Tl,useRef:xh,useState:function(){return Tl(Wo)},useDebugValue:Hu,useDeferredValue:function(e){var t=ft();return Ch(t,we.memoizedState,e)},useTransition:function(){var e=Tl(Wo)[0],t=ft().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:ph,useId:Ah,unstable_isNewReconciler:!1},Iv={readContext:dt,useCallback:kh,useContext:dt,useEffect:Fu,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Nh,useReducer:bl,useRef:xh,useState:function(){return bl(Wo)},useDebugValue:Hu,useDeferredValue:function(e){var t=ft();return we===null?t.memoizedState=e:Ch(t,we.memoizedState,e)},useTransition:function(){var e=bl(Wo)[0],t=ft().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:ph,useId:Ah,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Na(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),o=gn(e),i=Ut(r,o);i.payload=t,n!=null&&(i.callback=n),t=hn(e,i,o),t!==null&&(St(t,e,o,r),Vi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),o=gn(e),i=Ut(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=hn(e,i,o),t!==null&&(St(t,e,o,r),Vi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=gn(e),o=Ut(n,r);o.tag=2,t!=null&&(o.callback=t),t=hn(e,o,r),t!==null&&(St(t,e,r,n),Vi(t,e,r))}};function pd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Lo(n,r)||!Lo(o,i):!0}function bh(e,t,n){var r=!1,o=Sn,i=t.contextType;return typeof i=="object"&&i!==null?i=dt(i):(o=Ke(t)?Gn:je.current,r=t.contextTypes,i=(r=r!=null)?Dr(e,o):Sn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function hd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Ca(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ru(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=dt(i):(i=Ke(t)?Gn:je.current,o.context=Dr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Na(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Bs.enqueueReplaceState(o,o.state,null),vs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=ry(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tv=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Es||(Es=!0,ja=r),Aa(e,t)},n}function Rh(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Aa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Aa(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function md(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Vv.bind(null,e,t,n),t.then(e,e))}function gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var bv=qt.ReactCurrentOwner,Ge=!1;function Fe(e,t,n,r){t.child=e===null?ah(t,null,n,r):Or(t,e.child,n,r)}function vd(e,t,n,r,o){n=n.render;var i=t.ref;return Tr(t,o),r=Ou(e,t,n,r,i,o),n=Lu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(ce&&n&&Cu(t),t.flags|=1,Fe(e,t,r,o),t.child)}function xd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Xu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$h(e,t,i,r,o)):(e=qi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(s,r)&&e.ref===t.ref)return Yt(e,t,o)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Lo(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Yt(e,t,o)}return Ma(e,t,n,r,o)}function Ph(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(kr,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(kr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(kr,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(kr,Qe),Qe|=r;return Fe(e,t,o,n),t.child}function Dh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,o){var i=Ke(n)?Gn:je.current;return i=Dr(t,i),Tr(t,o),n=Ou(e,t,n,r,i,o),r=Lu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(ce&&r&&Cu(t),t.flags|=1,Fe(e,t,n,o),t.child)}function wd(e,t,n,r,o){if(Ke(n)){var i=!0;ps(t)}else i=!1;if(Tr(t,o),t.stateNode===null)Yi(e,t),bh(t,n,r),Ca(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Ke(n)?Gn:je.current,u=Dr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&hd(t,s,r,u),en=!1;var f=t.memoizedState;s.state=f,vs(t,r,s,o),a=t.memoizedState,l!==r||f!==a||Ye.current||en?(typeof c=="function"&&(Na(t,n,c,r),a=t.memoizedState),(l=en||pd(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ch(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:mt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=dt(a):(a=Ke(n)?Gn:je.current,a=Dr(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&hd(t,s,r,a),en=!1,f=t.memoizedState,s.state=f,vs(t,r,s,o);var g=t.memoizedState;l!==d||f!==g||Ye.current||en?(typeof p=="function"&&(Na(t,n,p,r),g=t.memoizedState),(u=en||pd(t,n,u,r,f,g,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,i,o)}function Ia(e,t,n,r,o,i){Dh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&id(t,n,!1),Yt(e,t,i);r=t.stateNode,bv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Or(t,e.child,null,i),t.child=Or(t,null,l,i)):Fe(e,t,l,i),t.memoizedState=r.state,o&&id(t,n,!0),t.child}function jh(e){var t=e.stateNode;t.pendingContext?od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&od(e,t.context,!1),$u(e,t.containerInfo)}function Sd(e,t,n,r,o){return jr(),Mu(o),t.flags|=256,Fe(e,t,n,r),t.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oh(e,t,n){var r=t.pendingProps,o=de.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),se(de,o&1),e===null)return Ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ws(s,r,0,null),e=Hn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ba(n),t.memoizedState=Ta,e):Uu(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return zv(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=yn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=yn(l,i):(i=Hn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?ba(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ta,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Uu(e,t){return t=Ws({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ci(e,t,n,r){return r!==null&&Mu(r),Or(t,e.child,null,n),e=Uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zv(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=zl(Error(U(422))),Ci(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ws({mode:"visible",children:r.children},o,0,null),i=Hn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Or(t,e.child,null,s),t.child.memoizedState=ba(s),t.memoizedState=Ta,i);if(!(t.mode&1))return Ci(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=zl(i,r,void 0),Ci(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ge||l){if(r=ke,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Wt(e,o),St(r,e,o,-1))}return Ku(),r=zl(Error(U(421))),Ci(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Gv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ze=pn(o.nextSibling),Je=t,ce=!0,vt=null,e!==null&&(ot[it++]=Lt,ot[it++]=Ft,ot[it++]=Wn,Lt=e.id,Ft=e.overflow,Wn=t),t=Uu(t,r.children),t.flags|=4096,t)}function _d(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ka(e.return,t,n)}function Rl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Lh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_d(e,n,t);else if(e.tag===19)_d(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rl(t,!0,n,null,i);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rv(e,t,n){switch(t.tag){case 3:jh(t),jr();break;case 5:dh(t);break;case 1:Ke(t.type)&&ps(t);break;case 4:$u(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;se(gs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?Oh(e,t,n):(se(de,de.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Lh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,Ph(e,t,n)}return Yt(e,t,n)}var Fh,za,Hh,Uh;Fh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};za=function(){};Hh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,jn(It.current);var i=null;switch(n){case"input":o=ea(e,o),r=ea(e,r),i=[];break;case"select":o=pe({},o,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":o=ra(e,o),r=ra(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ds)}ia(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Uh=function(e,t,n,r){n!==r&&(t.flags|=4)};function so(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $v(e,t,n){var r=t.pendingProps;switch(Au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Ke(t.type)&&fs(),$e(t),null;case 3:return r=t.stateNode,Lr(),ue(Ye),ue(je),Du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(Fa(vt),vt=null))),za(e,t),$e(t),null;case 5:Pu(t);var o=jn(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)Hh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return $e(t),null}if(e=jn(It.current),ki(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[At]=t,r[Uo]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<yo.length;o++)ae(yo[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":bc(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Rc(r,i),ae("invalid",r)}ia(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ei(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ei(r.textContent,l,e),o=["children",""+l]):zo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":mi(r),zc(r,i,!0);break;case"textarea":mi(r),$c(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ds)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[At]=t,e[Uo]=r,Fh(e,t,!1,!1),t.stateNode=e;e:{switch(s=sa(n,r),n){case"dialog":ae("cancel",e),ae("close",e),o=r;break;case"iframe":case"object":case"embed":ae("load",e),o=r;break;case"video":case"audio":for(o=0;o<yo.length;o++)ae(yo[o],e);o=r;break;case"source":ae("error",e),o=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),o=r;break;case"details":ae("toggle",e),o=r;break;case"input":bc(e,r),o=ea(e,r),ae("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pe({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Rc(e,r),o=ra(e,r),ae("invalid",e);break;default:o=r}ia(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?xp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&yp(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ro(e,a):typeof a=="number"&&Ro(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zo.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ae("scroll",e):a!=null&&fu(e,i,a,s))}switch(n){case"input":mi(e),zc(e,r,!1);break;case"textarea":mi(e),$c(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Cr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Uh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=jn(Vo.current),jn(It.current),ki(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ei(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return $e(t),null;case 13:if(ue(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ze!==null&&t.mode&1&&!(t.flags&128))sh(),jr(),t.flags|=98560,i=!1;else if(i=ki(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[At]=t}else jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else vt!==null&&(Fa(vt),vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Se===0&&(Se=3):Ku())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Lr(),za(e,t),e===null&&Fo(t.stateNode.containerInfo),$e(t),null;case 10:return bu(t.type._context),$e(t),null;case 17:return Ke(t.type)&&fs(),$e(t),null;case 19:if(ue(de),i=t.memoizedState,i===null)return $e(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)so(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=xs(e),s!==null){for(t.flags|=128,so(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Hr&&(t.flags|=128,r=!0,so(i,!1),t.lanes=4194304)}else{if(!r)if(e=xs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),so(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return $e(t),null}else 2*ye()-i.renderingStartTime>Hr&&n!==1073741824&&(t.flags|=128,r=!0,so(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=de.current,se(de,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Yu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Pv(e,t){switch(Au(t),t.tag){case 1:return Ke(t.type)&&fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),ue(Ye),ue(je),Du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pu(t),null;case 13:if(ue(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(de),null;case 4:return Lr(),null;case 10:return bu(t.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var Ai=!1,Pe=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,W=null;function Er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Ra(e,t,n){try{n()}catch(r){he(e,t,r)}}var Ed=!1;function jv(e,t){if(ga=as,e=Yp(),Nu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(l=s+o),d!==i||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++c===r&&(a=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ya={focusedElem:e,selectionRange:n},as=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,C=g.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:mt(t.type,v),C);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){he(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return g=Ed,Ed=!1,g}function Mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ra(t,n,i)}o=o.next}while(o!==r)}}function Vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Uo],delete t[wa],delete t[xv],delete t[wv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function kd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ds));else if(r!==4&&(e=e.child,e!==null))for(Pa(e,t,n),e=e.sibling;e!==null;)Pa(e,t,n),e=e.sibling}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}var Ae=null,gt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Gh(e,t,n),n=n.sibling}function Gh(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 5:Pe||Er(n,t);case 6:var r=Ae,o=gt;Ae=null,Qt(e,t,n),Ae=r,gt=o,Ae!==null&&(gt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(gt?(e=Ae,n=n.stateNode,e.nodeType===8?Cl(e.parentNode,n):e.nodeType===1&&Cl(e,n),jo(e)):Cl(Ae,n.stateNode));break;case 4:r=Ae,o=gt,Ae=n.stateNode.containerInfo,gt=!0,Qt(e,t,n),Ae=r,gt=o;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ra(n,t,s),o=o.next}while(o!==r)}Qt(e,t,n);break;case 1:if(!Pe&&(Er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){he(n,t,l)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Qt(e,t,n),Pe=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function Nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dv),t.forEach(function(r){var o=Wv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,gt=!1;break e;case 3:Ae=l.stateNode.containerInfo,gt=!0;break e;case 4:Ae=l.stateNode.containerInfo,gt=!0;break e}l=l.return}if(Ae===null)throw Error(U(160));Gh(i,s,o),Ae=null,gt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){he(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wh(t,e),t=t.sibling}function Wh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),Nt(e),r&4){try{Mo(3,e,e.return),Vs(3,e)}catch(v){he(e,e.return,v)}try{Mo(5,e,e.return)}catch(v){he(e,e.return,v)}}break;case 1:ht(t,e),Nt(e),r&512&&n!==null&&Er(n,n.return);break;case 5:if(ht(t,e),Nt(e),r&512&&n!==null&&Er(n,n.return),e.flags&32){var o=e.stateNode;try{Ro(o,"")}catch(v){he(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hp(o,i),sa(l,s);var u=sa(l,i);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?xp(o,d):c==="dangerouslySetInnerHTML"?yp(o,d):c==="children"?Ro(o,d):fu(o,c,d,u)}switch(l){case"input":ta(o,i);break;case"textarea":mp(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cr(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cr(o,!!i.multiple,i.defaultValue,!0):Cr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Uo]=i}catch(v){he(e,e.return,v)}}break;case 6:if(ht(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(U(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){he(e,e.return,v)}}break;case 3:if(ht(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jo(t.containerInfo)}catch(v){he(e,e.return,v)}break;case 4:ht(t,e),Nt(e);break;case 13:ht(t,e),Nt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Gu=ye())),r&4&&Nd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||c,ht(t,e),Pe=u):ht(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:Mo(4,f,f.return);break;case 1:Er(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){he(r,n,v)}}break;case 5:Er(f,f.return);break;case 22:if(f.memoizedState!==null){Ad(d);continue}}p!==null?(p.return=f,W=p):Ad(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vp("display",s))}catch(v){he(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){he(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ht(t,e),Nt(e),r&4&&Nd(e);break;case 21:break;default:ht(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vh(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var i=kd(e);Da(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=kd(e);Pa(e,l,s);break;default:throw Error(U(161))}}catch(a){he(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ov(e,t,n){W=e,Yh(e)}function Yh(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Ai;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Pe;l=Ai;var u=Pe;if(Ai=s,(Pe=a)&&!u)for(W=o;W!==null;)s=W,a=s.child,s.tag===22&&s.memoizedState!==null?Md(o):a!==null?(a.return=s,W=a):Md(o);for(;i!==null;)W=i,Yh(i),i=i.sibling;W=o,Ai=l,Pe=u}Cd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,W=i):Cd(e)}}function Cd(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Vs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&jo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Pe||t.flags&512&&$a(t)}catch(f){he(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Ad(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Md(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vs(4,t)}catch(a){he(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){he(t,o,a)}}var i=t.return;try{$a(t)}catch(a){he(t,i,a)}break;case 5:var s=t.return;try{$a(t)}catch(a){he(t,s,a)}}}catch(a){he(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Lv=Math.ceil,_s=qt.ReactCurrentDispatcher,Bu=qt.ReactCurrentOwner,ut=qt.ReactCurrentBatchConfig,te=0,ke=null,ve=null,Me=0,Qe=0,kr=En(0),Se=0,Ko=null,Kn=0,Gs=0,Vu=0,Io=null,Ve=null,Gu=0,Hr=1/0,Dt=null,Es=!1,ja=null,mn=null,Mi=!1,an=null,ks=0,To=0,Oa=null,Ki=-1,Xi=0;function He(){return te&6?ye():Ki!==-1?Ki:Ki=ye()}function gn(e){return e.mode&1?te&2&&Me!==0?Me&-Me:_v.transition!==null?(Xi===0&&(Xi=bp()),Xi):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Op(e.type)),e):1}function St(e,t,n,r){if(50<To)throw To=0,Oa=null,Error(U(185));si(e,n,r),(!(te&2)||e!==ke)&&(e===ke&&(!(te&2)&&(Gs|=n),Se===4&&sn(e,Me)),Xe(e,r),n===1&&te===0&&!(t.mode&1)&&(Hr=ye()+500,Hs&&kn()))}function Xe(e,t){var n=e.callbackNode;_y(e,t);var r=ls(e,e===ke?Me:0);if(r===0)n!==null&&jc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jc(n),t===1)e.tag===0?Sv(Id.bind(null,e)):rh(Id.bind(null,e)),yv(function(){!(te&6)&&kn()}),n=null;else{switch(zp(r)){case 1:n=yu;break;case 4:n=Ip;break;case 16:n=ss;break;case 536870912:n=Tp;break;default:n=ss}n=tm(n,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kh(e,t){if(Ki=-1,Xi=0,te&6)throw Error(U(327));var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var r=ls(e,e===ke?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ns(e,r);else{t=r;var o=te;te|=2;var i=qh();(ke!==e||Me!==t)&&(Dt=null,Hr=ye()+500,Fn(e,t));do try{Uv();break}catch(l){Xh(e,l)}while(!0);Tu(),_s.current=i,te=o,ve!==null?t=0:(ke=null,Me=0,t=Se)}if(t!==0){if(t===2&&(o=da(e),o!==0&&(r=o,t=La(e,o))),t===1)throw n=Ko,Fn(e,0),sn(e,r),Xe(e,ye()),n;if(t===6)sn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Fv(o)&&(t=Ns(e,r),t===2&&(i=da(e),i!==0&&(r=i,t=La(e,i))),t===1))throw n=Ko,Fn(e,0),sn(e,r),Xe(e,ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:zn(e,Ve,Dt);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=Gu+500-ye(),10<t)){if(ls(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=xa(zn.bind(null,e,Ve,Dt),t);break}zn(e,Ve,Dt);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-wt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lv(r/1960))-r,10<r){e.timeoutHandle=xa(zn.bind(null,e,Ve,Dt),r);break}zn(e,Ve,Dt);break;case 5:zn(e,Ve,Dt);break;default:throw Error(U(329))}}}return Xe(e,ye()),e.callbackNode===n?Kh.bind(null,e):null}function La(e,t){var n=Io;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=Ns(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Fa(t)),e}function Fa(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Fv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!_t(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Vu,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Id(e){if(te&6)throw Error(U(327));br();var t=ls(e,0);if(!(t&1))return Xe(e,ye()),null;var n=Ns(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=La(e,r))}if(n===1)throw n=Ko,Fn(e,0),sn(e,t),Xe(e,ye()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,Ve,Dt),Xe(e,ye()),null}function Wu(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Hr=ye()+500,Hs&&kn())}}function Xn(e){an!==null&&an.tag===0&&!(te&6)&&br();var t=te;te|=1;var n=ut.transition,r=oe;try{if(ut.transition=null,oe=1,e)return e()}finally{oe=r,ut.transition=n,te=t,!(te&6)&&kn()}}function Yu(){Qe=kr.current,ue(kr)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gv(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Au(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fs();break;case 3:Lr(),ue(Ye),ue(je),Du();break;case 5:Pu(r);break;case 4:Lr();break;case 13:ue(de);break;case 19:ue(de);break;case 10:bu(r.type._context);break;case 22:case 23:Yu()}n=n.return}if(ke=e,ve=e=yn(e.current,null),Me=Qe=t,Se=0,Ko=null,Vu=Gs=Kn=0,Ve=Io=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Dn=null}return e}function Xh(e,t){do{var n=ve;try{if(Tu(),Gi.current=Ss,ws){for(var r=fe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ws=!1}if(Yn=0,Ee=we=fe=null,Ao=!1,Go=0,Bu.current=null,n===null||n.return===null){Se=1,Ko=t,ve=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gd(s);if(p!==null){p.flags&=-257,yd(p,s,l,i,t),p.mode&1&&md(i,u,t),t=p,a=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break e}else{if(!(t&1)){md(i,u,t),Ku();break e}a=Error(U(426))}}else if(ce&&l.mode&1){var C=gd(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),yd(C,s,l,i,t),Mu(Fr(a,l));break e}}i=a=Fr(a,l),Se!==4&&(Se=2),Io===null?Io=[i]:Io.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=zh(i,a,t);ud(i,h);break e;case 1:l=a;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Rh(i,l,t);ud(i,S);break e}}i=i.return}while(i!==null)}Zh(n)}catch(A){t=A,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function qh(){var e=_s.current;return _s.current=Ss,e===null?Ss:e}function Ku(){(Se===0||Se===3||Se===2)&&(Se=4),ke===null||!(Kn&268435455)&&!(Gs&268435455)||sn(ke,Me)}function Ns(e,t){var n=te;te|=2;var r=qh();(ke!==e||Me!==t)&&(Dt=null,Fn(e,t));do try{Hv();break}catch(o){Xh(e,o)}while(!0);if(Tu(),te=n,_s.current=r,ve!==null)throw Error(U(261));return ke=null,Me=0,Se}function Hv(){for(;ve!==null;)Qh(ve)}function Uv(){for(;ve!==null&&!py();)Qh(ve)}function Qh(e){var t=em(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?Zh(e):ve=t,Bu.current=null}function Zh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pv(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,ve=null;return}}else if(n=$v(n,t,Qe),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Se===0&&(Se=5)}function zn(e,t,n){var r=oe,o=ut.transition;try{ut.transition=null,oe=1,Bv(e,t,n,r)}finally{ut.transition=o,oe=r}return null}function Bv(e,t,n,r){do br();while(an!==null);if(te&6)throw Error(U(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ey(e,i),e===ke&&(ve=ke=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mi||(Mi=!0,tm(ss,function(){return br(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var s=oe;oe=1;var l=te;te|=4,Bu.current=null,jv(e,n),Wh(n,e),uv(ya),as=!!ga,ya=ga=null,e.current=n,Ov(n),hy(),te=l,oe=s,ut.transition=i}else e.current=n;if(Mi&&(Mi=!1,an=e,ks=o),i=e.pendingLanes,i===0&&(mn=null),yy(n.stateNode),Xe(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Es)throw Es=!1,e=ja,ja=null,e;return ks&1&&e.tag!==0&&br(),i=e.pendingLanes,i&1?e===Oa?To++:(To=0,Oa=e):To=0,kn(),null}function br(){if(an!==null){var e=zp(ks),t=ut.transition,n=oe;try{if(ut.transition=null,oe=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,ks=0,te&6)throw Error(U(331));var o=te;for(te|=4,W=e.current;W!==null;){var i=W,s=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Mo(8,c,i)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,p=c.return;if(Bh(c),c===u){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,W=s;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mo(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,W=h;break e}W=i.return}}var m=e.current;for(W=m;W!==null;){s=W;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,W=y;else e:for(s=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vs(9,l)}}catch(A){he(l,l.return,A)}if(l===s){W=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,W=S;break e}W=l.return}}if(te=o,kn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ds,e)}catch{}r=!0}return r}finally{oe=n,ut.transition=t}}return!1}function Td(e,t,n){t=Fr(n,t),t=zh(e,t,1),e=hn(e,t,1),t=He(),e!==null&&(si(e,1,t),Xe(e,t))}function he(e,t,n){if(e.tag===3)Td(e,e,n);else for(;t!==null;){if(t.tag===3){Td(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=Fr(n,e),e=Rh(t,e,1),t=hn(t,e,1),e=He(),t!==null&&(si(t,1,e),Xe(t,e));break}}t=t.return}}function Vv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Me&n)===n&&(Se===4||Se===3&&(Me&130023424)===Me&&500>ye()-Gu?Fn(e,0):Vu|=n),Xe(e,t)}function Jh(e,t){t===0&&(e.mode&1?(t=vi,vi<<=1,!(vi&130023424)&&(vi=4194304)):t=1);var n=He();e=Wt(e,t),e!==null&&(si(e,t,n),Xe(e,n))}function Gv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jh(e,n)}function Wv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Jh(e,n)}var em;em=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,Rv(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ce&&t.flags&1048576&&oh(t,ms,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yi(e,t),e=t.pendingProps;var o=Dr(t,je.current);Tr(t,n),o=Ou(null,t,r,e,o,n);var i=Lu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,ps(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ru(t),o.updater=Bs,t.stateNode=o,o._reactInternals=t,Ca(t,r,e,n),t=Ia(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&Cu(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Kv(r),e=mt(r,e),o){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=wd(null,t,r,e,n);break e;case 11:t=vd(null,t,r,e,n);break e;case 14:t=xd(null,t,r,mt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),Ma(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),wd(e,t,r,o,n);case 3:e:{if(jh(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,o=i.element,ch(e,t),vs(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Fr(Error(U(423)),t),t=Sd(e,t,r,n,o);break e}else if(r!==o){o=Fr(Error(U(424)),t),t=Sd(e,t,r,n,o);break e}else for(Ze=pn(t.stateNode.containerInfo.firstChild),Je=t,ce=!0,vt=null,n=ah(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),r===o){t=Yt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return dh(t),e===null&&Ea(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,va(r,o)?s=null:i!==null&&va(r,i)&&(t.flags|=32),Dh(e,t),Fe(e,t,s,n),t.child;case 6:return e===null&&Ea(t),null;case 13:return Oh(e,t,n);case 4:return $u(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Or(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),vd(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,se(gs,r._currentValue),r._currentValue=s,i!==null)if(_t(i.value,s)){if(i.children===o.children&&!Ye.current){t=Yt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Ut(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ka(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(U(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ka(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Tr(t,n),o=dt(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=mt(r,t.pendingProps),o=mt(r.type,o),xd(e,t,r,o,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mt(r,o),Yi(e,t),t.tag=1,Ke(r)?(e=!0,ps(t)):e=!1,Tr(t,n),bh(t,r,o),Ca(t,r,o,n),Ia(null,t,r,!0,e,n);case 19:return Lh(e,t,n);case 22:return Ph(e,t,n)}throw Error(U(156,t.tag))};function tm(e,t){return Mp(e,t)}function Yv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new Yv(e,t,n,r)}function Xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kv(e){if(typeof e=="function")return Xu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hu)return 11;if(e===mu)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Xu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case hr:return Hn(n.children,o,i,t);case pu:s=8,o|=8;break;case ql:return e=lt(12,n,t,o|2),e.elementType=ql,e.lanes=i,e;case Ql:return e=lt(13,n,t,o),e.elementType=Ql,e.lanes=i,e;case Zl:return e=lt(19,n,t,o),e.elementType=Zl,e.lanes=i,e;case dp:return Ws(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case up:s=10;break e;case cp:s=9;break e;case hu:s=11;break e;case mu:s=14;break e;case Jt:s=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=lt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Hn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function Ws(e,t,n,r){return e=lt(22,e,r,t),e.elementType=dp,e.lanes=n,e.stateNode={isHidden:!1},e}function $l(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Pl(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r,o,i,s,l,a){return e=new Xv(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(i),e}function qv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nm(e){if(!e)return Sn;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ke(n))return nh(e,n,t)}return t}function rm(e,t,n,r,o,i,s,l,a){return e=qu(n,r,!0,e,o,i,s,l,a),e.context=nm(null),n=e.current,r=He(),o=gn(n),i=Ut(r,o),i.callback=t??null,hn(n,i,o),e.current.lanes=o,si(e,o,r),Xe(e,r),e}function Ys(e,t,n,r){var o=t.current,i=He(),s=gn(o);return n=nm(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(o,t,s),e!==null&&(St(e,o,s,i),Vi(e,o,s)),s}function Cs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qu(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function Qv(){return null}var om=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}Ks.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Ys(e,t,null,null)};Ks.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Ys(null,e,null,null)}),t[Gt]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&jp(e)}};function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zd(){}function Zv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Cs(s);i.call(u)}}var s=rm(t,r,e,0,null,!1,!1,"",zd);return e._reactRootContainer=s,e[Gt]=s.current,Fo(e.nodeType===8?e.parentNode:e),Xn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Cs(a);l.call(u)}}var a=qu(e,0,!1,null,null,!1,!1,"",zd);return e._reactRootContainer=a,e[Gt]=a.current,Fo(e.nodeType===8?e.parentNode:e),Xn(function(){Ys(t,a,n,r)}),a}function qs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Cs(s);l.call(a)}}Ys(t,s,e,o)}else s=Zv(n,t,e,o,r);return Cs(s)}Rp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=go(t.pendingLanes);n!==0&&(vu(t,n|1),Xe(t,ye()),!(te&6)&&(Hr=ye()+500,kn()))}break;case 13:Xn(function(){var r=Wt(e,1);if(r!==null){var o=He();St(r,e,1,o)}}),Qu(e,1)}};xu=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=He();St(t,e,134217728,n)}Qu(e,134217728)}};$p=function(e){if(e.tag===13){var t=gn(e),n=Wt(e,t);if(n!==null){var r=He();St(n,e,t,r)}Qu(e,t)}};Pp=function(){return oe};Dp=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};aa=function(e,t,n){switch(t){case"input":if(ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fs(r);if(!o)throw Error(U(90));pp(r),ta(r,o)}}}break;case"textarea":mp(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};_p=Wu;Ep=Xn;var Jv={usingClientEntryPoint:!1,Events:[ai,vr,Fs,wp,Sp,Wu]},lo={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e1={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cp(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||Qv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ii.isDisabled&&Ii.supportsFiber)try{Ds=Ii.inject(e1),Mt=Ii}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jv;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(t))throw Error(U(200));return qv(e,t,null,n)};nt.createRoot=function(e,t){if(!Ju(e))throw Error(U(299));var n=!1,r="",o=om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=qu(e,1,!1,null,null,n,!1,r,o),e[Gt]=t.current,Fo(e.nodeType===8?e.parentNode:e),new Zu(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Cp(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Xn(e)};nt.hydrate=function(e,t,n){if(!Xs(t))throw Error(U(200));return qs(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=om;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=rm(t,null,e,1,n??null,o,!1,i,s),e[Gt]=t.current,Fo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ks(t)};nt.render=function(e,t,n){if(!Xs(t))throw Error(U(200));return qs(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Xs(e))throw Error(U(40));return e._reactRootContainer?(Xn(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};nt.unstable_batchedUpdates=Wu;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xs(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return qs(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(e){console.error(e)}}im(),ip.exports=nt;var t1=ip.exports,sm,Rd=t1;sm=Rd.createRoot,Rd.hydrateRoot;var $d;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})($d||($d={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Pd||(Pd={}));var Dd;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Dd||(Dd={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=["user","model","function","system"];var Od;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Od||(Od={}));var Ld;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Ld||(Ld={}));var Fd;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Fd||(Fd={}));var Hd;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Hd||(Hd={}));var bo;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(bo||(bo={}));var Ud;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Ud||(Ud={}));var Bd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Bd||(Bd={}));var Vd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Vd||(Vd={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class lr extends De{constructor(t,n){super(t),this.response=n}}class lm extends De{constructor(t,n,r,o){super(t),this.status=n,this.statusText=r,this.errorDetails=o}}class vn extends De{}class am extends De{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="https://generativelanguage.googleapis.com",r1="v1beta",o1="0.24.1",i1="genai-js";var qn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(qn||(qn={}));class s1{constructor(t,n,r,o,i){this.model=t,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||r1;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||n1}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function l1(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${i1}/${o1}`),t.join(" ")}async function a1(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",l1(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new vn(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,i]of r.entries()){if(o==="x-goog-api-key")throw new vn(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new vn(`Header name ${o} can only be set using the apiClient field`);n.append(o,i)}}return n}async function u1(e,t,n,r,o,i){const s=new s1(e,t,n,r,i);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},p1(i)),{method:"POST",headers:await a1(s),body:o})}}async function ci(e,t,n,r,o,i={},s=fetch){const{url:l,fetchOptions:a}=await u1(e,t,n,r,o,i);return c1(l,a,s)}async function c1(e,t,n=fetch){let r;try{r=await n(e,t)}catch(o){d1(o,e)}return r.ok||await f1(r,e),r}function d1(e,t){let n=e;throw n.name==="AbortError"?(n=new am(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof lm||e instanceof vn||(n=new De(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function f1(e,t){let n="",r;try{const o=await e.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new lm(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function p1(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Qi(e.candidates[0]))throw new lr(`${tn(e)}`,e);return h1(e)}else if(e.promptFeedback)throw new lr(`Text not available. ${tn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Qi(e.candidates[0]))throw new lr(`${tn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Gd(e)[0]}else if(e.promptFeedback)throw new lr(`Function call not available. ${tn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Qi(e.candidates[0]))throw new lr(`${tn(e)}`,e);return Gd(e)}else if(e.promptFeedback)throw new lr(`Function call not available. ${tn(e)}`,e)},e}function h1(e){var t,n,r,o;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const s of(o=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)s.text&&i.push(s.text),s.executableCode&&i.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&i.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Gd(e){var t,n,r,o;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const s of(o=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)s.functionCall&&i.push(s.functionCall);if(i.length>0)return i}const m1=[bo.RECITATION,bo.SAFETY,bo.LANGUAGE];function Qi(e){return!!e.finishReason&&m1.includes(e.finishReason)}function tn(e){var t,n,r;let o="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)o+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];Qi(i)&&(o+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(o+=`: ${i.finishMessage}`))}return o}function Xo(e){return this instanceof Xo?(this.v=e,this):new Xo(e)}function g1(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(f){r[f]&&(o[f]=function(p){return new Promise(function(g,v){i.push([f,p,g,v])>1||l(f,p)})})}function l(f,p){try{a(r[f](p))}catch(g){d(i[0][3],g)}}function a(f){f.value instanceof Xo?Promise.resolve(f.value.v).then(u,c):d(i[0][2],f)}function u(f){l("next",f)}function c(f){l("throw",f)}function d(f,p){f(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function y1(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=w1(t),[r,o]=n.tee();return{stream:x1(r),response:v1(o)}}async function v1(e){const t=[],n=e.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return ec(S1(t));t.push(o)}}function x1(e){return g1(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:o}=yield Xo(n.read());if(o)break;yield yield Xo(ec(r))}})}function w1(e){const t=e.getReader();return new ReadableStream({start(r){let o="";return i();function i(){return t.read().then(({value:s,done:l})=>{if(l){if(o.trim()){r.error(new De("Failed to parse stream"));return}r.close();return}o+=s;let a=o.match(Wd),u;for(;a;){try{u=JSON.parse(a[1])}catch{r.error(new De(`Error parsing JSON response: "${a[1]}"`));return}r.enqueue(u),o=o.substring(a[0].length),a=o.match(Wd)}return i()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new am("Request aborted when reading from the stream"):l=new De("Error reading from the stream"),l})}}})}function S1(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let o=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=i.citationMetadata,n.candidates[o].groundingMetadata=i.groundingMetadata,n.candidates[o].finishReason=i.finishReason,n.candidates[o].finishMessage=i.finishMessage,n.candidates[o].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[o].content||(n.candidates[o].content={role:i.content.role||"user",parts:[]});const s={};for(const l of i.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[o].content.parts.push(s)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(e,t,n,r){const o=await ci(t,qn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return y1(o)}async function cm(e,t,n,r){const i=await(await ci(t,qn.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:ec(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function qo(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return _1(t)}function _1(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),o=!0):(t.parts.push(i),r=!0);if(r&&o)throw new De("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new De("No content is provided for sending chat message.");return r?t:n}function E1(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=e.generateContentRequest!=null;if(e.contents){if(o)throw new vn("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(o)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=qo(e);r.contents=[i]}return{generateContentRequest:r}}function Yd(e){let t;return e.contents?t=e:t={contents:[qo(e)]},e.systemInstruction&&(t.systemInstruction=dm(e.systemInstruction)),t}function k1(e){return typeof e=="string"||Array.isArray(e)?{content:qo(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],N1={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function C1(e){let t=!1;for(const n of e){const{role:r,parts:o}=n;if(!t&&r!=="user")throw new De(`First content should be with role 'user', got ${r}`);if(!jd.includes(r))throw new De(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(jd)}`);if(!Array.isArray(o))throw new De("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new De("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of o)for(const a of Kd)a in l&&(i[a]+=1);const s=N1[r];for(const l of Kd)if(!s.includes(l)&&i[l]>0)throw new De(`Content with role '${r}' can't contain '${l}' part`);t=!0}}function Xd(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="SILENT_ERROR";class A1{constructor(t,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(C1(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,o,i,s,l,a;await this._sendPromise;const u=qo(t),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>cm(this._apiKey,this.model,c,d)).then(p=>{var g;if(Xd(p.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(g=p.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(v)}else{const v=tn(p.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,f}async sendMessageStream(t,n={}){var r,o,i,s,l,a;await this._sendPromise;const u=qo(t),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(a=this.params)===null||a===void 0?void 0:a.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n),f=um(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(qd)}).then(p=>p.response).then(p=>{if(Xd(p)){this._history.push(u);const g=Object.assign({},p.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=tn(p);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==qd&&console.error(p)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(e,t,n,r){return(await ci(t,qn.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(e,t,n,r){return(await ci(t,qn.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function T1(e,t,n,r){const o=n.requests.map(s=>Object.assign(Object.assign({},s),{model:t}));return(await ci(t,qn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=dm(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const o=Yd(t),i=Object.assign(Object.assign({},this._requestOptions),n);return cm(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),i)}async generateContentStream(t,n={}){var r;const o=Yd(t),i=Object.assign(Object.assign({},this._requestOptions),n);return um(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),i)}startChat(t){var n;return new A1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=E1(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return M1(this.apiKey,this.model,r,o)}async embedContent(t,n={}){const r=k1(t),o=Object.assign(Object.assign({},this._requestOptions),n);return I1(this.apiKey,this.model,r,o)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return T1(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new De("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Qd(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new vn("Cached content must contain a `name` field.");if(!t.model)throw new vn("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const s of o)if(n!=null&&n[s]&&t[s]&&(n==null?void 0:n[s])!==t[s]){if(s==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,a=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===a)continue}throw new vn(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${t[s]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Qd(this.apiKey,i,r)}}class fm{constructor(t){ul(this,"genAI");ul(this,"model");if(!t||t.trim()==="")throw new Error("Google Gemini API key is required");try{this.genAI=new b1(t),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:.7,topP:.8,topK:40,maxOutputTokens:8192}})}catch(n){throw console.error("Failed to initialize Gemini API:",n),new Error("Failed to initialize Google Gemini API. Please check your API key.")}}async parseNaturalLanguageToInfrastructure(t){if(!this.model)throw new Error("Gemini model not initialized");const n=`
    You are an Azure infrastructure architect AI. Parse the following natural language description and convert it to a structured Azure infrastructure design.

    Description: "${t}"

    Please analyze this and return a JSON response with the following structure:
    {
      "description": "cleaned up description",
      "services": [
        {
          "id": "unique_id",
          "name": "Service Name",
          "type": "Azure.Service.Type",
          "category": "compute|database|storage|networking|security|ai|integration|analytics",
          "properties": {
            "tier": "Standard|Premium|Basic",
            "size": "S1|M1|L1",
            "region": "East US"
          },
          "position": { "x": 100, "y": 100 }
        }
      ],
      "connections": [
        {
          "id": "connection_id",
          "source": "source_service_id",
          "target": "target_service_id",
          "connectionType": "http|tcp|storage|database|messaging"
        }
      ],
      "resourceGroup": "rg-project-name",
      "region": "East US"
    }

    Common Azure services to consider:
    - Compute: App Service, Virtual Machines, AKS, Container Apps, Functions
    - Database: Azure SQL, Cosmos DB, PostgreSQL, MySQL, Redis Cache
    - Storage: Storage Account, Blob Storage, File Storage
    - Networking: Virtual Network, Load Balancer, Application Gateway
    - Security: Key Vault, Azure AD B2C
    - AI/ML: Azure OpenAI, Cognitive Services

    Position nodes logically with 250px spacing. Return only valid JSON.
    `;try{const i=(await(await this.model.generateContent(n)).response).text();console.log("Gemini API Response:",i);const s=i.match(/\{[\s\S]*\}/);if(!s)throw console.error("No valid JSON found in response:",i),new Error("Invalid response format from Gemini API");const l=JSON.parse(s[0]);return console.log("Parsed Infrastructure:",l),l}catch(r){throw console.error("Error parsing natural language:",r),r instanceof Error?r.message.includes("404")?new Error("API model not found. Please check your Gemini API key and try again."):r.message.includes("403")?new Error("API access denied. Please verify your Gemini API key has the correct permissions."):r.message.includes("429")?new Error("API rate limit exceeded. Please wait a moment and try again."):r.message.includes("Invalid response format")?new Error("Unable to parse AI response. Please try rephrasing your request."):new Error(`Failed to parse infrastructure requirements: ${r.message}`):new Error("Failed to parse infrastructure requirements")}}async generateInfrastructureCode(t){if(!this.model)throw new Error("Gemini model not initialized");try{const n=`Generate a complete ARM template for: ${JSON.stringify(t.services,null,2)}. Return only the JSON template.`,o=await(await this.model.generateContent(n)).response,i=`Generate Terraform HCL code for: ${JSON.stringify(t.services,null,2)}. Return only the HCL code.`,l=await(await this.model.generateContent(i)).response,a=`Generate Azure DevOps YAML pipeline for deploying: ${JSON.stringify(t.services,null,2)}. Return only the YAML.`,c=await(await this.model.generateContent(a)).response;return{armTemplate:this.cleanCodeResponse(o.text()),terraformCode:this.cleanCodeResponse(l.text()),yamlConfig:this.cleanCodeResponse(c.text())}}catch(n){throw console.error("Error generating infrastructure code:",n),new Error("Failed to generate infrastructure code")}}cleanCodeResponse(t){return t.replace(/```json\n?/g,"").replace(/```terraform\n?/g,"").replace(/```yaml\n?/g,"").replace(/```\n?/g,"").trim()}async optimizeInfrastructure(t){if(!this.model)throw new Error("Gemini model not initialized");const n=`
    Optimize this Azure infrastructure for cost, performance, and security:
    ${JSON.stringify(t,null,2)}

    Return the optimized infrastructure in the same JSON format with improvements.
    `;try{const s=(await(await this.model.generateContent(n)).response).text().match(/\{[\s\S]*\}/);if(!s)throw new Error("Invalid optimization response format");return JSON.parse(s[0])}catch(r){throw console.error("Error optimizing infrastructure:",r),new Error("Failed to optimize infrastructure")}}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zd=e=>{const t=R1(e);return t.charAt(0).toUpperCase()+t.slice(1)},pm=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),$1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...l},a)=>N.createElement("svg",{ref:a,...P1,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:pm("lucide",o),...!i&&!$1(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,c])=>N.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=N.forwardRef(({className:r,...o},i)=>N.createElement(D1,{ref:i,iconNode:t,className:pm(`lucide-${z1(Zd(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Zd(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],O1=re("bot",j1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Zi=re("brain",L1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dl=re("chart-column",F1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U1=re("chevron-down",H1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V1=re("chevron-right",B1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ha=re("circle-alert",G1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y1=re("circle-check-big",W1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],X1=re("cloud",K1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Jd=re("code",q1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],ef=re("container",Q1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],J1=re("copy",Z1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],tx=re("cpu",ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fr=re("database",nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ox=re("download",rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sx=re("eye",ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ax=re("file-text",lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hm=re("globe",ux);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],vo=re("hard-drive",cx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fx=re("info",dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mm=re("key",px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gm=re("loader",hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],jl=re("network",mx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yx=re("search",gx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xx=re("send",vx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Ua=re("server",wx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ym=re("settings",Sx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ba=re("shield",_x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],kx=re("sparkles",Ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tf=re("x",Nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$n=re("zap",Cx),vm={compute:{name:"Compute",color:"#0078d4",icon:Ua,services:[{id:"app-service",name:"App Service",type:"Microsoft.Web/sites",icon:Ua,color:"#0078d4",category:"compute",description:"Fully managed platform for building web apps and APIs",properties:{tier:"Standard",size:"S1",region:"East US"}},{id:"virtual-machine",name:"Virtual Machine",type:"Microsoft.Compute/virtualMachines",icon:tx,color:"#0078d4",category:"compute",description:"Scalable on-demand computing resources",properties:{size:"Standard_B2s",os:"Windows",region:"East US"}},{id:"container-apps",name:"Container Apps",type:"Microsoft.App/containerApps",icon:ef,color:"#0078d4",category:"compute",description:"Fully managed serverless container service",properties:{cpu:"0.5",memory:"1Gi",region:"East US"}},{id:"aks",name:"AKS",type:"Microsoft.ContainerService/managedClusters",icon:ef,color:"#0078d4",category:"compute",description:"Managed Kubernetes service",properties:{nodeCount:3,nodeSize:"Standard_DS2_v2",region:"East US"}},{id:"functions",name:"Azure Functions",type:"Microsoft.Web/sites",icon:$n,color:"#0078d4",category:"compute",description:"Event-driven serverless compute",properties:{runtime:"node",plan:"Consumption",region:"East US"}}]},database:{name:"Database",color:"#e74c3c",icon:fr,services:[{id:"azure-sql",name:"Azure SQL Database",type:"Microsoft.Sql/servers/databases",icon:fr,color:"#e74c3c",category:"database",description:"Fully managed relational database service",properties:{tier:"Standard",size:"S2",region:"East US"}},{id:"cosmos-db",name:"Cosmos DB",type:"Microsoft.DocumentDB/databaseAccounts",icon:fr,color:"#e74c3c",category:"database",description:"Globally distributed NoSQL database",properties:{consistency:"Session",multiRegion:!0,region:"East US"}},{id:"postgresql",name:"PostgreSQL",type:"Microsoft.DBforPostgreSQL/servers",icon:fr,color:"#e74c3c",category:"database",description:"Managed PostgreSQL database service",properties:{tier:"GeneralPurpose",size:"GP_Gen5_2",region:"East US"}},{id:"redis-cache",name:"Redis Cache",type:"Microsoft.Cache/Redis",icon:fr,color:"#e74c3c",category:"database",description:"In-memory data structure store",properties:{tier:"Standard",size:"C1",region:"East US"}}]},storage:{name:"Storage",color:"#27ae60",icon:vo,services:[{id:"storage-account",name:"Storage Account",type:"Microsoft.Storage/storageAccounts",icon:vo,color:"#27ae60",category:"storage",description:"Scalable cloud storage service",properties:{type:"Standard_LRS",accessTier:"Hot",region:"East US"}},{id:"blob-storage",name:"Blob Storage",type:"Microsoft.Storage/storageAccounts/blobServices",icon:vo,color:"#27ae60",category:"storage",description:"Object storage for unstructured data",properties:{type:"Standard_LRS",accessTier:"Hot",region:"East US"}},{id:"file-storage",name:"File Storage",type:"Microsoft.Storage/storageAccounts/fileServices",icon:vo,color:"#27ae60",category:"storage",description:"Managed file shares for cloud and on-premises",properties:{type:"Standard_LRS",quota:"100GB",region:"East US"}}]},networking:{name:"Networking",color:"#9b59b6",icon:jl,services:[{id:"virtual-network",name:"Virtual Network",type:"Microsoft.Network/virtualNetworks",icon:jl,color:"#9b59b6",category:"networking",description:"Isolated network environment in Azure",properties:{addressSpace:"10.0.0.0/16",subnets:["10.0.1.0/24"],region:"East US"}},{id:"load-balancer",name:"Load Balancer",type:"Microsoft.Network/loadBalancers",icon:jl,color:"#9b59b6",category:"networking",description:"High availability and network performance",properties:{sku:"Standard",type:"Public",region:"East US"}},{id:"application-gateway",name:"Application Gateway",type:"Microsoft.Network/applicationGateways",icon:hm,color:"#9b59b6",category:"networking",description:"Web traffic load balancer and application firewall",properties:{tier:"Standard_v2",capacity:2,region:"East US"}}]},security:{name:"Security",color:"#f39c12",icon:Ba,services:[{id:"key-vault",name:"Key Vault",type:"Microsoft.KeyVault/vaults",icon:mm,color:"#f39c12",category:"security",description:"Secure storage and management of secrets",properties:{tier:"Standard",accessPolicies:[],region:"East US"}},{id:"azure-ad-b2c",name:"Azure AD B2C",type:"Microsoft.AzureActiveDirectory/b2cDirectories",icon:Ba,color:"#f39c12",category:"security",description:"Identity management for customer-facing applications",properties:{tier:"Standard",region:"Global"}}]},ai:{name:"AI & Machine Learning",color:"#8e44ad",icon:Zi,services:[{id:"azure-openai",name:"Azure OpenAI",type:"Microsoft.CognitiveServices/accounts",icon:Zi,color:"#8e44ad",category:"ai",description:"OpenAI models as a service",properties:{kind:"OpenAI",sku:"S0",model:"gpt-4",region:"East US"}},{id:"cognitive-services",name:"Cognitive Services",type:"Microsoft.CognitiveServices/accounts",icon:Zi,color:"#8e44ad",category:"ai",description:"AI services for vision, speech, language, and decision",properties:{kind:"CognitiveServices",sku:"S0",region:"East US"}},{id:"bot-service",name:"Bot Service",type:"Microsoft.BotService/botServices",icon:O1,color:"#8e44ad",category:"ai",description:"Intelligent bot framework",properties:{tier:"Standard",region:"East US"}}]},integration:{name:"Integration",color:"#34495e",icon:$n,services:[{id:"event-hub",name:"Event Hub",type:"Microsoft.EventHub/namespaces",icon:$n,color:"#34495e",category:"integration",description:"Big data streaming platform and event ingestion",properties:{tier:"Standard",throughputUnits:1,region:"East US"}},{id:"logic-apps",name:"Logic Apps",type:"Microsoft.Logic/workflows",icon:$n,color:"#34495e",category:"integration",description:"Automate workflows and integrate apps and data",properties:{definition:{},region:"East US"}},{id:"service-bus",name:"Service Bus",type:"Microsoft.ServiceBus/namespaces",icon:$n,color:"#34495e",category:"integration",description:"Reliable cloud messaging between applications",properties:{tier:"Standard",region:"East US"}}]},analytics:{name:"Analytics",color:"#e67e22",icon:Dl,services:[{id:"synapse-analytics",name:"Synapse Analytics",type:"Microsoft.Synapse/workspaces",icon:Dl,color:"#e67e22",category:"analytics",description:"Limitless analytics service",properties:{sqlAdministratorLogin:"sqladmin",region:"East US"}},{id:"data-factory",name:"Data Factory",type:"Microsoft.DataFactory/factories",icon:Dl,color:"#e67e22",category:"analytics",description:"Data integration service",properties:{version:"V2",region:"East US"}}]}},xm=N.createContext(void 0),Qs=()=>{const e=N.useContext(xm);if(!e)throw new Error("useGenAI must be used within a GenAIProvider");return e},Ax=({children:e})=>{const[t,n]=N.useState(""),[r,o]=N.useState(!1),[i,s]=N.useState([]),[l,a]=N.useState([]),[u,c]=N.useState(null),[d,f]=N.useState(null),[p,g]=N.useState(null),[v,C]=N.useState(!1),h=N.useCallback(R=>{if(!R||R.trim()===""){f("Please provide a valid Gemini API key"),C(!1);return}try{console.log(" Setting up Gemini API with key:",R.substring(0,10)+"..."),console.log(" Key length:",R.length),console.log(" Key starts with AIza:",R.startsWith("AIza"));const j=new fm(R.trim());g(j),C(!0),f(null),console.log(" Gemini API configured successfully")}catch(j){console.error("Failed to configure Gemini API:",j),f("Failed to configure Gemini API. Please check your API key and try again."),C(!1)}},[]),m=N.useCallback(R=>{const j=R.services.map(L=>{const x=y(L.type,L.category);return{id:L.id,type:"azureService",position:L.position,data:{...L,label:L.name,icon:x==null?void 0:x.icon,color:(x==null?void 0:x.color)||"#0078d4",description:(x==null?void 0:x.description)||L.name}}}),H=R.connections.map(L=>({id:L.id,source:L.source,target:L.target,type:"custom",animated:!0,style:{strokeWidth:2},data:{connectionType:L.connectionType,properties:L.properties}}));return{nodes:j,edges:H}},[]),y=(R,j)=>{const H=vm[j];if(H)return H.services.find(L=>L.type===R||L.id.includes(R.toLowerCase()))},S=N.useCallback(async R=>{if(console.log(" processPrompt called with:",R),console.log(" GeminiService available:",!!p),console.log(" API Configured:",v),!R||R.trim()===""){f("Please provide a valid prompt");return}o(!0),f(null);try{if(!p){console.log(" Running in demo mode (no API key configured)");const b=A(R);console.log(" Demo infrastructure generated:",b);const{nodes:M,edges:F}=m(b);console.log(" Demo nodes and edges converted:",{nodes:M.length,edges:F.length}),await new Promise(k=>setTimeout(k,2e3)),s(M),a(F),c({armTemplate:`{
  "$schema": "Demo mode - configure API key for real generation",
  "contentVersion": "1.0.0.0"
}`,terraformCode:`# Demo mode - configure your Gemini API key for real generation
# This is a placeholder`,yamlConfig:`# Demo mode - configure your Gemini API key for real generation
# This is a placeholder`}),n(R),console.log(" Demo infrastructure generated successfully");return}console.log(" Processing prompt with Gemini API:",R),console.log(" Calling Gemini API for infrastructure parsing...");const j=await p.parseNaturalLanguageToInfrastructure(R);console.log(" Infrastructure parsed successfully:",j);const{nodes:H,edges:L}=m(j);console.log(" Generated nodes:",H.length,"edges:",L.length),console.log(" Generating infrastructure code...");const x=await p.generateInfrastructureCode(j);console.log(" Code generated successfully"),s(H),a(L),c(x),n(R)}catch(j){console.error(" Error processing prompt:",j);const H=j instanceof Error?j.message:"Failed to process prompt";f(H)}finally{o(!1)}},[p,m]),A=R=>{const j=R.toLowerCase(),H=[],L=[];let x=0;return(j.includes("web")||j.includes("app"))&&(H.push({id:`app-service-${x}`,name:"App Service",type:"Microsoft.Web/sites",category:"compute",properties:{tier:"Standard",size:"S1",region:"East US"},position:{x:100,y:100}}),x++),(j.includes("database")||j.includes("sql")||j.includes("data"))&&(H.push({id:`sql-db-${x}`,name:"Azure SQL Database",type:"Microsoft.Sql/servers/databases",category:"database",properties:{tier:"Standard",size:"S2",region:"East US"},position:{x:100,y:300}}),H.length>1&&L.push({id:"app-to-db",source:H[0].id,target:H[H.length-1].id,connectionType:"database"}),x++),(j.includes("storage")||j.includes("upload")||j.includes("file"))&&(H.push({id:`storage-${x}`,name:"Storage Account",type:"Microsoft.Storage/storageAccounts",category:"storage",properties:{type:"Standard_LRS",accessTier:"Hot",region:"East US"},position:{x:400,y:200}}),x++),(j.includes("auth")||j.includes("login")||j.includes("user"))&&(H.push({id:`auth-${x}`,name:"Azure AD B2C",type:"Microsoft.AzureActiveDirectory/b2cDirectories",category:"security",properties:{tier:"Standard",region:"Global"},position:{x:50,y:100}}),x++),{description:R,services:H,connections:L,resourceGroup:"rg-demo-infrastructure",region:"East US"}},T=N.useCallback(async()=>{if(!p||i.length===0){f("No infrastructure to optimize or Gemini API not configured.");return}o(!0),f(null);try{const R={description:t,services:i.map(b=>({id:b.id,name:b.data.name,type:b.data.type,category:b.data.category,properties:b.data.properties,position:b.position,dependencies:b.data.dependencies})),connections:l.map(b=>{var M,F;return{id:b.id,source:b.source,target:b.target,connectionType:((M=b.data)==null?void 0:M.connectionType)||"http",properties:(F=b.data)==null?void 0:F.properties}})},j=await p.optimizeInfrastructure(R),{nodes:H,edges:L}=m(j),x=await p.generateInfrastructureCode(j);s(H),a(L),c(x)}catch(R){f(R instanceof Error?R.message:"Failed to optimize infrastructure"),console.error("Error optimizing infrastructure:",R)}finally{o(!1)}},[p,i,l,t,m]),z=N.useCallback(()=>{s([]),a([]),c(null),n(""),f(null)},[]),P=N.useCallback(()=>{f(null)},[]),D={prompt:t,setPrompt:n,isProcessing:r,generatedNodes:i,generatedEdges:l,generatedCode:u,processPrompt:S,optimizeInfrastructure:T,clearGenerated:z,error:d,clearError:P,setApiKey:h,isApiConfigured:v};return w.jsx(xm.Provider,{value:D,children:e})};function Te(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Te(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var wm={exports:{}},Sm={},_m={exports:{}},Em={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=N;function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ix=typeof Object.is=="function"?Object.is:Mx,Tx=Ur.useState,bx=Ur.useEffect,zx=Ur.useLayoutEffect,Rx=Ur.useDebugValue;function $x(e,t){var n=t(),r=Tx({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return zx(function(){o.value=n,o.getSnapshot=t,Ol(o)&&i({inst:o})},[e,n,t]),bx(function(){return Ol(o)&&i({inst:o}),e(function(){Ol(o)&&i({inst:o})})},[e]),Rx(n),n}function Ol(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ix(e,n)}catch{return!0}}function Px(e,t){return t()}var Dx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Px:$x;Em.useSyncExternalStore=Ur.useSyncExternalStore!==void 0?Ur.useSyncExternalStore:Dx;_m.exports=Em;var jx=_m.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=N,Ox=jx;function Lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fx=typeof Object.is=="function"?Object.is:Lx,Hx=Ox.useSyncExternalStore,Ux=Zs.useRef,Bx=Zs.useEffect,Vx=Zs.useMemo,Gx=Zs.useDebugValue;Sm.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Ux(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Vx(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),o!==void 0&&s.hasValue){var g=s.value;if(o(g,p))return d=g}return d=p}if(g=d,Fx(c,p))return g;var v=r(p);return o!==void 0&&o(g,v)?(c=p,g):(c=p,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=Hx(e,i[0],i[1]);return Bx(function(){s.hasValue=!0,s.value=l},[l]),Gx(l),l};wm.exports=Sm;var Wx=wm.exports;const Yx=Yf(Wx),Kx={},nf=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,p))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Kx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},Xx=e=>e?nf(e):nf,{useDebugValue:qx}=O,{useSyncExternalStoreWithSelector:Qx}=Yx,Zx=e=>e;function km(e,t=Zx,n){const r=Qx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qx(r),r}const rf=(e,t)=>{const n=Xx(e),r=(o,i=t)=>km(n,o,i);return Object.assign(r,n),r},Jx=(e,t)=>e?rf(e,t):rf;function Ne(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var ew={value:()=>{}};function Js(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ji(n)}function Ji(e){this._=e}function tw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ji.prototype=Js.prototype={constructor:Ji,on:function(e,t){var n=this._,r=tw(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=nw(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=of(n[o],e.name,t);else if(t==null)for(o in n)n[o]=of(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ji(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function nw(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function of(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=ew,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Va="http://www.w3.org/1999/xhtml";const sf={svg:"http://www.w3.org/2000/svg",xhtml:Va,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function el(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),sf.hasOwnProperty(t)?{space:sf[t],local:e}:e}function rw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Va&&t.documentElement.namespaceURI===Va?t.createElement(e):t.createElementNS(n,e)}}function ow(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nm(e){var t=el(e);return(t.local?ow:rw)(t)}function iw(){}function tc(e){return e==null?iw:function(){return this.querySelector(e)}}function sw(e){typeof e!="function"&&(e=tc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new tt(r,this._parents)}function lw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function aw(){return[]}function Cm(e){return e==null?aw:function(){return this.querySelectorAll(e)}}function uw(e){return function(){return lw(e.apply(this,arguments))}}function cw(e){typeof e=="function"?e=uw(e):e=Cm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new tt(r,o)}function Am(e){return function(){return this.matches(e)}}function Mm(e){return function(t){return t.matches(e)}}var dw=Array.prototype.find;function fw(e){return function(){return dw.call(this.children,e)}}function pw(){return this.firstElementChild}function hw(e){return this.select(e==null?pw:fw(typeof e=="function"?e:Mm(e)))}var mw=Array.prototype.filter;function gw(){return Array.from(this.children)}function yw(e){return function(){return mw.call(this.children,e)}}function vw(e){return this.selectAll(e==null?gw:yw(typeof e=="function"?e:Mm(e)))}function xw(e){typeof e!="function"&&(e=Am(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new tt(r,this._parents)}function Im(e){return new Array(e.length)}function ww(){return new tt(this._enter||this._groups.map(Im),this._parents)}function As(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}As.prototype={constructor:As,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Sw(e){return function(){return e}}function _w(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new As(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function Ew(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,d=i.length,f=new Array(c),p;for(l=0;l<c;++l)(a=t[l])&&(f[l]=p=s.call(a,a.__data__,l,t)+"",u.has(p)?o[l]=a:u.set(p,a));for(l=0;l<d;++l)p=s.call(e,i[l],l,i)+"",(a=u.get(p))?(r[l]=a,a.__data__=i[l],u.delete(p)):n[l]=new As(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function kw(e){return e.__data__}function Nw(e,t){if(!arguments.length)return Array.from(this,kw);var n=t?Ew:_w,r=this._parents,o=this._groups;typeof e!="function"&&(e=Sw(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],d=o[u],f=d.length,p=Cw(e.call(c,c&&c.__data__,u,r)),g=p.length,v=l[u]=new Array(g),C=s[u]=new Array(g),h=a[u]=new Array(f);n(c,d,v,C,h,p,t);for(var m=0,y=0,S,A;m<g;++m)if(S=v[m]){for(m>=y&&(y=m+1);!(A=C[y])&&++y<g;);S._next=A||null}}return s=new tt(s,r),s._enter=l,s._exit=a,s}function Cw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Aw(){return new tt(this._exit||this._groups.map(Im),this._parents)}function Mw(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Iw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),p,g=0;g<d;++g)(p=u[g]||c[g])&&(f[g]=p);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function Tw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function bw(e){e||(e=zw);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new tt(o,this._parents).order()}function zw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Rw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $w(){return Array.from(this)}function Pw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Dw(){let e=0;for(const t of this)++e;return e}function jw(){return!this.node()}function Ow(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function Lw(e){return function(){this.removeAttribute(e)}}function Fw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hw(e,t){return function(){this.setAttribute(e,t)}}function Uw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Vw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Gw(e,t){var n=el(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Fw:Lw:typeof t=="function"?n.local?Vw:Bw:n.local?Uw:Hw)(n,t))}function Tm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ww(e){return function(){this.style.removeProperty(e)}}function Yw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Xw(e,t,n){return arguments.length>1?this.each((t==null?Ww:typeof t=="function"?Kw:Yw)(e,t,n??"")):Br(this.node(),e)}function Br(e,t){return e.style.getPropertyValue(t)||Tm(e).getComputedStyle(e,null).getPropertyValue(t)}function qw(e){return function(){delete this[e]}}function Qw(e,t){return function(){this[e]=t}}function Zw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jw(e,t){return arguments.length>1?this.each((t==null?qw:typeof t=="function"?Zw:Qw)(e,t)):this.node()[e]}function bm(e){return e.trim().split(/^|\s+/)}function nc(e){return e.classList||new zm(e)}function zm(e){this._node=e,this._names=bm(e.getAttribute("class")||"")}zm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rm(e,t){for(var n=nc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function $m(e,t){for(var n=nc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function e2(e){return function(){Rm(this,e)}}function t2(e){return function(){$m(this,e)}}function n2(e,t){return function(){(t.apply(this,arguments)?Rm:$m)(this,e)}}function r2(e,t){var n=bm(e+"");if(arguments.length<2){for(var r=nc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?n2:t?e2:t2)(n,t))}function o2(){this.textContent=""}function i2(e){return function(){this.textContent=e}}function s2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function l2(e){return arguments.length?this.each(e==null?o2:(typeof e=="function"?s2:i2)(e)):this.node().textContent}function a2(){this.innerHTML=""}function u2(e){return function(){this.innerHTML=e}}function c2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function d2(e){return arguments.length?this.each(e==null?a2:(typeof e=="function"?c2:u2)(e)):this.node().innerHTML}function f2(){this.nextSibling&&this.parentNode.appendChild(this)}function p2(){return this.each(f2)}function h2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function m2(){return this.each(h2)}function g2(e){var t=typeof e=="function"?e:Nm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function y2(){return null}function v2(e,t){var n=typeof e=="function"?e:Nm(e),r=t==null?y2:typeof t=="function"?t:tc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function x2(){var e=this.parentNode;e&&e.removeChild(this)}function w2(){return this.each(x2)}function S2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function E2(e){return this.select(e?_2:S2)}function k2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function N2(e){return function(t){e.call(this,t,this.__data__)}}function C2(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function A2(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function M2(e,t,n){return function(){var r=this.__on,o,i=N2(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function I2(e,t,n){var r=C2(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?M2:A2,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Pm(e,t,n){var r=Tm(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function T2(e,t){return function(){return Pm(this,e,t)}}function b2(e,t){return function(){return Pm(this,e,t.apply(this,arguments))}}function z2(e,t){return this.each((typeof t=="function"?b2:T2)(e,t))}function*R2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Dm=[null];function tt(e,t){this._groups=e,this._parents=t}function di(){return new tt([[document.documentElement]],Dm)}function $2(){return this}tt.prototype=di.prototype={constructor:tt,select:sw,selectAll:cw,selectChild:hw,selectChildren:vw,filter:xw,data:Nw,enter:ww,exit:Aw,join:Mw,merge:Iw,selection:$2,order:Tw,sort:bw,call:Rw,nodes:$w,node:Pw,size:Dw,empty:jw,each:Ow,attr:Gw,style:Xw,property:Jw,classed:r2,text:l2,html:d2,raise:p2,lower:m2,append:g2,insert:v2,remove:w2,clone:E2,datum:k2,on:I2,dispatch:z2,[Symbol.iterator]:R2};function st(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],Dm)}function P2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function yt(e,t){if(e=P2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const D2={passive:!1},Qo={capture:!0,passive:!1};function Ll(e){e.stopImmediatePropagation()}function zr(e){e.preventDefault(),e.stopImmediatePropagation()}function jm(e){var t=e.document.documentElement,n=st(e).on("dragstart.drag",zr,Qo);"onselectstart"in t?n.on("selectstart.drag",zr,Qo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Om(e,t){var n=e.document.documentElement,r=st(e).on("dragstart.drag",null);t&&(r.on("click.drag",zr,Qo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ti=e=>()=>e;function Ga(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ga.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function j2(e){return!e.ctrlKey&&!e.button}function O2(){return this.parentNode}function L2(e,t){return t??{x:e.x,y:e.y}}function F2(){return navigator.maxTouchPoints||"ontouchstart"in this}function H2(){var e=j2,t=O2,n=L2,r=F2,o={},i=Js("start","drag","end"),s=0,l,a,u,c,d=0;function f(S){S.on("mousedown.drag",p).filter(r).on("touchstart.drag",C).on("touchmove.drag",h,D2).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(S,A){if(!(c||!e.call(this,S,A))){var T=y(this,t.call(this,S,A),S,A,"mouse");T&&(st(S.view).on("mousemove.drag",g,Qo).on("mouseup.drag",v,Qo),jm(S.view),Ll(S),u=!1,l=S.clientX,a=S.clientY,T("start",S))}}function g(S){if(zr(S),!u){var A=S.clientX-l,T=S.clientY-a;u=A*A+T*T>d}o.mouse("drag",S)}function v(S){st(S.view).on("mousemove.drag mouseup.drag",null),Om(S.view,u),zr(S),o.mouse("end",S)}function C(S,A){if(e.call(this,S,A)){var T=S.changedTouches,z=t.call(this,S,A),P=T.length,D,R;for(D=0;D<P;++D)(R=y(this,z,S,A,T[D].identifier,T[D]))&&(Ll(S),R("start",S,T[D]))}}function h(S){var A=S.changedTouches,T=A.length,z,P;for(z=0;z<T;++z)(P=o[A[z].identifier])&&(zr(S),P("drag",S,A[z]))}function m(S){var A=S.changedTouches,T=A.length,z,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),z=0;z<T;++z)(P=o[A[z].identifier])&&(Ll(S),P("end",S,A[z]))}function y(S,A,T,z,P,D){var R=i.copy(),j=yt(D||T,A),H,L,x;if((x=n.call(S,new Ga("beforestart",{sourceEvent:T,target:f,identifier:P,active:s,x:j[0],y:j[1],dx:0,dy:0,dispatch:R}),z))!=null)return H=x.x-j[0]||0,L=x.y-j[1]||0,function b(M,F,k){var _=j,E;switch(M){case"start":o[P]=b,E=s++;break;case"end":delete o[P],--s;case"drag":j=yt(k||F,A),E=s;break}R.call(M,S,new Ga(M,{sourceEvent:F,subject:x,target:f,identifier:P,active:E,x:j[0]+H,y:j[1]+L,dx:j[0]-_[0],dy:j[1]-_[1],dispatch:R}),z)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Ti(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:Ti(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Ti(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Ti(!!S),f):r},f.on=function(){var S=i.on.apply(i,arguments);return S===i?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function rc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fi(){}var Zo=.7,Ms=1/Zo,Rr="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U2=/^#([0-9a-f]{3,8})$/,B2=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),V2=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),G2=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${Jo}\\)$`),W2=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Jo}\\)$`),Y2=new RegExp(`^hsl\\(${Jo},${Tt},${Tt}\\)$`),K2=new RegExp(`^hsla\\(${Jo},${Tt},${Tt},${Jo}\\)$`),lf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rc(fi,ei,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:af,formatHex:af,formatHex8:X2,formatHsl:q2,formatRgb:uf,toString:uf});function af(){return this.rgb().formatHex()}function X2(){return this.rgb().formatHex8()}function q2(){return Fm(this).formatHsl()}function uf(){return this.rgb().formatRgb()}function ei(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=U2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cf(t):n===3?new We(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B2.exec(e))?new We(t[1],t[2],t[3],1):(t=V2.exec(e))?new We(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G2.exec(e))?bi(t[1],t[2],t[3],t[4]):(t=W2.exec(e))?bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Y2.exec(e))?pf(t[1],t[2]/100,t[3]/100,1):(t=K2.exec(e))?pf(t[1],t[2]/100,t[3]/100,t[4]):lf.hasOwnProperty(e)?cf(lf[e]):e==="transparent"?new We(NaN,NaN,NaN,0):null}function cf(e){return new We(e>>16&255,e>>8&255,e&255,1)}function bi(e,t,n,r){return r<=0&&(e=t=n=NaN),new We(e,t,n,r)}function Q2(e){return e instanceof fi||(e=ei(e)),e?(e=e.rgb(),new We(e.r,e.g,e.b,e.opacity)):new We}function Wa(e,t,n,r){return arguments.length===1?Q2(e):new We(e,t,n,r??1)}function We(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}rc(We,Wa,Lm(fi,{brighter(e){return e=e==null?Ms:Math.pow(Ms,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new We(Un(this.r),Un(this.g),Un(this.b),Is(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:df,formatHex:df,formatHex8:Z2,formatRgb:ff,toString:ff}));function df(){return`#${On(this.r)}${On(this.g)}${On(this.b)}`}function Z2(){return`#${On(this.r)}${On(this.g)}${On(this.b)}${On((isNaN(this.opacity)?1:this.opacity)*255)}`}function ff(){const e=Is(this.opacity);return`${e===1?"rgb(":"rgba("}${Un(this.r)}, ${Un(this.g)}, ${Un(this.b)}${e===1?")":`, ${e})`}`}function Is(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Un(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function On(e){return e=Un(e),(e<16?"0":"")+e.toString(16)}function pf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xt(e,t,n,r)}function Fm(e){if(e instanceof xt)return new xt(e.h,e.s,e.l,e.opacity);if(e instanceof fi||(e=ei(e)),!e)return new xt;if(e instanceof xt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new xt(s,l,a,e.opacity)}function J2(e,t,n,r){return arguments.length===1?Fm(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rc(xt,J2,Lm(fi,{brighter(e){return e=e==null?Ms:Math.pow(Ms,e),new xt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new xt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new We(Fl(e>=240?e-240:e+120,o,r),Fl(e,o,r),Fl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new xt(hf(this.h),zi(this.s),zi(this.l),Is(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Is(this.opacity);return`${e===1?"hsl(":"hsla("}${hf(this.h)}, ${zi(this.s)*100}%, ${zi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hf(e){return e=(e||0)%360,e<0?e+360:e}function zi(e){return Math.max(0,Math.min(1,e||0))}function Fl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Hm=e=>()=>e;function eS(e,t){return function(n){return e+n*t}}function tS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nS(e){return(e=+e)==1?Um:function(t,n){return n-t?tS(t,n,e):Hm(isNaN(t)?n:t)}}function Um(e,t){var n=t-e;return n?eS(e,n):Hm(isNaN(e)?t:e)}const mf=function e(t){var n=nS(t);function r(o,i){var s=n((o=Wa(o)).r,(i=Wa(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=Um(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function nn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ya=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hl=new RegExp(Ya.source,"g");function rS(e){return function(){return e}}function oS(e){return function(t){return e(t)+""}}function iS(e,t){var n=Ya.lastIndex=Hl.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Ya.exec(e))&&(o=Hl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:nn(r,o)})),n=Hl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?oS(a[0].x):rS(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var gf=180/Math.PI,Ka={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bm(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*gf,skewX:Math.atan(a)*gf,scaleX:s,scaleY:l}}var Ri;function sS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ka:Bm(t.a,t.b,t.c,t.d,t.e,t.f)}function lS(e){return e==null||(Ri||(Ri=document.createElementNS("http://www.w3.org/2000/svg","g")),Ri.setAttribute("transform",e),!(e=Ri.transform.baseVal.consolidate()))?Ka:(e=e.matrix,Bm(e.a,e.b,e.c,e.d,e.e,e.f))}function Vm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,d,f,p,g){if(u!==d||c!==f){var v=p.push("translate(",null,t,null,n);g.push({i:v-4,x:nn(u,d)},{i:v-2,x:nn(c,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:nn(u,c)})):c&&d.push(o(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:nn(u,c)}):c&&d.push(o(d)+"skewX("+c+r)}function a(u,c,d,f,p,g){if(u!==d||c!==f){var v=p.push(o(p)+"scale(",null,",",null,")");g.push({i:v-4,x:nn(u,d)},{i:v-2,x:nn(c,f)})}else(d!==1||f!==1)&&p.push(o(p)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(p){for(var g=-1,v=f.length,C;++g<v;)d[(C=f[g]).i]=C.x(p);return d.join("")}}}var aS=Vm(sS,"px, ","px)","deg)"),uS=Vm(lS,", ",")",")"),cS=1e-12;function yf(e){return((e=Math.exp(e))+1/e)/2}function dS(e){return((e=Math.exp(e))-1/e)/2}function fS(e){return((e=Math.exp(2*e))-1)/(e+1)}const pS=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],d=s[1],f=s[2],p=c-l,g=d-a,v=p*p+g*g,C,h;if(v<cS)h=Math.log(f/u)/t,C=function(z){return[l+z*p,a+z*g,u*Math.exp(t*z*h)]};else{var m=Math.sqrt(v),y=(f*f-u*u+r*v)/(2*u*n*m),S=(f*f-u*u-r*v)/(2*f*n*m),A=Math.log(Math.sqrt(y*y+1)-y),T=Math.log(Math.sqrt(S*S+1)-S);h=(T-A)/t,C=function(z){var P=z*h,D=yf(A),R=u/(n*m)*(D*fS(t*P+A)-dS(A));return[l+R*p,a+R*g,u*D/yf(t*P+A)]}}return C.duration=h*1e3*t/Math.SQRT2,C}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Vr=0,xo=0,ao=0,Gm=1e3,Ts,wo,bs=0,Qn=0,tl=0,ti=typeof performance=="object"&&performance.now?performance:Date,Wm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oc(){return Qn||(Wm(hS),Qn=ti.now()+tl)}function hS(){Qn=0}function zs(){this._call=this._time=this._next=null}zs.prototype=Ym.prototype={constructor:zs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?oc():+n)+(t==null?0:+t),!this._next&&wo!==this&&(wo?wo._next=this:Ts=this,wo=this),this._call=e,this._time=n,Xa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xa())}};function Ym(e,t,n){var r=new zs;return r.restart(e,t,n),r}function mS(){oc(),++Vr;for(var e=Ts,t;e;)(t=Qn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vr}function vf(){Qn=(bs=ti.now())+tl,Vr=xo=0;try{mS()}finally{Vr=0,yS(),Qn=0}}function gS(){var e=ti.now(),t=e-bs;t>Gm&&(tl-=t,bs=e)}function yS(){for(var e,t=Ts,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ts=n);wo=e,Xa(r)}function Xa(e){if(!Vr){xo&&(xo=clearTimeout(xo));var t=e-Qn;t>24?(e<1/0&&(xo=setTimeout(vf,e-ti.now()-tl)),ao&&(ao=clearInterval(ao))):(ao||(bs=ti.now(),ao=setInterval(gS,Gm)),Vr=1,Wm(vf))}}function xf(e,t,n){var r=new zs;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var vS=Js("start","end","cancel","interrupt"),xS=[],Km=0,wf=1,qa=2,es=3,Sf=4,Qa=5,ts=6;function nl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;wS(e,n,{name:t,index:r,group:o,on:vS,tween:xS,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Km})}function ic(e,t){var n=Et(e,t);if(n.state>Km)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=Et(e,t);if(n.state>es)throw new Error("too late; already running");return n}function Et(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wS(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Ym(i,0,n.time);function i(u){n.state=wf,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,p;if(n.state!==wf)return a();for(c in r)if(p=r[c],p.name===n.name){if(p.state===es)return xf(s);p.state===Sf?(p.state=ts,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=ts,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(xf(function(){n.state===es&&(n.state=Sf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=qa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===qa){for(n.state=es,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=p);o.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Qa,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===Qa&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ts,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ns(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>qa&&r.state<Qa,r.state=ts,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function SS(e){return this.each(function(){ns(this,e)})}function _S(e,t){var n,r;return function(){var o=bt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function ES(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=bt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function kS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Et(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?_S:ES)(n,e,t))}function sc(e,t,n){var r=e._id;return e.each(function(){var o=bt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Et(o,r).value[t]}}function Xm(e,t){var n;return(typeof t=="number"?nn:t instanceof ei?mf:(n=ei(t))?(t=n,mf):iS)(e,t)}function NS(e){return function(){this.removeAttribute(e)}}function CS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function MS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function IS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function TS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function bS(e,t){var n=el(e),r=n==="transform"?uS:Xm;return this.attrTween(e,typeof t=="function"?(n.local?TS:IS)(n,r,sc(this,"attr."+e,t)):t==null?(n.local?CS:NS)(n):(n.local?MS:AS)(n,r,t))}function zS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function RS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $S(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&RS(e,i)),n}return o._value=t,o}function PS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&zS(e,i)),n}return o._value=t,o}function DS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=el(e);return this.tween(n,(r.local?$S:PS)(r,t))}function jS(e,t){return function(){ic(this,e).delay=+t.apply(this,arguments)}}function OS(e,t){return t=+t,function(){ic(this,e).delay=t}}function LS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jS:OS)(t,e)):Et(this.node(),t).delay}function FS(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function HS(e,t){return t=+t,function(){bt(this,e).duration=t}}function US(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FS:HS)(t,e)):Et(this.node(),t).duration}function BS(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function VS(e){var t=this._id;return arguments.length?this.each(BS(t,e)):Et(this.node(),t).ease}function GS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,e).ease=n}}function WS(e){if(typeof e!="function")throw new Error;return this.each(GS(this._id,e))}function YS(e){typeof e!="function"&&(e=Am(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Kt(r,this._parents,this._name,this._id)}function KS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,p=0;p<c;++p)(f=a[p]||u[p])&&(d[p]=f);for(;l<r;++l)s[l]=t[l];return new Kt(s,this._parents,this._name,this._id)}function XS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qS(e,t,n){var r,o,i=XS(t)?ic:bt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function QS(e,t){var n=this._id;return arguments.length<2?Et(this.node(),n).on.on(e):this.each(qS(n,e,t))}function ZS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JS(){return this.on("end.remove",ZS(this._id))}function e_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=tc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,nl(u[f],t,n,f,u,Et(c,n)));return new Kt(i,this._parents,t,n)}function t_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cm(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),p,g=Et(c,n),v=0,C=f.length;v<C;++v)(p=f[v])&&nl(p,t,n,v,f,g);i.push(f),s.push(c)}return new Kt(i,s,t,n)}var n_=di.prototype.constructor;function r_(){return new n_(this._groups,this._parents)}function o_(e,t){var n,r,o;return function(){var i=Br(this,e),s=(this.style.removeProperty(e),Br(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function qm(e){return function(){this.style.removeProperty(e)}}function i_(e,t,n){var r,o=n+"",i;return function(){var s=Br(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function s_(e,t,n){var r,o,i;return function(){var s=Br(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Br(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function l_(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=bt(this,e),u=a.on,c=a.value[i]==null?l||(l=qm(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function a_(e,t,n){var r=(e+="")=="transform"?aS:Xm;return t==null?this.styleTween(e,o_(e,r)).on("end.style."+e,qm(e)):typeof t=="function"?this.styleTween(e,s_(e,r,sc(this,"style."+e,t))).each(l_(this._id,e)):this.styleTween(e,i_(e,r,t),n).on("end.style."+e,null)}function u_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function c_(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&u_(e,s,n)),r}return i._value=t,i}function d_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,c_(e,t,n??""))}function f_(e){return function(){this.textContent=e}}function p_(e){return function(){var t=e(this);this.textContent=t??""}}function h_(e){return this.tween("text",typeof e=="function"?p_(sc(this,"text",e)):f_(e==null?"":e+""))}function m_(e){return function(t){this.textContent=e.call(this,t)}}function g_(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&m_(o)),t}return r._value=e,r}function y_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,g_(e))}function v_(){for(var e=this._name,t=this._id,n=Qm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Et(a,t);nl(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Kt(r,this._parents,e,n)}function x_(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=bt(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var w_=0;function Kt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Qm(){return++w_}var Pt=di.prototype;Kt.prototype={constructor:Kt,select:e_,selectAll:t_,selectChild:Pt.selectChild,selectChildren:Pt.selectChildren,filter:YS,merge:KS,selection:r_,transition:v_,call:Pt.call,nodes:Pt.nodes,node:Pt.node,size:Pt.size,empty:Pt.empty,each:Pt.each,on:QS,attr:bS,attrTween:DS,style:a_,styleTween:d_,text:h_,textTween:y_,remove:JS,tween:kS,delay:LS,duration:US,ease:VS,easeVarying:WS,end:x_,[Symbol.iterator]:Pt[Symbol.iterator]};function S_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var __={time:null,delay:0,duration:250,ease:S_};function E_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function k_(e){var t,n;e instanceof Kt?(t=e._id,e=e._name):(t=Qm(),(n=__).time=oc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&nl(a,e,t,u,s,n||E_(a,t));return new Kt(r,this._parents,e,t)}di.prototype.interrupt=SS;di.prototype.transition=k_;const $i=e=>()=>e;function N_(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ht(e,t,n){this.k=e,this.x=t,this.y=n}Ht.prototype={constructor:Ht,scale:function(e){return e===1?this:new Ht(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ht(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bt=new Ht(1,0,0);Ht.prototype;function Ul(e){e.stopImmediatePropagation()}function uo(e){e.preventDefault(),e.stopImmediatePropagation()}function C_(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function A_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function _f(){return this.__zoom||Bt}function M_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function I_(){return navigator.maxTouchPoints||"ontouchstart"in this}function T_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Zm(){var e=C_,t=A_,n=T_,r=M_,o=I_,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=pS,u=Js("start","zoom","end"),c,d,f,p=500,g=150,v=0,C=10;function h(x){x.property("__zoom",_f).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",j).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(x,b,M,F){var k=x.selection?x.selection():x;k.property("__zoom",_f),x!==k?A(x,b,M,F):k.interrupt().each(function(){T(this,arguments).event(F).start().zoom(null,typeof b=="function"?b.apply(this,arguments):b).end()})},h.scaleBy=function(x,b,M,F){h.scaleTo(x,function(){var k=this.__zoom.k,_=typeof b=="function"?b.apply(this,arguments):b;return k*_},M,F)},h.scaleTo=function(x,b,M,F){h.transform(x,function(){var k=t.apply(this,arguments),_=this.__zoom,E=M==null?S(k):typeof M=="function"?M.apply(this,arguments):M,I=_.invert(E),$=typeof b=="function"?b.apply(this,arguments):b;return n(y(m(_,$),E,I),k,s)},M,F)},h.translateBy=function(x,b,M,F){h.transform(x,function(){return n(this.__zoom.translate(typeof b=="function"?b.apply(this,arguments):b,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),s)},null,F)},h.translateTo=function(x,b,M,F,k){h.transform(x,function(){var _=t.apply(this,arguments),E=this.__zoom,I=F==null?S(_):typeof F=="function"?F.apply(this,arguments):F;return n(Bt.translate(I[0],I[1]).scale(E.k).translate(typeof b=="function"?-b.apply(this,arguments):-b,typeof M=="function"?-M.apply(this,arguments):-M),_,s)},F,k)};function m(x,b){return b=Math.max(i[0],Math.min(i[1],b)),b===x.k?x:new Ht(b,x.x,x.y)}function y(x,b,M){var F=b[0]-M[0]*x.k,k=b[1]-M[1]*x.k;return F===x.x&&k===x.y?x:new Ht(x.k,F,k)}function S(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function A(x,b,M,F){x.on("start.zoom",function(){T(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(F).end()}).tween("zoom",function(){var k=this,_=arguments,E=T(k,_).event(F),I=t.apply(k,_),$=M==null?S(I):typeof M=="function"?M.apply(k,_):M,V=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),B=k.__zoom,G=typeof b=="function"?b.apply(k,_):b,Y=a(B.invert($).concat(V/B.k),G.invert($).concat(V/G.k));return function(q){if(q===1)q=G;else{var Z=Y(q),Q=V/Z[2];q=new Ht(Q,$[0]-Z[0]*Q,$[1]-Z[1]*Q)}E.zoom(null,q)}})}function T(x,b,M){return!M&&x.__zooming||new z(x,b)}function z(x,b){this.that=x,this.args=b,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,b),this.taps=0}z.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,b){return this.mouse&&x!=="mouse"&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var b=st(this.that).datum();u.call(x,this.that,new N_(x,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:u}),b)}};function P(x,...b){if(!e.apply(this,arguments))return;var M=T(this,b).event(x),F=this.__zoom,k=Math.max(i[0],Math.min(i[1],F.k*Math.pow(2,r.apply(this,arguments)))),_=yt(x);if(M.wheel)(M.mouse[0][0]!==_[0]||M.mouse[0][1]!==_[1])&&(M.mouse[1]=F.invert(M.mouse[0]=_)),clearTimeout(M.wheel);else{if(F.k===k)return;M.mouse=[_,F.invert(_)],ns(this),M.start()}uo(x),M.wheel=setTimeout(E,g),M.zoom("mouse",n(y(m(F,k),M.mouse[0],M.mouse[1]),M.extent,s));function E(){M.wheel=null,M.end()}}function D(x,...b){if(f||!e.apply(this,arguments))return;var M=x.currentTarget,F=T(this,b,!0).event(x),k=st(x.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",V,!0),_=yt(x,M),E=x.clientX,I=x.clientY;jm(x.view),Ul(x),F.mouse=[_,this.__zoom.invert(_)],ns(this),F.start();function $(B){if(uo(B),!F.moved){var G=B.clientX-E,Y=B.clientY-I;F.moved=G*G+Y*Y>v}F.event(B).zoom("mouse",n(y(F.that.__zoom,F.mouse[0]=yt(B,M),F.mouse[1]),F.extent,s))}function V(B){k.on("mousemove.zoom mouseup.zoom",null),Om(B.view,F.moved),uo(B),F.event(B).end()}}function R(x,...b){if(e.apply(this,arguments)){var M=this.__zoom,F=yt(x.changedTouches?x.changedTouches[0]:x,this),k=M.invert(F),_=M.k*(x.shiftKey?.5:2),E=n(y(m(M,_),F,k),t.apply(this,b),s);uo(x),l>0?st(this).transition().duration(l).call(A,E,F,x):st(this).call(h.transform,E,F,x)}}function j(x,...b){if(e.apply(this,arguments)){var M=x.touches,F=M.length,k=T(this,b,x.changedTouches.length===F).event(x),_,E,I,$;for(Ul(x),E=0;E<F;++E)I=M[E],$=yt(I,this),$=[$,this.__zoom.invert($),I.identifier],k.touch0?!k.touch1&&k.touch0[2]!==$[2]&&(k.touch1=$,k.taps=0):(k.touch0=$,_=!0,k.taps=1+!!c);c&&(c=clearTimeout(c)),_&&(k.taps<2&&(d=$[0],c=setTimeout(function(){c=null},p)),ns(this),k.start())}}function H(x,...b){if(this.__zooming){var M=T(this,b).event(x),F=x.changedTouches,k=F.length,_,E,I,$;for(uo(x),_=0;_<k;++_)E=F[_],I=yt(E,this),M.touch0&&M.touch0[2]===E.identifier?M.touch0[0]=I:M.touch1&&M.touch1[2]===E.identifier&&(M.touch1[0]=I);if(E=M.that.__zoom,M.touch1){var V=M.touch0[0],B=M.touch0[1],G=M.touch1[0],Y=M.touch1[1],q=(q=G[0]-V[0])*q+(q=G[1]-V[1])*q,Z=(Z=Y[0]-B[0])*Z+(Z=Y[1]-B[1])*Z;E=m(E,Math.sqrt(q/Z)),I=[(V[0]+G[0])/2,(V[1]+G[1])/2],$=[(B[0]+Y[0])/2,(B[1]+Y[1])/2]}else if(M.touch0)I=M.touch0[0],$=M.touch0[1];else return;M.zoom("touch",n(y(E,I,$),M.extent,s))}}function L(x,...b){if(this.__zooming){var M=T(this,b).event(x),F=x.changedTouches,k=F.length,_,E;for(Ul(x),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),_=0;_<k;++_)E=F[_],M.touch0&&M.touch0[2]===E.identifier?delete M.touch0:M.touch1&&M.touch1[2]===E.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(E=yt(E,this),Math.hypot(d[0]-E[0],d[1]-E[1])<C)){var I=st(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return h.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:$i(+x),h):r},h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:$i(!!x),h):e},h.touchable=function(x){return arguments.length?(o=typeof x=="function"?x:$i(!!x),h):o},h.extent=function(x){return arguments.length?(t=typeof x=="function"?x:$i([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),h):t},h.scaleExtent=function(x){return arguments.length?(i[0]=+x[0],i[1]=+x[1],h):[i[0],i[1]]},h.translateExtent=function(x){return arguments.length?(s[0][0]=+x[0][0],s[1][0]=+x[1][0],s[0][1]=+x[0][1],s[1][1]=+x[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(x){return arguments.length?(n=x,h):n},h.duration=function(x){return arguments.length?(l=+x,h):l},h.interpolate=function(x){return arguments.length?(a=x,h):a},h.on=function(){var x=u.on.apply(u,arguments);return x===u?h:x},h.clickDistance=function(x){return arguments.length?(v=(x=+x)*x,h):Math.sqrt(v)},h.tapDistance=function(x){return arguments.length?(C=+x,h):C},h}const rl=N.createContext(null),b_=rl.Provider,Xt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Jm=Xt.error001();function le(e,t){const n=N.useContext(rl);if(n===null)throw new Error(Jm);return km(n,e,t)}const _e=()=>{const e=N.useContext(rl);if(e===null)throw new Error(Jm);return N.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},z_=e=>e.userSelectionActive?"none":"all";function lc({position:e,children:t,className:n,style:r,...o}){const i=le(z_),s=`${e}`.split("-");return O.createElement("div",{className:Te(["react-flow__panel",n,...s]),style:{...r,pointerEvents:i},...o},t)}function R_({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:O.createElement(lc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},O.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const $_=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=N.useRef(null),[f,p]=N.useState({x:0,y:0,width:0,height:0}),g=Te(["react-flow__edge-textwrapper",u]);return N.useEffect(()=>{if(d.current){const v=d.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:O.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...c},o&&O.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),O.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var P_=N.memo($_);const ac=e=>({width:e.offsetWidth,height:e.offsetHeight}),Gr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),uc=(e={x:0,y:0},t)=>({x:Gr(e.x,t[0][0],t[1][0]),y:Gr(e.y,t[0][1],t[1][1])}),Ef=(e,t,n)=>e<t?Gr(Math.abs(e-t),1,50)/50:e>n?-Gr(Math.abs(e-n),1,50)/50:0,eg=(e,t)=>{const n=Ef(e.x,35,t.width-35)*20,r=Ef(e.y,35,t.height-35)*20;return[n,r]},tg=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},ng=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ni=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),rg=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),kf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),D_=(e,t)=>rg(ng(ni(e),ni(t))),Za=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},j_=e=>at(e.width)&&at(e.height)&&at(e.x)&&at(e.y),at=e=>!isNaN(e)&&isFinite(e),me=Symbol.for("internals"),og=["Enter"," ","Escape"],O_=(e,t)=>{},L_=e=>"nativeEvent"in e;function Ja(e){var o,i;const t=L_(e)?e.nativeEvent:e,n=((i=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const ig=e=>"clientX"in e,xn=(e,t)=>{var i,s;const n=ig(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Rs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Xr=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:p=20})=>O.createElement(O.Fragment,null,O.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),p&&O.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),o&&at(n)&&at(r)?O.createElement(P_,{x:n,y:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);Xr.displayName="BaseEdge";function co(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(i=>i.id===e);o&&n(r,{...o})}}function sg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function lg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Zn;(function(e){e.Strict="strict",e.Loose="loose"})(Zn||(Zn={}));var Ln;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ln||(Ln={}));var ri;(function(e){e.Partial="partial",e.Full="full"})(ri||(ri={}));var Ot;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ot||(Ot={}));var Bn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Bn||(Bn={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));function Nf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function ag({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top}){const[s,l]=Nf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=Nf({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,d,f,p]=lg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,d,f,p]}const cc=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:v})=>{const[C,h,m]=ag({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return O.createElement(Xr,{path:C,labelX:h,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:v})});cc.displayName="SimpleBezierEdge";const Cf={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},F_=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Af=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function H_({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:o,offset:i}){const s=Cf[t],l=Cf[r],a={x:e.x+s.x*i,y:e.y+s.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=F_({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let p=[],g,v;const C={x:0,y:0},h={x:0,y:0},[m,y,S,A]=sg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){g=o.x??m,v=o.y??y;const z=[{x:g,y:a.y},{x:g,y:u.y}],P=[{x:a.x,y:v},{x:u.x,y:v}];s[d]===f?p=d==="x"?z:P:p=d==="x"?P:z}else{const z=[{x:a.x,y:u.y}],P=[{x:u.x,y:a.y}];if(d==="x"?p=s.x===f?P:z:p=s.y===f?z:P,t===r){const L=Math.abs(e[d]-n[d]);if(L<=i){const x=Math.min(i-1,i-L);s[d]===f?C[d]=(a[d]>e[d]?-1:1)*x:h[d]=(u[d]>n[d]?-1:1)*x}}if(t!==r){const L=d==="x"?"y":"x",x=s[d]===l[L],b=a[L]>u[L],M=a[L]<u[L];(s[d]===1&&(!x&&b||x&&M)||s[d]!==1&&(!x&&M||x&&b))&&(p=d==="x"?z:P)}const D={x:a.x+C.x,y:a.y+C.y},R={x:u.x+h.x,y:u.y+h.y},j=Math.max(Math.abs(D.x-p[0].x),Math.abs(R.x-p[0].x)),H=Math.max(Math.abs(D.y-p[0].y),Math.abs(R.y-p[0].y));j>=H?(g=(D.x+R.x)/2,v=p[0].y):(g=p[0].x,v=(D.y+R.y)/2)}return[[e,{x:a.x+C.x,y:a.y+C.y},...p,{x:u.x+h.x,y:u.y+h.y},n],g,v,S,A]}function U_(e,t,n,r){const o=Math.min(Af(e,t)/2,Af(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function eu({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,p,g]=H_({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((C,h,m)=>{let y="";return m>0&&m<c.length-1?y=U_(c[m-1],h,c[m+1],s):y=`${m===0?"M":"L"}${h.x} ${h.y}`,C+=y,C},""),d,f,p,g]}const ol=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=K.Bottom,targetPosition:f=K.Top,markerEnd:p,markerStart:g,pathOptions:v,interactionWidth:C})=>{const[h,m,y]=eu({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return O.createElement(Xr,{path:h,labelX:m,labelY:y,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:g,interactionWidth:C})});ol.displayName="SmoothStepEdge";const dc=N.memo(e=>{var t;return O.createElement(ol,{...e,pathOptions:N.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});dc.displayName="StepEdge";function B_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=sg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const fc=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:p})=>{const[g,v,C]=B_({sourceX:e,sourceY:t,targetX:n,targetY:r});return O.createElement(Xr,{path:g,labelX:v,labelY:C,label:o,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:p})});fc.displayName="StraightEdge";function Pi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Mf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case K.Left:return[t-Pi(t-r,i),n];case K.Right:return[t+Pi(r-t,i),n];case K.Top:return[t,n-Pi(n-o,i)];case K.Bottom:return[t,n+Pi(o-n,i)]}}function pc({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:o,targetPosition:i=K.Top,curvature:s=.25}){const[l,a]=Mf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=Mf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[d,f,p,g]=lg({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,d,f,p,g]}const $s=N.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=K.Bottom,targetPosition:i=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,pathOptions:v,interactionWidth:C})=>{const[h,m,y]=pc({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:v==null?void 0:v.curvature});return O.createElement(Xr,{path:h,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:g,interactionWidth:C})});$s.displayName="BezierEdge";const hc=N.createContext(null),V_=hc.Provider;hc.Consumer;const G_=()=>N.useContext(hc),W_=e=>"id"in e&&"source"in e&&"target"in e,ug=e=>"id"in e&&!("source"in e)&&!("target"in e),Y_=(e,t,n)=>{if(!ug(e))return[];const r=n.filter(o=>o.source===e.id).map(o=>o.target);return t.filter(o=>r.includes(o.id))},K_=(e,t,n)=>{if(!ug(e))return[];const r=n.filter(o=>o.target===e.id).map(o=>o.source);return t.filter(o=>r.includes(o.id))},X_=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,tu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,q_=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),cg=(e,t)=>{if(!e.source||!e.target)return t;let n;return W_(e)?n={...e}:n={...e,id:X_(e)},q_(n,t)?t:t.concat(n)},nu=({x:e,y:t},[n,r,o],i,[s,l])=>{const a={x:(e-n)/o,y:(t-r)/o};return i?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},dg=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),Vn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},il=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:i,y:s}=Vn(o,t).positionAbsolute;return ng(r,ni({x:i,y:s,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rg(n)},fg=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:p=!0,hidden:g=!1}=c;if(s&&!p||g)return!1;const{positionAbsolute:v}=Vn(c,l),C={x:v.x,y:v.y,width:d||0,height:f||0},h=Za(a,C),m=typeof d>"u"||typeof f>"u"||d===null||f===null,y=i&&h>0,S=(d||0)*(f||0);(m||y||h>=S||c.dragging)&&u.push(c)}),u},mc=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},pg=(e,t,n,r,o,i=.1)=>{const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(s,l),u=Gr(a,r,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,p=n/2-d*u;return{x:f,y:p,zoom:u}},Rn=(e,t=0)=>e.transition().duration(t);function If(e,t,n,r){return(t[n]||[]).reduce((o,i)=>{var s,l;return`${e.id}-${i.id}-${n}`!==r&&o.push({id:i.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),o},[])}function Q_(e,t,n,r,o,i){const{x:s,y:l}=xn(e),u=t.elementsFromPoint(s,l).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const v=gc(void 0,u),C=u.getAttribute("data-handleid"),h=i({nodeId:g,id:C,type:v});if(h){const m=o.find(y=>y.nodeId===g&&y.type===v&&y.id===C);return{handle:{id:C,type:v,nodeId:g,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:h}}}}let c=[],d=1/0;if(o.forEach(g=>{const v=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(v<=r){const C=i(g);v<=d&&(v<d?c=[{handle:g,validHandleResult:C}]:v===d&&c.push({handle:g,validHandleResult:C}),d=v)}}),!c.length)return{handle:null,validHandleResult:hg()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:g})=>g.isValid),p=c.some(({handle:g})=>g.type==="target");return c.find(({handle:g,validHandleResult:v})=>p?g.type==="target":f?v.isValid:!0)||c[0]}const Z_={source:null,target:null,sourceHandle:null,targetHandle:null},hg=()=>({handleDomNode:null,isValid:!1,connection:Z_,endHandle:null});function mg(e,t,n,r,o,i,s){const l=o==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...hg(),handleDomNode:a};if(a){const c=gc(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),p=a.classList.contains("connectable"),g=a.classList.contains("connectableend"),v={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=v,p&&g&&(t===Zn.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=i(v))}return u}function J_({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,i)=>{if(i[me]){const{handleBounds:s}=i[me];let l=[],a=[];s&&(l=If(i,s,"source",`${t}-${n}-${r}`),a=If(i,s,"target",`${t}-${n}-${r}`)),o.push(...l,...a)}return o},[])}function gc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Bl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function eE(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function gg({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=tg(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:p,connectionRadius:g,onConnectStart:v,panBy:C,getNodes:h,cancelConnection:m}=i();let y=0,S;const{x:A,y:T}=xn(e),z=c==null?void 0:c.elementFromPoint(A,T),P=gc(a,z),D=f==null?void 0:f.getBoundingClientRect();if(!D||!P)return;let R,j=xn(e,D),H=!1,L=null,x=!1,b=null;const M=J_({nodes:h(),nodeId:n,handleId:t,handleType:P}),F=()=>{if(!p)return;const[E,I]=eg(j,D);C({x:E,y:I}),y=requestAnimationFrame(F)};s({connectionPosition:j,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:t,type:P},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:P});function k(E){const{transform:I}=i();j=xn(E,D);const{handle:$,validHandleResult:V}=Q_(E,c,nu(j,I,!1,[1,1]),g,M,B=>mg(B,d,n,t,o?"target":"source",l,c));if(S=$,H||(F(),H=!0),b=V.handleDomNode,L=V.connection,x=V.isValid,s({connectionPosition:S&&x?dg({x:S.x,y:S.y},I):j,connectionStatus:eE(!!S,x),connectionEndHandle:V.endHandle}),!S&&!x&&!b)return Bl(R);L.source!==L.target&&b&&(Bl(R),R=b,b.classList.add("connecting","react-flow__handle-connecting"),b.classList.toggle("valid",x),b.classList.toggle("react-flow__handle-valid",x))}function _(E){var I,$;(S||b)&&L&&x&&(r==null||r(L)),($=(I=i()).onConnectEnd)==null||$.call(I,E),a&&(u==null||u(E)),Bl(R),m(),cancelAnimationFrame(y),H=!1,x=!1,L=null,b=null,c.removeEventListener("mousemove",k),c.removeEventListener("mouseup",_),c.removeEventListener("touchmove",k),c.removeEventListener("touchend",_)}c.addEventListener("mousemove",k),c.addEventListener("mouseup",_),c.addEventListener("touchmove",k),c.addEventListener("touchend",_)}const Tf=()=>!0,tE=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),nE=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:s}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},yg=N.forwardRef(({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},p)=>{var D,R;const g=s||null,v=e==="target",C=_e(),h=G_(),{connectOnClick:m,noPanClassName:y}=le(tE,Ne),{connecting:S,clickConnecting:A}=le(nE(h,g,e),Ne);h||(R=(D=C.getState()).onError)==null||R.call(D,"010",Xt.error010());const T=j=>{const{defaultEdgeOptions:H,onConnect:L,hasDefaultEdges:x}=C.getState(),b={...H,...j};if(x){const{edges:M,setEdges:F}=C.getState();F(cg(b,M))}L==null||L(b),l==null||l(b)},z=j=>{if(!h)return;const H=ig(j);o&&(H&&j.button===0||!H)&&gg({event:j,handleId:g,nodeId:h,onConnect:T,isTarget:v,getState:C.getState,setState:C.setState,isValidConnection:n||C.getState().isValidConnection||Tf}),H?c==null||c(j):d==null||d(j)},P=j=>{const{onClickConnectStart:H,onClickConnectEnd:L,connectionClickStartHandle:x,connectionMode:b,isValidConnection:M}=C.getState();if(!h||!x&&!o)return;if(!x){H==null||H(j,{nodeId:h,handleId:g,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:g}});return}const F=tg(j.target),k=n||M||Tf,{connection:_,isValid:E}=mg({nodeId:h,id:g,type:e},b,x.nodeId,x.handleId||null,x.type,k,F);E&&T(_),L==null||L(j),C.setState({connectionClickStartHandle:null})};return O.createElement("div",{"data-handleid":g,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${g}-${e}`,className:Te(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,connecting:A,connectionindicator:r&&(o&&!S||i&&S)}]),onMouseDown:z,onTouchStart:z,onClick:m?P:void 0,ref:p,...f},a)});yg.displayName="Handle";var un=N.memo(yg);const vg=({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom})=>O.createElement(O.Fragment,null,O.createElement(un,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,O.createElement(un,{type:"source",position:r,isConnectable:t}));vg.displayName="DefaultNode";var ru=N.memo(vg);const xg=({data:e,isConnectable:t,sourcePosition:n=K.Bottom})=>O.createElement(O.Fragment,null,e==null?void 0:e.label,O.createElement(un,{type:"source",position:n,isConnectable:t}));xg.displayName="InputNode";var wg=N.memo(xg);const Sg=({data:e,isConnectable:t,targetPosition:n=K.Top})=>O.createElement(O.Fragment,null,O.createElement(un,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Sg.displayName="OutputNode";var _g=N.memo(Sg);const yc=()=>null;yc.displayName="GroupNode";const rE=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Di=e=>e.id;function oE(e,t){return Ne(e.selectedNodes.map(Di),t.selectedNodes.map(Di))&&Ne(e.selectedEdges.map(Di),t.selectedEdges.map(Di))}const Eg=N.memo(({onSelectionChange:e})=>{const t=_e(),{selectedNodes:n,selectedEdges:r}=le(rE,oE);return N.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(i=>i(o))},[n,r,e]),null});Eg.displayName="SelectionListener";const iE=e=>!!e.onSelectionChange;function sE({onSelectionChange:e}){const t=le(iE);return e||t?O.createElement(Eg,{onSelectionChange:e}):null}const lE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ar(e,t){N.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function J(e,t,n){N.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const aE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:g,minZoom:v,maxZoom:C,nodeExtent:h,onNodesChange:m,onEdgesChange:y,elementsSelectable:S,connectionMode:A,snapGrid:T,snapToGrid:z,translateExtent:P,connectOnClick:D,defaultEdgeOptions:R,fitView:j,fitViewOptions:H,onNodesDelete:L,onEdgesDelete:x,onNodeDrag:b,onNodeDragStart:M,onNodeDragStop:F,onSelectionDrag:k,onSelectionDragStart:_,onSelectionDragStop:E,noPanClassName:I,nodeOrigin:$,rfId:V,autoPanOnConnect:B,autoPanOnNodeDrag:G,onError:Y,connectionRadius:q,isValidConnection:Z,nodeDragThreshold:Q})=>{const{setNodes:ne,setEdges:Ce,setDefaultNodesAndEdges:xe,setMinZoom:Oe,setMaxZoom:be,setTranslateExtent:ge,setNodeExtent:qe,reset:ie}=le(lE,Ne),X=_e();return N.useEffect(()=>{const Le=r==null?void 0:r.map(zt=>({...zt,...R}));return xe(n,Le),()=>{ie()}},[]),J("defaultEdgeOptions",R,X.setState),J("connectionMode",A,X.setState),J("onConnect",o,X.setState),J("onConnectStart",i,X.setState),J("onConnectEnd",s,X.setState),J("onClickConnectStart",l,X.setState),J("onClickConnectEnd",a,X.setState),J("nodesDraggable",u,X.setState),J("nodesConnectable",c,X.setState),J("nodesFocusable",d,X.setState),J("edgesFocusable",f,X.setState),J("edgesUpdatable",p,X.setState),J("elementsSelectable",S,X.setState),J("elevateNodesOnSelect",g,X.setState),J("snapToGrid",z,X.setState),J("snapGrid",T,X.setState),J("onNodesChange",m,X.setState),J("onEdgesChange",y,X.setState),J("connectOnClick",D,X.setState),J("fitViewOnInit",j,X.setState),J("fitViewOnInitOptions",H,X.setState),J("onNodesDelete",L,X.setState),J("onEdgesDelete",x,X.setState),J("onNodeDrag",b,X.setState),J("onNodeDragStart",M,X.setState),J("onNodeDragStop",F,X.setState),J("onSelectionDrag",k,X.setState),J("onSelectionDragStart",_,X.setState),J("onSelectionDragStop",E,X.setState),J("noPanClassName",I,X.setState),J("nodeOrigin",$,X.setState),J("rfId",V,X.setState),J("autoPanOnConnect",B,X.setState),J("autoPanOnNodeDrag",G,X.setState),J("onError",Y,X.setState),J("connectionRadius",q,X.setState),J("isValidConnection",Z,X.setState),J("nodeDragThreshold",Q,X.setState),ar(e,ne),ar(t,Ce),ar(v,Oe),ar(C,be),ar(P,ge),ar(h,qe),null},bf={display:"none"},uE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},kg="react-flow__node-desc",Ng="react-flow__edge-desc",cE="react-flow__aria-live",dE=e=>e.ariaLiveMessage;function fE({rfId:e}){const t=le(dE);return O.createElement("div",{id:`${cE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:uE},t)}function pE({rfId:e,disableKeyboardA11y:t}){return O.createElement(O.Fragment,null,O.createElement("div",{id:`${kg}-${e}`,style:bf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),O.createElement("div",{id:`${Ng}-${e}`,style:bf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&O.createElement(fE,{rfId:e}))}var oi=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=N.useState(!1),o=N.useRef(!1),i=N.useRef(new Set([])),[s,l]=N.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return N.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=p=>{if(o.current=p.ctrlKey||p.metaKey||p.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Ja(p))return!1;const v=Rf(p.code,l);i.current.add(p[v]),zf(s,i.current,!1)&&(p.preventDefault(),r(!0))},d=p=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Ja(p))return!1;const v=Rf(p.code,l);zf(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(p[v]),p.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function zf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Rf(e,t){return t.includes(e)?"code":"key"}function Cg(e,t,n,r){var l,a;const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),s=Vn(i,r);return Cg(i,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=i[me])==null?void 0:l.z)??0)>(n.z??0)?((a=i[me])==null?void 0:a.z)??0:n.z??0},r)}function Ag(e,t,n){e.forEach(r=>{var i;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:s,y:l,z:a}=Cg(r,e,{...r.position,z:((i=r[me])==null?void 0:i.z)??0},t);r.positionAbsolute={x:s,y:l},r[me].z=a,n!=null&&n[r.id]&&(r[me].isParent=!0)}})}function Vl(e,t,n,r){const o=new Map,i={},s=r?1e3:0;return e.forEach(l=>{var p;const a=(at(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(i[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,me,{enumerable:!1,value:{handleBounds:f||(p=u==null?void 0:u[me])==null?void 0:p.handleBounds,z:a}}),o.set(l.id,c)}),Ag(o,n,i),o}function Mg(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const g=n().filter(C=>{var m;const h=t.includeHiddenNodes?C.width&&C.height:!C.hidden;return(m=t.nodes)!=null&&m.length?h&&t.nodes.some(y=>y.id===C.id):h}),v=g.every(C=>C.width&&C.height);if(g.length>0&&v){const C=il(g,d),{x:h,y:m,zoom:y}=pg(C,r,o,t.minZoom??i,t.maxZoom??s,t.padding??.1),S=Bt.translate(h,m).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(Rn(a,t.duration),S):l.transform(a,S),!0}}return!1}function hE(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[me]:r[me],selected:n.selected})}),new Map(t)}function mE(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function ji({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:hE(e,o)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:mE(t,i)}),l==null||l(t))}const ur=()=>{},gE={zoomIn:ur,zoomOut:ur,zoomTo:ur,getZoom:()=>1,setViewport:ur,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ur,fitBounds:ur,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},yE=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),vE=()=>{const e=_e(),{d3Zoom:t,d3Selection:n}=le(yE,Ne);return N.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Rn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Rn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Rn(n,i==null?void 0:i.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,l,a]=e.getState().transform,u=Bt.translate(o.x??s,o.y??l).scale(o.zoom??a);t.transform(Rn(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[o,i,s]=e.getState().transform;return{x:o,y:i,zoom:s}},fitView:o=>Mg(e.getState,o),setCenter:(o,i,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-o*c,f=a/2-i*c,p=Bt.translate(d,f).scale(c);t.transform(Rn(n,s==null?void 0:s.duration),p)},fitBounds:(o,i)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=pg(o,s,l,a,u,(i==null?void 0:i.padding)??.1),p=Bt.translate(c,d).scale(f);t.transform(Rn(n,i==null?void 0:i.duration),p)},project:o=>{const{transform:i,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),nu(o,i,s,l)},screenToFlowPosition:o=>{const{transform:i,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return o;const{x:u,y:c}=a.getBoundingClientRect(),d={x:o.x-u,y:o.y-c};return nu(d,i,s,l)},flowToScreenPosition:o=>{const{transform:i,domNode:s}=e.getState();if(!s)return o;const{x:l,y:a}=s.getBoundingClientRect(),u=dg(o,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:gE,[t,n])};function vc(){const e=vE(),t=_e(),n=N.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=N.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=N.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(C=>({...C}))},[]),i=N.useCallback(v=>{const{edges:C=[]}=t.getState();return C.find(h=>h.id===v)},[]),s=N.useCallback(v=>{const{getNodes:C,setNodes:h,hasDefaultNodes:m,onNodesChange:y}=t.getState(),S=C(),A=typeof v=="function"?v(S):v;if(m)h(A);else if(y){const T=A.length===0?S.map(z=>({type:"remove",id:z.id})):A.map(z=>({item:z,type:"reset"}));y(T)}},[]),l=N.useCallback(v=>{const{edges:C=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:y}=t.getState(),S=typeof v=="function"?v(C):v;if(m)h(S);else if(y){const A=S.length===0?C.map(T=>({type:"remove",id:T.id})):S.map(T=>({item:T,type:"reset"}));y(A)}},[]),a=N.useCallback(v=>{const C=Array.isArray(v)?v:[v],{getNodes:h,setNodes:m,hasDefaultNodes:y,onNodesChange:S}=t.getState();if(y){const T=[...h(),...C];m(T)}else if(S){const A=C.map(T=>({item:T,type:"add"}));S(A)}},[]),u=N.useCallback(v=>{const C=Array.isArray(v)?v:[v],{edges:h=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:S}=t.getState();if(y)m([...h,...C]);else if(S){const A=C.map(T=>({item:T,type:"add"}));S(A)}},[]),c=N.useCallback(()=>{const{getNodes:v,edges:C=[],transform:h}=t.getState(),[m,y,S]=h;return{nodes:v().map(A=>({...A})),edges:C.map(A=>({...A})),viewport:{x:m,y,zoom:S}}},[]),d=N.useCallback(({nodes:v,edges:C})=>{const{nodeInternals:h,getNodes:m,edges:y,hasDefaultNodes:S,hasDefaultEdges:A,onNodesDelete:T,onEdgesDelete:z,onNodesChange:P,onEdgesChange:D}=t.getState(),R=(v||[]).map(b=>b.id),j=(C||[]).map(b=>b.id),H=m().reduce((b,M)=>{const F=M.parentNode||M.parentId,k=!R.includes(M.id)&&F&&b.find(E=>E.id===F);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(R.includes(M.id)||k)&&b.push(M),b},[]),L=y.filter(b=>typeof b.deletable=="boolean"?b.deletable:!0),x=L.filter(b=>j.includes(b.id));if(H||x){const b=mc(H,L),M=[...x,...b],F=M.reduce((k,_)=>(k.includes(_.id)||k.push(_.id),k),[]);if((A||S)&&(A&&t.setState({edges:y.filter(k=>!F.includes(k.id))}),S&&(H.forEach(k=>{h.delete(k.id)}),t.setState({nodeInternals:new Map(h)}))),F.length>0&&(z==null||z(M),D&&D(F.map(k=>({id:k,type:"remove"})))),H.length>0&&(T==null||T(H),P)){const k=H.map(_=>({id:_.id,type:"remove"}));P(k)}}},[]),f=N.useCallback(v=>{const C=j_(v),h=C?null:t.getState().nodeInternals.get(v.id);return!C&&!h?[null,null,C]:[C?v:kf(h),h,C]},[]),p=N.useCallback((v,C=!0,h)=>{const[m,y,S]=f(v);return m?(h||t.getState().getNodes()).filter(A=>{if(!S&&(A.id===y.id||!A.positionAbsolute))return!1;const T=kf(A),z=Za(T,m);return C&&z>0||z>=m.width*m.height}):[]},[]),g=N.useCallback((v,C,h=!0)=>{const[m]=f(v);if(!m)return!1;const y=Za(m,C);return h&&y>0||y>=m.width*m.height},[]);return N.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:g}),[e,n,r,o,i,s,l,a,u,c,d,p,g])}const xE={actInsideInputWithModifier:!1};var wE=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=_e(),{deleteElements:r}=vc(),o=oi(e,xE),i=oi(t);N.useEffect(()=>{if(o){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),N.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function SE(e){const t=_e();N.useEffect(()=>{let n;const r=()=>{var i,s;if(!e.current)return;const o=ac(e.current);(o.height===0||o.width===0)&&((s=(i=t.getState()).onError)==null||s.call(i,"004",Xt.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const xc={position:"absolute",width:"100%",height:"100%",top:0,left:0},_E=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Oi=e=>({x:e.x,y:e.y,zoom:e.k}),cr=(e,t)=>e.target.closest(`.${t}`),$f=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Pf=e=>{const t=e.ctrlKey&&Rs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},EE=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),kE=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Ln.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:p,minZoom:g,maxZoom:v,zoomActivationKeyCode:C,preventScrolling:h=!0,children:m,noWheelClassName:y,noPanClassName:S})=>{const A=N.useRef(),T=_e(),z=N.useRef(!1),P=N.useRef(!1),D=N.useRef(null),R=N.useRef({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:H,d3ZoomHandler:L,userSelectionActive:x}=le(EE,Ne),b=oi(C),M=N.useRef(0),F=N.useRef(!1),k=N.useRef();return SE(D),N.useEffect(()=>{if(D.current){const _=D.current.getBoundingClientRect(),E=Zm().scaleExtent([g,v]).translateExtent(p),I=st(D.current).call(E),$=Bt.translate(f.x,f.y).scale(Gr(f.zoom,g,v)),V=[[0,0],[_.width,_.height]],B=E.constrain()($,V,p);E.transform(I,B),E.wheelDelta(Pf),T.setState({d3Zoom:E,d3Selection:I,d3ZoomHandler:I.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:D.current.closest(".react-flow")})}},[]),N.useEffect(()=>{H&&j&&(s&&!b&&!x?H.on("wheel.zoom",_=>{if(cr(_,y))return!1;_.preventDefault(),_.stopImmediatePropagation();const E=H.property("__zoom").k||1;if(_.ctrlKey&&i){const Z=yt(_),Q=Pf(_),ne=E*Math.pow(2,Q);j.scaleTo(H,ne,Z,_);return}const I=_.deltaMode===1?20:1;let $=a===Ln.Vertical?0:_.deltaX*I,V=a===Ln.Horizontal?0:_.deltaY*I;!Rs()&&_.shiftKey&&a!==Ln.Vertical&&($=_.deltaY*I,V=0),j.translateBy(H,-($/E)*l,-(V/E)*l,{internal:!0});const B=Oi(H.property("__zoom")),{onViewportChangeStart:G,onViewportChange:Y,onViewportChangeEnd:q}=T.getState();clearTimeout(k.current),F.current||(F.current=!0,t==null||t(_,B),G==null||G(B)),F.current&&(e==null||e(_,B),Y==null||Y(B),k.current=setTimeout(()=>{n==null||n(_,B),q==null||q(B),F.current=!1},150))},{passive:!1}):typeof L<"u"&&H.on("wheel.zoom",function(_,E){if(!h&&_.type==="wheel"&&!_.ctrlKey||cr(_,y))return null;_.preventDefault(),L.call(this,_,E)},{passive:!1}))},[x,s,a,H,j,L,b,i,h,y,t,e,n]),N.useEffect(()=>{j&&j.on("start",_=>{var $,V;if(!_.sourceEvent||_.sourceEvent.internal)return null;M.current=($=_.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:E}=T.getState(),I=Oi(_.transform);z.current=!0,R.current=I,((V=_.sourceEvent)==null?void 0:V.type)==="mousedown"&&T.setState({paneDragging:!0}),E==null||E(I),t==null||t(_.sourceEvent,I)})},[j,t]),N.useEffect(()=>{j&&(x&&!z.current?j.on("zoom",null):x||j.on("zoom",_=>{var I;const{onViewportChange:E}=T.getState();if(T.setState({transform:[_.transform.x,_.transform.y,_.transform.k]}),P.current=!!(r&&$f(d,M.current??0)),(e||E)&&!((I=_.sourceEvent)!=null&&I.internal)){const $=Oi(_.transform);E==null||E($),e==null||e(_.sourceEvent,$)}}))},[x,j,e,d,r]),N.useEffect(()=>{j&&j.on("end",_=>{if(!_.sourceEvent||_.sourceEvent.internal)return null;const{onViewportChangeEnd:E}=T.getState();if(z.current=!1,T.setState({paneDragging:!1}),r&&$f(d,M.current??0)&&!P.current&&r(_.sourceEvent),P.current=!1,(n||E)&&_E(R.current,_.transform)){const I=Oi(_.transform);R.current=I,clearTimeout(A.current),A.current=setTimeout(()=>{E==null||E(I),n==null||n(_.sourceEvent,I)},s?150:0)}})},[j,s,d,n,r]),N.useEffect(()=>{j&&j.filter(_=>{const E=b||o,I=i&&_.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&_.button===1&&_.type==="mousedown"&&(cr(_,"react-flow__node")||cr(_,"react-flow__edge")))return!0;if(!d&&!E&&!s&&!u&&!i||x||!u&&_.type==="dblclick"||cr(_,y)&&_.type==="wheel"||cr(_,S)&&(_.type!=="wheel"||s&&_.type==="wheel"&&!b)||!i&&_.ctrlKey&&_.type==="wheel"||!E&&!s&&!I&&_.type==="wheel"||!d&&(_.type==="mousedown"||_.type==="touchstart")||Array.isArray(d)&&!d.includes(_.button)&&_.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(_.button)||!_.button||_.button<=1;return(!_.ctrlKey||_.type==="wheel")&&$})},[x,j,o,i,s,u,d,c,b]),O.createElement("div",{className:"react-flow__renderer",ref:D,style:xc},m)},NE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function CE(){const{userSelectionActive:e,userSelectionRect:t}=le(NE,Ne);return e&&t?O.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Df(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(o>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),i>0&&(r.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Ig(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const i=e.filter(l=>l.id===o.id);if(i.length===0)return r.push(o),r;const s={...o};for(const l of i)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Df(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Df(r,s);break}case"remove":return r}return r.push(s),r},n)}function Tg(e,t){return Ig(e,t)}function AE(e,t){return Ig(e,t)}const rn=(e,t)=>({id:e,type:"select",selected:t});function Nr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(rn(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(rn(r.id,!1))),n},[])}const Gl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},ME=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),bg=N.memo(({isSelecting:e,selectionMode:t=ri.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=N.useRef(null),p=_e(),g=N.useRef(0),v=N.useRef(0),C=N.useRef(),{userSelectionActive:h,elementsSelectable:m,dragging:y}=le(ME,Ne),S=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,v.current=0},A=L=>{i==null||i(L),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},T=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}s==null||s(L)},z=l?L=>l(L):void 0,P=L=>{const{resetSelectedElements:x,domNode:b}=p.getState();if(C.current=b==null?void 0:b.getBoundingClientRect(),!m||!e||L.button!==0||L.target!==f.current||!C.current)return;const{x:M,y:F}=xn(L,C.current);x(),p.setState({userSelectionRect:{width:0,height:0,startX:M,startY:F,x:M,y:F}}),r==null||r(L)},D=L=>{const{userSelectionRect:x,nodeInternals:b,edges:M,transform:F,onNodesChange:k,onEdgesChange:_,nodeOrigin:E,getNodes:I}=p.getState();if(!e||!C.current||!x)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=xn(L,C.current),V=x.startX??0,B=x.startY??0,G={...x,x:$.x<V?$.x:V,y:$.y<B?$.y:B,width:Math.abs($.x-V),height:Math.abs($.y-B)},Y=I(),q=fg(b,G,F,t===ri.Partial,!0,E),Z=mc(q,M).map(ne=>ne.id),Q=q.map(ne=>ne.id);if(g.current!==Q.length){g.current=Q.length;const ne=Nr(Y,Q);ne.length&&(k==null||k(ne))}if(v.current!==Z.length){v.current=Z.length;const ne=Nr(M,Z);ne.length&&(_==null||_(ne))}p.setState({userSelectionRect:G})},R=L=>{if(L.button!==0)return;const{userSelectionRect:x}=p.getState();!h&&x&&L.target===f.current&&(A==null||A(L)),p.setState({nodesSelectionActive:g.current>0}),S(),o==null||o(L)},j=L=>{h&&(p.setState({nodesSelectionActive:g.current>0}),o==null||o(L)),S()},H=m&&(e||h);return O.createElement("div",{className:Te(["react-flow__pane",{dragging:y,selection:e}]),onClick:H?void 0:Gl(A,f),onContextMenu:Gl(T,f),onWheel:Gl(z,f),onMouseEnter:H?void 0:a,onMouseDown:H?P:void 0,onMouseMove:H?D:u,onMouseUp:H?R:void 0,onMouseLeave:H?j:c,ref:f,style:xc},d,O.createElement(CE,null))});bg.displayName="Pane";function zg(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:zg(r,t):!1}function jf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function IE(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!zg(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var i,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=o.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((s=o.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function TE(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Rg(e,t,n,r,o=[0,0],i){const s=TE(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:p}=Vn(d,o).positionAbsolute;l=d&&at(f)&&at(p)&&at(d.width)&&at(d.height)?[[f+e.width*o[0],p+e.height*o[1]],[f+d.width-e.width+e.width*o[0],p+d.height-e.height+e.height*o[1]]]:l}else i==null||i("005",Xt.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:p}=Vn(d,o).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+p],[e.extent[1][0]+f,e.extent[1][1]+p]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Vn(d,o).positionAbsolute}const c=l&&l!=="parent"?uc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Wl({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const Of=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...ac(a)}})};function fo(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function ou({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Xt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function bE(){const e=_e();return N.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}},[])}function Yl(e){return(t,n,r)=>e==null?void 0:e(t,r)}function $g({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:s}){const l=_e(),[a,u]=N.useState(!1),c=N.useRef([]),d=N.useRef({x:null,y:null}),f=N.useRef(0),p=N.useRef(null),g=N.useRef({x:0,y:0}),v=N.useRef(null),C=N.useRef(!1),h=N.useRef(!1),m=N.useRef(!1),y=bE();return N.useEffect(()=>{if(e!=null&&e.current){const S=st(e.current),A=({x:P,y:D})=>{const{nodeInternals:R,onNodeDrag:j,onSelectionDrag:H,updateNodePositions:L,nodeExtent:x,snapGrid:b,snapToGrid:M,nodeOrigin:F,onError:k}=l.getState();d.current={x:P,y:D};let _=!1,E={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&x){const $=il(c.current,F);E=ni($)}if(c.current=c.current.map($=>{const V={x:P-$.distance.x,y:D-$.distance.y};M&&(V.x=b[0]*Math.round(V.x/b[0]),V.y=b[1]*Math.round(V.y/b[1]));const B=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];c.current.length>1&&x&&!$.extent&&(B[0][0]=$.positionAbsolute.x-E.x+x[0][0],B[1][0]=$.positionAbsolute.x+($.width??0)-E.x2+x[1][0],B[0][1]=$.positionAbsolute.y-E.y+x[0][1],B[1][1]=$.positionAbsolute.y+($.height??0)-E.y2+x[1][1]);const G=Rg($,V,R,B,F,k);return _=_||$.position.x!==G.position.x||$.position.y!==G.position.y,$.position=G.position,$.positionAbsolute=G.positionAbsolute,$}),!_)return;L(c.current,!0,!0),u(!0);const I=o?j:Yl(H);if(I&&v.current){const[$,V]=Wl({nodeId:o,dragItems:c.current,nodeInternals:R});I(v.current,$,V)}},T=()=>{if(!p.current)return;const[P,D]=eg(g.current,p.current);if(P!==0||D!==0){const{transform:R,panBy:j}=l.getState();d.current.x=(d.current.x??0)-P/R[2],d.current.y=(d.current.y??0)-D/R[2],j({x:P,y:D})&&A(d.current)}f.current=requestAnimationFrame(T)},z=P=>{var F;const{nodeInternals:D,multiSelectionActive:R,nodesDraggable:j,unselectNodesAndEdges:H,onNodeDragStart:L,onSelectionDragStart:x}=l.getState();h.current=!0;const b=o?L:Yl(x);(!s||!i)&&!R&&o&&((F=D.get(o))!=null&&F.selected||H()),o&&i&&s&&ou({id:o,store:l,nodeRef:e});const M=y(P);if(d.current=M,c.current=IE(D,j,M,o),b&&c.current){const[k,_]=Wl({nodeId:o,dragItems:c.current,nodeInternals:D});b(P.sourceEvent,k,_)}};if(t)S.on(".drag",null);else{const P=H2().on("start",D=>{const{domNode:R,nodeDragThreshold:j}=l.getState();j===0&&z(D),m.current=!1;const H=y(D);d.current=H,p.current=(R==null?void 0:R.getBoundingClientRect())||null,g.current=xn(D.sourceEvent,p.current)}).on("drag",D=>{var L,x;const R=y(D),{autoPanOnNodeDrag:j,nodeDragThreshold:H}=l.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!C.current&&h.current&&j&&(C.current=!0,T()),!h.current){const b=R.xSnapped-(((L=d==null?void 0:d.current)==null?void 0:L.x)??0),M=R.ySnapped-(((x=d==null?void 0:d.current)==null?void 0:x.y)??0);Math.sqrt(b*b+M*M)>H&&z(D)}(d.current.x!==R.xSnapped||d.current.y!==R.ySnapped)&&c.current&&h.current&&(v.current=D.sourceEvent,g.current=xn(D.sourceEvent,p.current),A(R))}}).on("end",D=>{if(!(!h.current||m.current)&&(u(!1),C.current=!1,h.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:R,nodeInternals:j,onNodeDragStop:H,onSelectionDragStop:L}=l.getState(),x=o?H:Yl(L);if(R(c.current,!1,!1),x){const[b,M]=Wl({nodeId:o,dragItems:c.current,nodeInternals:j});x(D.sourceEvent,b,M)}}}).filter(D=>{const R=D.target;return!D.button&&(!n||!jf(R,`.${n}`,e))&&(!r||jf(R,r,e))});return S.call(P),()=>{S.on(".drag",null)}}}},[e,t,n,r,i,l,o,s,y]),a}function Pg(){const e=_e();return N.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(m=>m.selected&&(m.draggable||c&&typeof m.draggable>"u")),f=l?a[0]:5,p=l?a[1]:5,g=n.isShiftPressed?4:1,v=n.x*f*g,C=n.y*p*g,h=d.map(m=>{if(m.positionAbsolute){const y={x:m.positionAbsolute.x+v,y:m.positionAbsolute.y+C};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:S,position:A}=Rg(m,y,r,o,void 0,u);m.position=A,m.positionAbsolute=S}return m});i(h,!0,!1)},[])}const $r={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var po=e=>{const t=({id:n,type:r,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:p,onContextMenu:g,onDoubleClick:v,style:C,className:h,isDraggable:m,isSelectable:y,isConnectable:S,isFocusable:A,selectNodesOnDrag:T,sourcePosition:z,targetPosition:P,hidden:D,resizeObserver:R,dragHandle:j,zIndex:H,isParent:L,noDragClassName:x,noPanClassName:b,initialized:M,disableKeyboardA11y:F,ariaLabel:k,rfId:_,hasHandleBounds:E})=>{const I=_e(),$=N.useRef(null),V=N.useRef(null),B=N.useRef(z),G=N.useRef(P),Y=N.useRef(r),q=y||m||c||d||f||p,Z=Pg(),Q=fo(n,I.getState,d),ne=fo(n,I.getState,f),Ce=fo(n,I.getState,p),xe=fo(n,I.getState,g),Oe=fo(n,I.getState,v),be=ie=>{const{nodeDragThreshold:X}=I.getState();if(y&&(!T||!m||X>0)&&ou({id:n,store:I,nodeRef:$}),c){const Le=I.getState().nodeInternals.get(n);Le&&c(ie,{...Le})}},ge=ie=>{if(!Ja(ie)&&!F)if(og.includes(ie.key)&&y){const X=ie.key==="Escape";ou({id:n,store:I,unselect:X,nodeRef:$})}else m&&u&&Object.prototype.hasOwnProperty.call($r,ie.key)&&(I.setState({ariaLiveMessage:`Moved selected node ${ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),Z({x:$r[ie.key].x,y:$r[ie.key].y,isShiftPressed:ie.shiftKey}))};N.useEffect(()=>()=>{V.current&&(R==null||R.unobserve(V.current),V.current=null)},[]),N.useEffect(()=>{if($.current&&!D){const ie=$.current;(!M||!E||V.current!==ie)&&(V.current&&(R==null||R.unobserve(V.current)),R==null||R.observe(ie),V.current=ie)}},[D,M,E]),N.useEffect(()=>{const ie=Y.current!==r,X=B.current!==z,Le=G.current!==P;$.current&&(ie||X||Le)&&(ie&&(Y.current=r),X&&(B.current=z),Le&&(G.current=P),I.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,z,P]);const qe=$g({nodeRef:$,disabled:D||!m,noDragClassName:x,handleSelector:j,nodeId:n,isSelectable:y,selectNodesOnDrag:T});return D?null:O.createElement("div",{className:Te(["react-flow__node",`react-flow__node-${r}`,{[b]:m},h,{selected:u,selectable:y,parent:L,dragging:qe}]),ref:$,style:{zIndex:H,transform:`translate(${l}px,${a}px)`,pointerEvents:q?"all":"none",visibility:M?"visible":"hidden",...C},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Q,onMouseMove:ne,onMouseLeave:Ce,onContextMenu:xe,onClick:be,onDoubleClick:Oe,onKeyDown:A?ge:void 0,tabIndex:A?0:void 0,role:A?"button":void 0,"aria-describedby":F?void 0:`${kg}-${_}`,"aria-label":k},O.createElement(V_,{value:n},O.createElement(e,{id:n,data:o,type:r,xPos:i,yPos:s,selected:u,isConnectable:S,sourcePosition:z,targetPosition:P,dragging:qe,dragHandle:j,zIndex:H})))};return t.displayName="NodeWrapper",N.memo(t)};const zE=e=>{const t=e.getNodes().filter(n=>n.selected);return{...il(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function RE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_e(),{width:o,height:i,x:s,y:l,transformString:a,userSelectionActive:u}=le(zE,Ne),c=Pg(),d=N.useRef(null);if(N.useEffect(()=>{var g;n||(g=d.current)==null||g.focus({preventScroll:!0})},[n]),$g({nodeRef:d}),u||!o||!i)return null;const f=e?g=>{const v=r.getState().getNodes().filter(C=>C.selected);e(g,v)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call($r,g.key)&&c({x:$r[g.key].x,y:$r[g.key].y,isShiftPressed:g.shiftKey})};return O.createElement("div",{className:Te(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},O.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i,top:l,left:s}}))}var $E=N.memo(RE);const PE=e=>e.nodesSelectionActive,Dg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:C,panActivationKeyCode:h,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:S,zoomOnPinch:A,panOnScroll:T,panOnScrollSpeed:z,panOnScrollMode:P,zoomOnDoubleClick:D,panOnDrag:R,defaultViewport:j,translateExtent:H,minZoom:L,maxZoom:x,preventScrolling:b,onSelectionContextMenu:M,noWheelClassName:F,noPanClassName:k,disableKeyboardA11y:_})=>{const E=le(PE),I=oi(d),$=oi(h),V=$||R,B=$||T,G=I||f&&V!==!0;return wE({deleteKeyCode:l,multiSelectionKeyCode:C}),O.createElement(kE,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:S,zoomOnPinch:A,panOnScroll:B,panOnScrollSpeed:z,panOnScrollMode:P,zoomOnDoubleClick:D,panOnDrag:!I&&V,defaultViewport:j,translateExtent:H,minZoom:L,maxZoom:x,zoomActivationKeyCode:m,preventScrolling:b,noWheelClassName:F,noPanClassName:k},O.createElement(bg,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!G,selectionMode:p},e,E&&O.createElement($E,{onSelectionContextMenu:M,noPanClassName:k,disableKeyboardA11y:_})))};Dg.displayName="FlowRenderer";var DE=N.memo(Dg);function jE(e){return le(N.useCallback(n=>e?fg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function OE(e){const t={input:po(e.input||wg),default:po(e.default||ru),output:po(e.output||_g),group:po(e.group||yc)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=po(e[i]||ru),o),n);return{...t,...r}}const LE=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},FE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),jg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:s}=le(FE,Ne),l=jE(e.onlyRenderVisibleElements),a=N.useRef(),u=N.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(f)});return a.current=c,c},[]);return N.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),O.createElement("div",{className:"react-flow__nodes",style:xc},l.map(c=>{var A,T,z;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",Xt.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),g=!!(c.selectable||o&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),C=!!(c.focusable||r&&typeof c.focusable>"u"),h=e.nodeExtent?uc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,m=(h==null?void 0:h.x)??0,y=(h==null?void 0:h.y)??0,S=LE({x:m,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return O.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||K.Bottom,targetPosition:c.targetPosition||K.Top,hidden:c.hidden,xPos:m,yPos:y,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:g,isConnectable:v,isFocusable:C,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((A=c[me])==null?void 0:A.z)??0,isParent:!!((T=c[me])!=null&&T.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((z=c[me])!=null&&z.handleBounds)})}))};jg.displayName="NodeRenderer";var HE=N.memo(jg);const UE=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,BE=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,Lf="react-flow__edgeupdater",Ff=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l})=>O.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Te([Lf,`${Lf}-${l}`]),cx:UE(t,r,e),cy:BE(n,r,e),r,stroke:"transparent",fill:"transparent"}),VE=()=>!0;var dr=e=>{const t=({id:n,className:r,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:C,source:h,target:m,sourceX:y,sourceY:S,targetX:A,targetY:T,sourcePosition:z,targetPosition:P,elementsSelectable:D,hidden:R,sourceHandleId:j,targetHandleId:H,onContextMenu:L,onMouseEnter:x,onMouseMove:b,onMouseLeave:M,reconnectRadius:F,onReconnect:k,onReconnectStart:_,onReconnectEnd:E,markerEnd:I,markerStart:$,rfId:V,ariaLabel:B,isFocusable:G,isReconnectable:Y,pathOptions:q,interactionWidth:Z,disableKeyboardA11y:Q})=>{const ne=N.useRef(null),[Ce,xe]=N.useState(!1),[Oe,be]=N.useState(!1),ge=_e(),qe=N.useMemo(()=>`url('#${tu($,V)}')`,[$,V]),ie=N.useMemo(()=>`url('#${tu(I,V)}')`,[I,V]);if(R)return null;const X=ze=>{var kt;const{edges:pt,addSelectedEdges:An,unselectNodesAndEdges:Mn,multiSelectionActive:In}=ge.getState(),$t=pt.find(Zr=>Zr.id===n);$t&&(D&&(ge.setState({nodesSelectionActive:!1}),$t.selected&&In?(Mn({nodes:[],edges:[$t]}),(kt=ne.current)==null||kt.blur()):An([n])),s&&s(ze,$t))},Le=co(n,ge.getState,l),zt=co(n,ge.getState,L),qr=co(n,ge.getState,x),tr=co(n,ge.getState,b),nr=co(n,ge.getState,M),Rt=(ze,pt)=>{if(ze.button!==0)return;const{edges:An,isValidConnection:Mn}=ge.getState(),In=pt?m:h,$t=(pt?H:j)||null,kt=pt?"target":"source",Zr=Mn||VE,sl=pt,Jr=An.find(Tn=>Tn.id===n);be(!0),_==null||_(ze,Jr,kt);const ll=Tn=>{be(!1),E==null||E(Tn,Jr,kt)};gg({event:ze,handleId:$t,nodeId:In,onConnect:Tn=>k==null?void 0:k(Jr,Tn),isTarget:sl,getState:ge.getState,setState:ge.setState,isValidConnection:Zr,edgeUpdaterType:kt,onReconnectEnd:ll})},rr=ze=>Rt(ze,!0),Nn=ze=>Rt(ze,!1),Cn=()=>xe(!0),or=()=>xe(!1),ir=!D&&!s,Qr=ze=>{var pt;if(!Q&&og.includes(ze.key)&&D){const{unselectNodesAndEdges:An,addSelectedEdges:Mn,edges:In}=ge.getState();ze.key==="Escape"?((pt=ne.current)==null||pt.blur(),An({edges:[In.find(kt=>kt.id===n)]})):Mn([n])}};return O.createElement("g",{className:Te(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:a,animated:u,inactive:ir,updating:Ce}]),onClick:X,onDoubleClick:Le,onContextMenu:zt,onMouseEnter:qr,onMouseMove:tr,onMouseLeave:nr,onKeyDown:G?Qr:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${h} to ${m}`,"aria-describedby":G?`${Ng}-${V}`:void 0,ref:ne},!Oe&&O.createElement(e,{id:n,source:h,target:m,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,data:i,style:C,sourceX:y,sourceY:S,targetX:A,targetY:T,sourcePosition:z,targetPosition:P,sourceHandleId:j,targetHandleId:H,markerStart:qe,markerEnd:ie,pathOptions:q,interactionWidth:Z}),Y&&O.createElement(O.Fragment,null,(Y==="source"||Y===!0)&&O.createElement(Ff,{position:z,centerX:y,centerY:S,radius:F,onMouseDown:rr,onMouseEnter:Cn,onMouseOut:or,type:"source"}),(Y==="target"||Y===!0)&&O.createElement(Ff,{position:P,centerX:A,centerY:T,radius:F,onMouseDown:Nn,onMouseEnter:Cn,onMouseOut:or,type:"target"})))};return t.displayName="EdgeWrapper",N.memo(t)};function GE(e){const t={default:dr(e.default||$s),straight:dr(e.bezier||fc),step:dr(e.step||dc),smoothstep:dr(e.step||ol),simplebezier:dr(e.simplebezier||cc)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=dr(e[i]||$s),o),n);return{...t,...r}}function Hf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case K.Top:return{x:r+i/2,y:o};case K.Right:return{x:r+i,y:o+s/2};case K.Bottom:return{x:r+i/2,y:o+s};case K.Left:return{x:r,y:o+s/2}}}function Uf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const WE=(e,t,n,r,o,i)=>{const s=Hf(n,e,t),l=Hf(i,r,o);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function YE({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=ni({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Bf(e){var r,o,i,s,l;const t=((r=e==null?void 0:e[me])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const KE=[{level:0,isMaxLevel:!0,edges:[]}];function XE(e,t,n=!1){let r=-1;const o=e.reduce((s,l)=>{var c,d;const a=at(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),p=t.get(l.source),g=l.selected||(f==null?void 0:f.selected)||(p==null?void 0:p.selected),v=Math.max(((c=p==null?void 0:p[me])==null?void 0:c.z)||0,((d=f==null?void 0:f[me])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(g?v:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),i=Object.entries(o).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?KE:i}function qE(e,t,n){const r=le(N.useCallback(o=>e?o.edges.filter(i=>{const s=t.get(i.source),l=t.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&YE({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return XE(r,t,n)}const QE=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ZE=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Vf={[Bn.Arrow]:QE,[Bn.ArrowClosed]:ZE};function JE(e){const t=_e();return N.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Vf,e)?Vf[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Xt.error009(e)),null)},[e])}const ek=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=JE(t);return a?O.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},O.createElement(a,{color:n,strokeWidth:s})):null},tk=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=tu(s,t);r.includes(l)||(o.push({id:l,color:s.color||e,...s}),r.push(l))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},Og=({defaultColor:e,rfId:t})=>{const n=le(N.useCallback(tk({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((i,s)=>i.id!==o[s].id)));return O.createElement("defs",null,n.map(r=>O.createElement(ek,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Og.displayName="MarkerDefinitions";var nk=N.memo(Og);const rk=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Lg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:g,reconnectRadius:v,children:C,disableKeyboardA11y:h})=>{const{edgesFocusable:m,edgesUpdatable:y,elementsSelectable:S,width:A,height:T,connectionMode:z,nodeInternals:P,onError:D}=le(rk,Ne),R=qE(t,P,n);return A?O.createElement(O.Fragment,null,R.map(({level:j,edges:H,isMaxLevel:L})=>O.createElement("svg",{key:j,style:{zIndex:j},width:A,height:T,className:"react-flow__edges react-flow__container"},L&&O.createElement(nk,{defaultColor:e,rfId:r}),O.createElement("g",null,H.map(x=>{const[b,M,F]=Bf(P.get(x.source)),[k,_,E]=Bf(P.get(x.target));if(!F||!E)return null;let I=x.type||"default";o[I]||(D==null||D("011",Xt.error011(I)),I="default");const $=o[I]||o.default,V=z===Zn.Strict?_.target:(_.target??[]).concat(_.source??[]),B=Uf(M.source,x.sourceHandle),G=Uf(V,x.targetHandle),Y=(B==null?void 0:B.position)||K.Bottom,q=(G==null?void 0:G.position)||K.Top,Z=!!(x.focusable||m&&typeof x.focusable>"u"),Q=x.reconnectable||x.updatable,ne=typeof f<"u"&&(Q||y&&typeof Q>"u");if(!B||!G)return D==null||D("008",Xt.error008(B,x)),null;const{sourceX:Ce,sourceY:xe,targetX:Oe,targetY:be}=WE(b,B,Y,k,G,q);return O.createElement($,{key:x.id,id:x.id,className:Te([x.className,i]),type:I,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:Ce,sourceY:xe,targetX:Oe,targetY:be,sourcePosition:Y,targetPosition:q,elementsSelectable:S,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:g,reconnectRadius:v,rfId:r,ariaLabel:x.ariaLabel,isFocusable:Z,isReconnectable:ne,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:h})})))),C):null};Lg.displayName="EdgeRenderer";var ok=N.memo(Lg);const ik=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function sk({children:e}){const t=le(ik);return O.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function lk(e){const t=vc(),n=N.useRef(!1);N.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const ak={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top},Fg=({nodeId:e,handleType:t,style:n,type:r=Ot.Bezier,CustomComponent:o,connectionStatus:i})=>{var T,z,P;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=le(N.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),Ne),d=(T=s==null?void 0:s[me])==null?void 0:T.handleBounds;let f=d==null?void 0:d[t];if(c===Zn.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const p=l?f.find(D=>D.id===l):f[0],g=p?p.x+p.width/2:(s.width??0)/2,v=p?p.y+p.height/2:s.height??0,C=(((z=s.positionAbsolute)==null?void 0:z.x)??0)+g,h=(((P=s.positionAbsolute)==null?void 0:P.y)??0)+v,m=p==null?void 0:p.position,y=m?ak[m]:null;if(!m||!y)return null;if(o)return O.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:C,fromY:h,toX:a,toY:u,fromPosition:m,toPosition:y,connectionStatus:i});let S="";const A={sourceX:C,sourceY:h,sourcePosition:m,targetX:a,targetY:u,targetPosition:y};return r===Ot.Bezier?[S]=pc(A):r===Ot.Step?[S]=eu({...A,borderRadius:0}):r===Ot.SmoothStep?[S]=eu(A):r===Ot.SimpleBezier?[S]=ag(A):S=`M${C},${h} ${a},${u}`,O.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};Fg.displayName="ConnectionLine";const uk=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ck({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:i,nodesConnectable:s,width:l,height:a,connectionStatus:u}=le(uk,Ne);return!(o&&i&&l&&s)?null:O.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},O.createElement("g",{className:Te(["react-flow__connection",u])},O.createElement(Fg,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Gf(e,t){return N.useRef(null),_e(),N.useMemo(()=>t(e),[e])}const Hg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:C,connectionLineType:h,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:S,selectionKeyCode:A,selectionOnDrag:T,selectionMode:z,multiSelectionKeyCode:P,panActivationKeyCode:D,zoomActivationKeyCode:R,deleteKeyCode:j,onlyRenderVisibleElements:H,elementsSelectable:L,selectNodesOnDrag:x,defaultViewport:b,translateExtent:M,minZoom:F,maxZoom:k,preventScrolling:_,defaultMarkerColor:E,zoomOnScroll:I,zoomOnPinch:$,panOnScroll:V,panOnScrollSpeed:B,panOnScrollMode:G,zoomOnDoubleClick:Y,panOnDrag:q,onPaneClick:Z,onPaneMouseEnter:Q,onPaneMouseMove:ne,onPaneMouseLeave:Ce,onPaneScroll:xe,onPaneContextMenu:Oe,onEdgeContextMenu:be,onEdgeMouseEnter:ge,onEdgeMouseMove:qe,onEdgeMouseLeave:ie,onReconnect:X,onReconnectStart:Le,onReconnectEnd:zt,reconnectRadius:qr,noDragClassName:tr,noWheelClassName:nr,noPanClassName:Rt,elevateEdgesOnSelect:rr,disableKeyboardA11y:Nn,nodeOrigin:Cn,nodeExtent:or,rfId:ir})=>{const Qr=Gf(e,OE),ze=Gf(t,GE);return lk(i),O.createElement(DE,{onPaneClick:Z,onPaneMouseEnter:Q,onPaneMouseMove:ne,onPaneMouseLeave:Ce,onPaneContextMenu:Oe,onPaneScroll:xe,deleteKeyCode:j,selectionKeyCode:A,selectionOnDrag:T,selectionMode:z,onSelectionStart:v,onSelectionEnd:C,multiSelectionKeyCode:P,panActivationKeyCode:D,zoomActivationKeyCode:R,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:I,zoomOnPinch:$,zoomOnDoubleClick:Y,panOnScroll:V,panOnScrollSpeed:B,panOnScrollMode:G,panOnDrag:q,defaultViewport:b,translateExtent:M,minZoom:F,maxZoom:k,onSelectionContextMenu:g,preventScrolling:_,noDragClassName:tr,noWheelClassName:nr,noPanClassName:Rt,disableKeyboardA11y:Nn},O.createElement(sk,null,O.createElement(ok,{edgeTypes:ze,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:H,onEdgeContextMenu:be,onEdgeMouseEnter:ge,onEdgeMouseMove:qe,onEdgeMouseLeave:ie,onReconnect:X,onReconnectStart:Le,onReconnectEnd:zt,reconnectRadius:qr,defaultMarkerColor:E,noPanClassName:Rt,elevateEdgesOnSelect:!!rr,disableKeyboardA11y:Nn,rfId:ir},O.createElement(ck,{style:m,type:h,component:y,containerStyle:S})),O.createElement("div",{className:"react-flow__edgelabel-renderer"}),O.createElement(HE,{nodeTypes:Qr,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:x,onlyRenderVisibleElements:H,noPanClassName:Rt,noDragClassName:tr,disableKeyboardA11y:Nn,nodeOrigin:Cn,nodeExtent:or,rfId:ir})))};Hg.displayName="GraphView";var dk=N.memo(Hg);const iu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Zt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:iu,nodeExtent:iu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Zn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:O_,isValidConnection:void 0},fk=()=>Jx((e,t)=>({...Zt,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Vl(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",i=typeof r<"u",s=o?Vl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((v,C)=>{const h=o.get(C.id);if(h!=null&&h.hidden)o.set(h.id,{...h,[me]:{...h[me],handleBounds:void 0}});else if(h){const m=ac(C.nodeElement);!!(m.width&&m.height&&(h.width!==m.width||h.height!==m.height||C.forceUpdate))&&(o.set(h.id,{...h,[me]:{...h[me],handleBounds:{source:Of(".source",C.nodeElement,f,u),target:Of(".target",C.nodeElement,f,u)}},...m}),v.push({id:h.id,type:"dimensions",dimensions:m}))}return v},[]);Ag(o,u);const g=s||i&&!s&&Mg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:g}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:i}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:o};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=Tg(n,l()),c=Vl(u,o,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>rn(a,!0)):(s=Nr(i(),n),l=Nr(o,[])),ji({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let s,l=null;r?s=n.map(a=>rn(a,!0)):(s=Nr(o,n),l=Nr(i(),[])),ji({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),s=n||i(),l=r||o,a=s.map(c=>(c.selected=!1,rn(c.id,!1))),u=l.map(c=>rn(c.id,!1));ji({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>rn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>rn(l.id,!1));ji({changedNodes:i,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=uc(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:i,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=Bt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[o,i]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Zt.connectionNodeId,connectionHandleId:Zt.connectionHandleId,connectionHandleType:Zt.connectionHandleType,connectionStatus:Zt.connectionStatus,connectionStartHandle:Zt.connectionStartHandle,connectionEndHandle:Zt.connectionEndHandle}),reset:()=>e({...Zt})}),Object.is),wc=({children:e})=>{const t=N.useRef(null);return t.current||(t.current=fk()),O.createElement(b_,{value:t.current},e)};wc.displayName="ReactFlowProvider";const Ug=({children:e})=>N.useContext(rl)?O.createElement(O.Fragment,null,e):O.createElement(wc,null,e);Ug.displayName="ReactFlowWrapper";const pk={input:wg,default:ru,output:_g,group:yc},hk={default:$s,straight:fc,step:dc,smoothstep:ol,simplebezier:cc},mk=[0,0],gk=[15,15],yk={x:0,y:0,zoom:1},vk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Bg=N.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i=pk,edgeTypes:s=hk,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:g,onConnectEnd:v,onClickConnectStart:C,onClickConnectEnd:h,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:S,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:D,onNodesDelete:R,onEdgesDelete:j,onSelectionChange:H,onSelectionDragStart:L,onSelectionDrag:x,onSelectionDragStop:b,onSelectionContextMenu:M,onSelectionStart:F,onSelectionEnd:k,connectionMode:_=Zn.Strict,connectionLineType:E=Ot.Bezier,connectionLineStyle:I,connectionLineComponent:$,connectionLineContainerStyle:V,deleteKeyCode:B="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Y=!1,selectionMode:q=ri.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:Q=Rs()?"Meta":"Control",zoomActivationKeyCode:ne=Rs()?"Meta":"Control",snapToGrid:Ce=!1,snapGrid:xe=gk,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:be=!0,nodesDraggable:ge,nodesConnectable:qe,nodesFocusable:ie,nodeOrigin:X=mk,edgesFocusable:Le,edgesUpdatable:zt,elementsSelectable:qr,defaultViewport:tr=yk,minZoom:nr=.5,maxZoom:Rt=2,translateExtent:rr=iu,preventScrolling:Nn=!0,nodeExtent:Cn,defaultMarkerColor:or="#b1b1b7",zoomOnScroll:ir=!0,zoomOnPinch:Qr=!0,panOnScroll:ze=!1,panOnScrollSpeed:pt=.5,panOnScrollMode:An=Ln.Free,zoomOnDoubleClick:Mn=!0,panOnDrag:In=!0,onPaneClick:$t,onPaneMouseEnter:kt,onPaneMouseMove:Zr,onPaneMouseLeave:sl,onPaneScroll:Jr,onPaneContextMenu:ll,children:Sc,onEdgeContextMenu:Tn,onEdgeDoubleClick:Xg,onEdgeMouseEnter:qg,onEdgeMouseMove:Qg,onEdgeMouseLeave:Zg,onEdgeUpdate:Jg,onEdgeUpdateStart:e0,onEdgeUpdateEnd:t0,onReconnect:n0,onReconnectStart:r0,onReconnectEnd:o0,reconnectRadius:i0=10,edgeUpdaterRadius:s0=10,onNodesChange:l0,onEdgesChange:a0,noDragClassName:u0="nodrag",noWheelClassName:c0="nowheel",noPanClassName:_c="nopan",fitView:d0=!1,fitViewOptions:f0,connectOnClick:p0=!0,attributionPosition:h0,proOptions:m0,defaultEdgeOptions:g0,elevateNodesOnSelect:y0=!0,elevateEdgesOnSelect:v0=!1,disableKeyboardA11y:Ec=!1,autoPanOnConnect:x0=!0,autoPanOnNodeDrag:w0=!0,connectionRadius:S0=20,isValidConnection:_0,onError:E0,style:k0,id:kc,nodeDragThreshold:N0,...C0},A0)=>{const al=kc||"1";return O.createElement("div",{...C0,style:{...k0,...vk},ref:A0,className:Te(["react-flow",o]),"data-testid":"rf__wrapper",id:kc},O.createElement(Ug,null,O.createElement(dk,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:S,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:i,edgeTypes:s,connectionLineType:E,connectionLineStyle:I,connectionLineComponent:$,connectionLineContainerStyle:V,selectionKeyCode:G,selectionOnDrag:Y,selectionMode:q,deleteKeyCode:B,multiSelectionKeyCode:Q,panActivationKeyCode:Z,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Oe,selectNodesOnDrag:be,defaultViewport:tr,translateExtent:rr,minZoom:nr,maxZoom:Rt,preventScrolling:Nn,zoomOnScroll:ir,zoomOnPinch:Qr,zoomOnDoubleClick:Mn,panOnScroll:ze,panOnScrollSpeed:pt,panOnScrollMode:An,panOnDrag:In,onPaneClick:$t,onPaneMouseEnter:kt,onPaneMouseMove:Zr,onPaneMouseLeave:sl,onPaneScroll:Jr,onPaneContextMenu:ll,onSelectionContextMenu:M,onSelectionStart:F,onSelectionEnd:k,onEdgeContextMenu:Tn,onEdgeDoubleClick:Xg,onEdgeMouseEnter:qg,onEdgeMouseMove:Qg,onEdgeMouseLeave:Zg,onReconnect:n0??Jg,onReconnectStart:r0??e0,onReconnectEnd:o0??t0,reconnectRadius:i0??s0,defaultMarkerColor:or,noDragClassName:u0,noWheelClassName:c0,noPanClassName:_c,elevateEdgesOnSelect:v0,rfId:al,disableKeyboardA11y:Ec,nodeOrigin:X,nodeExtent:Cn}),O.createElement(aE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:g,onConnectEnd:v,onClickConnectStart:C,onClickConnectEnd:h,nodesDraggable:ge,nodesConnectable:qe,nodesFocusable:ie,edgesFocusable:Le,edgesUpdatable:zt,elementsSelectable:qr,elevateNodesOnSelect:y0,minZoom:nr,maxZoom:Rt,nodeExtent:Cn,onNodesChange:l0,onEdgesChange:a0,snapToGrid:Ce,snapGrid:xe,connectionMode:_,translateExtent:rr,connectOnClick:p0,defaultEdgeOptions:g0,fitView:d0,fitViewOptions:f0,onNodesDelete:R,onEdgesDelete:j,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:D,onSelectionDrag:x,onSelectionDragStart:L,onSelectionDragStop:b,noPanClassName:_c,nodeOrigin:X,rfId:al,autoPanOnConnect:x0,autoPanOnNodeDrag:w0,onError:E0,connectionRadius:S0,isValidConnection:_0,nodeDragThreshold:N0}),O.createElement(sE,{onSelectionChange:H}),Sc,O.createElement(R_,{proOptions:m0,position:h0}),O.createElement(pE,{rfId:al,disableKeyboardA11y:Ec})))});Bg.displayName="ReactFlow";function Vg(e){return t=>{const[n,r]=N.useState(t),o=N.useCallback(i=>r(s=>e(i,s)),[]);return[n,r,o]}}const xk=Vg(Tg),wk=Vg(AE),Gg=({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:p})=>{const{background:g,backgroundColor:v}=i||{},C=s||g||v;return O.createElement("rect",{className:Te(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,fill:C,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?h=>f(h,e):void 0})};Gg.displayName="MiniMapNode";var Sk=N.memo(Gg);const _k=e=>e.nodeOrigin,Ek=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Kl=e=>e instanceof Function?e:()=>e;function kk({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=Sk,onClick:s}){const l=le(Ek,Ne),a=le(_k),u=Kl(t),c=Kl(e),d=Kl(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return O.createElement(O.Fragment,null,l.map(p=>{const{x:g,y:v}=Vn(p,a).positionAbsolute;return O.createElement(i,{key:p.id,x:g,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:d(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:o,shapeRendering:f,onClick:s,id:p.id})}))}var Nk=N.memo(kk);const Ck=200,Ak=150,Mk=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?D_(il(t,e.nodeOrigin),n):n,rfId:e.rfId}},Ik="react-flow__minimap-desc";function Wg({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:p,pannable:g=!1,zoomable:v=!1,ariaLabel:C="React Flow mini map",inversePan:h=!1,zoomStep:m=10,offsetScale:y=5}){const S=_e(),A=N.useRef(null),{boundingRect:T,viewBB:z,rfId:P}=le(Mk,Ne),D=(e==null?void 0:e.width)??Ck,R=(e==null?void 0:e.height)??Ak,j=T.width/D,H=T.height/R,L=Math.max(j,H),x=L*D,b=L*R,M=y*L,F=T.x-(x-T.width)/2-M,k=T.y-(b-T.height)/2-M,_=x+M*2,E=b+M*2,I=`${Ik}-${P}`,$=N.useRef(0);$.current=L,N.useEffect(()=>{if(A.current){const G=st(A.current),Y=Q=>{const{transform:ne,d3Selection:Ce,d3Zoom:xe}=S.getState();if(Q.sourceEvent.type!=="wheel"||!Ce||!xe)return;const Oe=-Q.sourceEvent.deltaY*(Q.sourceEvent.deltaMode===1?.05:Q.sourceEvent.deltaMode?1:.002)*m,be=ne[2]*Math.pow(2,Oe);xe.scaleTo(Ce,be)},q=Q=>{const{transform:ne,d3Selection:Ce,d3Zoom:xe,translateExtent:Oe,width:be,height:ge}=S.getState();if(Q.sourceEvent.type!=="mousemove"||!Ce||!xe)return;const qe=$.current*Math.max(1,ne[2])*(h?-1:1),ie={x:ne[0]-Q.sourceEvent.movementX*qe,y:ne[1]-Q.sourceEvent.movementY*qe},X=[[0,0],[be,ge]],Le=Bt.translate(ie.x,ie.y).scale(ne[2]),zt=xe.constrain()(Le,X,Oe);xe.transform(Ce,zt)},Z=Zm().on("zoom",g?q:null).on("zoom.wheel",v?Y:null);return G.call(Z),()=>{G.on("zoom",null)}}},[g,v,h,m]);const V=f?G=>{const Y=yt(G);f(G,{x:Y[0],y:Y[1]})}:void 0,B=p?(G,Y)=>{const q=S.getState().nodeInternals.get(Y);p(G,q)}:void 0;return O.createElement(lc,{position:d,style:e,className:Te(["react-flow__minimap",t]),"data-testid":"rf__minimap"},O.createElement("svg",{width:D,height:R,viewBox:`${F} ${k} ${_} ${E}`,role:"img","aria-labelledby":I,ref:A,onClick:V},C&&O.createElement("title",{id:I},C),O.createElement(Nk,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),O.createElement("path",{className:"react-flow__minimap-mask",d:`M${F-M},${k-M}h${_+M*2}v${E+M*2}h${-_-M*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Wg.displayName="MiniMap";var Tk=N.memo(Wg);function bk(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},O.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function zk(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},O.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Rk(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},O.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function $k(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Pk(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const So=({children:e,className:t,...n})=>O.createElement("button",{type:"button",className:Te(["react-flow__controls-button",t]),...n},e);So.displayName="ControlButton";const Dk=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Yg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=_e(),[p,g]=N.useState(!1),{isInteractive:v,minZoomReached:C,maxZoomReached:h}=le(Dk,Ne),{zoomIn:m,zoomOut:y,fitView:S}=vc();if(N.useEffect(()=>{g(!0)},[]),!p)return null;const A=()=>{m(),i==null||i()},T=()=>{y(),s==null||s()},z=()=>{S(o),l==null||l()},P=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)};return O.createElement(lc,{className:Te(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&O.createElement(O.Fragment,null,O.createElement(So,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},O.createElement(bk,null)),O.createElement(So,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C},O.createElement(zk,null))),n&&O.createElement(So,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view"},O.createElement(Rk,null)),r&&O.createElement(So,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},v?O.createElement(Pk,null):O.createElement($k,null)),c)};Yg.displayName="Controls";var jk=N.memo(Yg),ct;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ct||(ct={}));function Ok({color:e,dimensions:t,lineWidth:n}){return O.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Lk({color:e,radius:t}){return O.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Fk={[ct.Dots]:"#91919a",[ct.Lines]:"#eee",[ct.Cross]:"#e2e2e2"},Hk={[ct.Dots]:1,[ct.Lines]:1,[ct.Cross]:6},Uk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Kg({id:e,variant:t=ct.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:s,style:l,className:a}){const u=N.useRef(null),{transform:c,patternId:d}=le(Uk,Ne),f=s||Fk[t],p=r||Hk[t],g=t===ct.Dots,v=t===ct.Cross,C=Array.isArray(n)?n:[n,n],h=[C[0]*c[2]||1,C[1]*c[2]||1],m=p*c[2],y=v?[m,m]:h,S=g?[m/i,m/i]:[y[0]/i,y[1]/i];return O.createElement("svg",{className:Te(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},O.createElement("pattern",{id:d+e,x:c[0]%h[0],y:c[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},g?O.createElement(Lk,{color:f,radius:m/i}):O.createElement(Ok,{dimensions:y,color:f,lineWidth:o})),O.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Kg.displayName="Background";var Bk=N.memo(Kg);const Vk=({data:e,selected:t})=>{const n=a=>({compute:Ua,database:fr,storage:vo,networking:hm,security:Ba,ai:Zi,integration:$n,analytics:$n})[a]||X1,r=e.icon||n(e.category),o=a=>({compute:"#0078d4",database:"#e74c3c",storage:"#27ae60",networking:"#9b59b6",security:"#f39c12",ai:"#8e44ad",integration:"#34495e",analytics:"#e67e22"})[a]||"#666666",i=e.color||o(e.category),s=t?"#0078d4":i,l=t?"#f0f8ff":"#ffffff";return w.jsxs("div",{className:`
        relative bg-white rounded-lg shadow-lg border-2 transition-all duration-200 hover:shadow-xl
        ${t?"ring-2 ring-blue-400 ring-opacity-50":""}
      `,style:{borderColor:s,backgroundColor:l,minWidth:"180px",minHeight:"120px"},children:[w.jsx(un,{type:"target",position:K.Top,style:{background:i,width:"12px",height:"12px",border:"2px solid #fff"}}),w.jsx(un,{type:"source",position:K.Bottom,style:{background:i,width:"12px",height:"12px",border:"2px solid #fff"}}),w.jsx(un,{type:"target",position:K.Left,style:{background:i,width:"12px",height:"12px",border:"2px solid #fff"}}),w.jsx(un,{type:"source",position:K.Right,style:{background:i,width:"12px",height:"12px",border:"2px solid #fff"}}),w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:i},children:w.jsx(r,{size:20})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-sm text-gray-800 leading-tight",children:e.label||e.name||"Azure Service"}),w.jsx("span",{className:"text-xs px-2 py-1 rounded-full text-white font-medium",style:{backgroundColor:o(e.category)},children:e.category})]})]}),e.description&&w.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:e.description}),e.properties&&Object.keys(e.properties).length>0&&w.jsx("div",{className:"space-y-1",children:Object.entries(e.properties).slice(0,3).map(([a,u])=>w.jsxs("div",{className:"flex justify-between text-xs",children:[w.jsxs("span",{className:"text-gray-500 capitalize",children:[a,":"]}),w.jsx("span",{className:"text-gray-700 font-medium",children:String(u)})]},a))})]}),w.jsx("div",{className:"absolute top-2 right-2",children:w.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#10b981"},title:"Active"})})]})},Gk=({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o,targetPosition:i,style:s={},markerEnd:l,data:a,label:u})=>{const[c,d,f]=pc({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i}),g=(()=>{if(!(a!=null&&a.type))return"#2563eb";switch(a.type){case"connects":return"#2563eb";case"depends":return"#9333ea";case"stores":return"#16a34a";case"reads":return"#ca8a04";case"sends":return"#dc2626";case"receives":return"#0891b2";case"authenticates":return"#c026d3";case"deployed":return"#f97316";case"manages":return"#4f46e5";case"monitors":return"#0d9488";default:return"#2563eb"}})();return w.jsxs(w.Fragment,{children:[w.jsx(Xr,{path:c,markerEnd:l,style:{...s,stroke:g,strokeWidth:2,strokeDasharray:a!=null&&a.type?"none":"5,5"}}),u&&w.jsx("foreignObject",{width:100,height:40,x:d-50,y:f-20,className:"overflow-visible",children:w.jsx("div",{className:"flex items-center justify-center",children:w.jsx("div",{className:"bg-white px-2 py-1 rounded-full text-xs shadow-sm border border-gray-200",style:{color:g},children:u})})}),w.jsx("style",{children:`
        @keyframes flow {
          from {
            stroke-dashoffset: 1000;
          }
          to {
            stroke-dashoffset: 0;
          }
        }
      `})]})},Wk=({node:e,onSave:t,onClose:n})=>{var l;const[r,o]=N.useState(((l=e==null?void 0:e.data)==null?void 0:l.properties)||{});if(!e)return null;const i=a=>{o({...r,[a.target.name]:a.target.value})},s=a=>{a.preventDefault(),t(e.id,{properties:r}),n()};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 animate-fade-in",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96 transform transition-all duration-300 scale-95 animate-scale-in",children:[w.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Edit ",e.data.label," Configuration"]}),w.jsxs("form",{onSubmit:s,className:"space-y-3",children:[Object.entries(r).map(([a,u],c)=>w.jsxs("div",{className:"transition-all duration-200 animate-fade-in",style:{animationDelay:`${c*60}ms`},children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:a}),w.jsx("input",{className:"w-full border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-400 transition-shadow duration-200",name:a,value:String(u),onChange:i,type:"text"})]},a)),w.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[w.jsx("button",{type:"button",className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 transition-colors duration-150",onClick:n,children:"Cancel"}),w.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700 transition-colors duration-150",children:"Save"})]})]})]})})},Yk={azureService:Vk},Kk={custom:Gk},Xk=[],qk=[],Qk=({onNodeSelect:e,onExportGenerated:t})=>{const n=N.useRef(null),[r,o,i]=xk(Xk),[s,l,a]=wk(qk),[u,c]=N.useState(null),[d,f]=N.useState(null),[p,g]=N.useState(null),[v,C]=N.useState(!1),[h,m]=N.useState(!1),{generatedNodes:y,generatedEdges:S}=Qs();N.useEffect(()=>{y.length>0&&o(y),S.length>0&&l(S)},[y,S,o,l]);const A=N.useCallback(k=>{const _={...k,type:"custom",animated:!0,style:{strokeWidth:2},markerEnd:{type:Bn.ArrowClosed}};l(E=>cg(_,E))},[l]),T=N.useCallback((k,_)=>{k.preventDefault(),f(_),e&&e(_)},[e]),z=N.useCallback(()=>{g(null),f(null),e&&e(null)},[e]),P=N.useCallback(k=>{k.preventDefault(),g({x:k.clientX,y:k.clientY})},[]),D=N.useCallback((k,_)=>{k.preventDefault(),g({x:k.clientX,y:k.clientY,nodeId:_.id}),f(_)},[]),R=N.useCallback(k=>{k.preventDefault(),k.dataTransfer.dropEffect="move",m(!0),console.log(" Drag over canvas")},[]),j=N.useCallback(k=>{const _=n.current;_&&!_.contains(k.relatedTarget)&&(m(!1),console.log(" Drag left canvas"))},[]),H=N.useCallback(k=>{var Y;k.preventDefault(),m(!1);const _=(Y=n.current)==null?void 0:Y.getBoundingClientRect(),E=k.dataTransfer.getData("application/reactflow/type"),I=k.dataTransfer.getData("application/reactflow/data");if(console.log(" Drop event - Type:",E,"Data:",I),typeof E>"u"||!E||!_||!u){console.log(" Invalid drop - missing type, bounds, or flow instance");return}let $;try{$=JSON.parse(I)}catch(q){console.error(" Failed to parse node data:",q);return}const V=u.project({x:k.clientX-_.left,y:k.clientY-_.top}),B={id:`node_${Date.now()}`,type:"azureService",position:V,data:{...$,label:$.name||$.label||"New Node",name:$.name||$.label||"New Node",description:$.description||"Azure service",category:$.category||"compute",color:$.color||"#0078D4",icon:$.icon,properties:{...$.properties,createdAt:new Date().toISOString(),nodeId:`node_${Date.now()}`}},draggable:!0,selectable:!0,deletable:!0};console.log(" Creating new node:",B),o(q=>q.concat(B));const G=document.createElement("div");G.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",G.textContent=`Added ${$.name||"Node"} to canvas`,document.body.appendChild(G),setTimeout(()=>{document.body.contains(G)&&document.body.removeChild(G)},2e3)},[u,o]),L=N.useCallback(k=>{const _=r.find(G=>G.id===k);if(!_)return;const E=mc([_],s),I=K_(_,r,s),$=Y_(_,r,s);o(r.filter(G=>G.id!==k));const V=s.filter(G=>!E.includes(G)),B=I.flatMap(({id:G})=>$.map(({id:Y})=>({id:`edge_${G}_${Y}`,source:G,target:Y,type:"custom",animated:!0,style:{strokeWidth:2},markerEnd:{type:Bn.ArrowClosed}})));l([...V,...B]),g(null)},[r,s,o,l]),x=N.useCallback((k,_)=>{o(r.map(E=>E.id===k?{...E,data:{...E.data,..._}}:E))},[r,o]);N.useEffect(()=>{const k=_=>{(_.key==="Delete"||_.key==="Backspace")&&d&&(_.preventDefault(),L(d.id)),(_.key==="f"||_.key==="F")&&(_.preventDefault(),u&&u.fitView({padding:.1})),_.ctrlKey&&_.key==="x"&&(_.preventDefault(),o([]),l([]))};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[d,u,L,o,l]),N.useEffect(()=>{if(r.length>0&&t){const k=b(r);t(k,"arm");const _=M(r);t(_,"terraform");const E=F(r);t(E,"bicep")}},[r,t]);const b=k=>{const _=k.map(I=>{var V,B,G,Y,q,Z,Q;const{data:$}=I;switch($.type){case"compute":return{type:"Microsoft.Web/sites",name:`${$.label.replace(/\s+/g,"")}${I.id.split("_")[1]}`,apiVersion:"2021-02-01",location:((V=$.properties)==null?void 0:V.region)||"East US",properties:{siteConfig:{appSettings:[]},serverFarmId:`[resourceId('Microsoft.Web/serverfarms', 'appServicePlan${I.id.split("_")[1]}')]`}};case"database":return{type:"Microsoft.Sql/servers",name:`${$.label.replace(/\s+/g,"")}${I.id.split("_")[1]}`,apiVersion:"2021-02-01-preview",location:((B=$.properties)==null?void 0:B.region)||"East US",properties:{administratorLogin:"adminuser",administratorLoginPassword:"P@ssw0rd1234"}};case"storage":return{type:"Microsoft.Storage/storageAccounts",name:`storage${I.id.split("_")[1]}`,apiVersion:"2021-04-01",location:((G=$.properties)==null?void 0:G.region)||"East US",sku:{name:((Y=$.properties)==null?void 0:Y.type)||"Standard_LRS"},kind:"StorageV2",properties:{accessTier:((q=$.properties)==null?void 0:q.accessTier)||"Hot",supportsHttpsTrafficOnly:!0}};case"ai":return $.label==="Azure OpenAI"?{type:"Microsoft.CognitiveServices/accounts",name:`openai${I.id.split("_")[1]}`,apiVersion:"2023-05-01",location:((Z=$.properties)==null?void 0:Z.region)||"East US",sku:{name:"S0"},kind:"OpenAI",properties:{customSubDomainName:`openai${I.id.split("_")[1]}`,networkAcls:{defaultAction:"Allow"}}}:{type:"Microsoft.CognitiveServices/accounts",name:`${$.label.replace(/\s+/g,"")}${I.id.split("_")[1]}`,apiVersion:"2023-05-01",location:((Q=$.properties)==null?void 0:Q.region)||"East US",sku:{name:"S0"},kind:"CognitiveServices",properties:{}};default:return{type:"Microsoft.Resources/deployments",name:`${$.label.replace(/\s+/g,"")}${I.id.split("_")[1]}`,apiVersion:"2021-04-01",properties:{mode:"Incremental",template:{$schema:"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",contentVersion:"1.0.0.0",resources:[]}}}}});return JSON.stringify({$schema:"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",contentVersion:"1.0.0.0",parameters:{},variables:{},resources:_,outputs:{}},null,2)},M=k=>{let _=`# Terraform configuration for Azure infrastructure
provider "azurerm" {
  features {}
}

resource "azurerm_resource_group" "rg" {
  name     = "example-resources"
  location = "East US"
}

`;return k.forEach(E=>{var $,V,B,G,Y,q,Z,Q;const{data:I}=E;switch(I.type){case"compute":_+=`
resource "azurerm_app_service_plan" "plan${E.id.split("_")[1]}" {
  name                = "appserviceplan-${E.id.split("_")[1]}"
  location            = azurerm_resource_group.rg.location
  resource_group_name = azurerm_resource_group.rg.name
  sku {
    tier = "${(($=I.properties)==null?void 0:$.tier)||"Standard"}"
    size = "${((V=I.properties)==null?void 0:V.size)||"S1"}"
  }
}

resource "azurerm_app_service" "webapp${E.id.split("_")[1]}" {
  name                = "webapp-${E.id.split("_")[1]}"
  location            = azurerm_resource_group.rg.location
  resource_group_name = azurerm_resource_group.rg.name
  app_service_plan_id = azurerm_app_service_plan.plan${E.id.split("_")[1]}.id
}
`;break;case"database":_+=`
resource "azurerm_sql_server" "sqlserver${E.id.split("_")[1]}" {
  name                         = "sqlserver-${E.id.split("_")[1]}"
  location                     = azurerm_resource_group.rg.location
  resource_group_name          = azurerm_resource_group.rg.name
  version                      = "12.0"
  administrator_login          = "adminuser"
  administrator_login_password = "P@ssw0rd1234"
}

resource "azurerm_sql_database" "db${E.id.split("_")[1]}" {
  name                = "database-${E.id.split("_")[1]}"
  resource_group_name = azurerm_resource_group.rg.name
  location            = azurerm_resource_group.rg.location
  server_name         = azurerm_sql_server.sqlserver${E.id.split("_")[1]}.name
  edition             = "${((B=I.properties)==null?void 0:B.tier)||"Standard"}"
  requested_service_objective_name = "${((G=I.properties)==null?void 0:G.size)||"S0"}"
}
`;break;case"storage":_+=`
resource "azurerm_storage_account" "storage${E.id.split("_")[1]}" {
  name                     = "storage${E.id.split("_")[1]}"
  resource_group_name      = azurerm_resource_group.rg.name
  location                 = azurerm_resource_group.rg.location
  account_tier             = "Standard"
  account_replication_type = "${(((Y=I.properties)==null?void 0:Y.type)||"Standard_LRS").replace("Standard_","")}"
  access_tier              = "${((q=I.properties)==null?void 0:q.accessTier)||"Hot"}"
}
`;break;case"ai":I.label==="Azure OpenAI"?_+=`
resource "azurerm_cognitive_account" "openai${E.id.split("_")[1]}" {
  name                = "openai-${E.id.split("_")[1]}"
  location            = azurerm_resource_group.rg.location
  resource_group_name = azurerm_resource_group.rg.name
  kind                = "OpenAI"
  sku_name            = "S0"
  custom_subdomain_name = "openai-${E.id.split("_")[1]}"
}

resource "azurerm_cognitive_deployment" "deployment${E.id.split("_")[1]}" {
  name                 = "deployment-${E.id.split("_")[1]}"
  cognitive_account_id = azurerm_cognitive_account.openai${E.id.split("_")[1]}.id
  model {
    format  = "OpenAI"
    name    = "${((Z=I.properties)==null?void 0:Z.model)||"gpt-4"}"
    version = "1"
  }
  scale {
    type     = "Standard"
    capacity = ${((Q=I.properties)==null?void 0:Q.capacity)||1}
  }
}
`:_+=`
resource "azurerm_cognitive_account" "cognitive${E.id.split("_")[1]}" {
  name                = "${I.label.toLowerCase().replace(/\\s+/g,"")}-${E.id.split("_")[1]}"
  location            = azurerm_resource_group.rg.location
  resource_group_name = azurerm_resource_group.rg.name
  kind                = "CognitiveServices"
  sku_name            = "S0"
}
`;break;default:_+=`
# Resource for ${I.label} (${E.id})
# This is a placeholder for the actual Terraform configuration
resource "azurerm_resource_group_template_deployment" "${I.label.toLowerCase().replace(/\s+/g,"")}${E.id.split("_")[1]}" {
  name                = "${I.label.replace(/\s+/g,"")}-${E.id.split("_")[1]}"
  resource_group_name = azurerm_resource_group.rg.name
  deployment_mode     = "Incremental"
  template_content    = <<TEMPLATE
{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "resources": []
}
TEMPLATE
}
`}}),_},F=k=>{let _=`// Bicep template for Azure infrastructure

param location string = 'eastus'

`;return k.forEach(E=>{var $,V,B,G,Y,q,Z,Q;const{data:I}=E;switch(I.type){case"compute":_+=`
resource appServicePlan${E.id.split("_")[1]} 'Microsoft.Web/serverfarms@2021-02-01' = {
  name: 'appServicePlan-${E.id.split("_")[1]}'
  location: location
  sku: {
    name: '${(($=I.properties)==null?void 0:$.size)||"S1"}'
    tier: '${((V=I.properties)==null?void 0:V.tier)||"Standard"}'
  }
}

resource appService${E.id.split("_")[1]} 'Microsoft.Web/sites@2021-02-01' = {
  name: 'appService-${E.id.split("_")[1]}'
  location: location
  properties: {
    serverFarmId: appServicePlan${E.id.split("_")[1]}.id
    siteConfig: {
      appSettings: []
    }
  }
}
`;break;case"database":_+=`
resource sqlServer${E.id.split("_")[1]} 'Microsoft.Sql/servers@2021-02-01-preview' = {
  name: 'sqlserver-${E.id.split("_")[1]}'
  location: location
  properties: {
    administratorLogin: 'adminuser'
    administratorLoginPassword: 'P@ssw0rd1234'
  }
}

resource sqlDatabase${E.id.split("_")[1]} 'Microsoft.Sql/servers/databases@2021-02-01-preview' = {
  parent: sqlServer${E.id.split("_")[1]}
  name: 'database-${E.id.split("_")[1]}'
  location: location
  sku: {
    name: '${((B=I.properties)==null?void 0:B.size)||"S0"}'
    tier: '${((G=I.properties)==null?void 0:G.tier)||"Standard"}'
  }
}
`;break;case"storage":_+=`
resource storageAccount${E.id.split("_")[1]} 'Microsoft.Storage/storageAccounts@2021-04-01' = {
  name: 'storage${E.id.split("_")[1]}'
  location: location
  sku: {
    name: '${((Y=I.properties)==null?void 0:Y.type)||"Standard_LRS"}'
  }
  kind: 'StorageV2'
  properties: {
    accessTier: '${((q=I.properties)==null?void 0:q.accessTier)||"Hot"}'
    supportsHttpsTrafficOnly: true
  }
}
`;break;case"ai":I.label==="Azure OpenAI"?_+=`
resource openAI${E.id.split("_")[1]} 'Microsoft.CognitiveServices/accounts@2023-05-01' = {
  name: 'openai-${E.id.split("_")[1]}'
  location: location
  sku: {
    name: 'S0'
  }
  kind: 'OpenAI'
  properties: {
    customSubDomainName: 'openai-${E.id.split("_")[1]}'
    networkAcls: {
      defaultAction: 'Allow'
    }
  }
}

resource openAIDeployment${E.id.split("_")[1]} 'Microsoft.CognitiveServices/accounts/deployments@2023-05-01' = {
  parent: openAI${E.id.split("_")[1]}
  name: 'deployment-${E.id.split("_")[1]}'
  properties: {
    model: {
      format: 'OpenAI'
      name: '${((Z=I.properties)==null?void 0:Z.model)||"gpt-4"}'
      version: '1'
    }
  }
  sku: {
    name: 'Standard'
    capacity: ${((Q=I.properties)==null?void 0:Q.capacity)||1}
  }
}
`:_+=`
resource cognitive${E.id.split("_")[1]} 'Microsoft.CognitiveServices/accounts@2023-05-01' = {
  name: '${I.label.toLowerCase().replace(/\\s+/g,"")}-${E.id.split("_")[1]}'
  location: location
  sku: {
    name: 'S0'
  }
  kind: 'CognitiveServices'
  properties: {}
}
`;break;default:_+=`
// Resource for ${I.label} (${E.id})
// This is a placeholder for the actual Bicep configuration
resource ${I.label.toLowerCase().replace(/\s+/g,"")}${E.id.split("_")[1]} 'Microsoft.Resources/deployments@2021-04-01' = {
  name: '${I.label.replace(/\s+/g,"")}-${E.id.split("_")[1]}'
  properties: {
    mode: 'Incremental'
    template: {
      '$schema': 'https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#'
      contentVersion: '1.0.0.0'
      resources: []
    }
  }
}
`}}),_};return w.jsxs("div",{className:"w-full h-full relative",ref:n,onDragLeave:j,children:[w.jsxs("div",{className:"absolute top-4 left-4 z-10 flex items-center gap-2 bg-white rounded-lg border border-gray-200 shadow-lg p-2",children:[w.jsx("button",{onClick:()=>{u&&u.fitView({padding:.1})},className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",title:"Fit View (F)",children:" Fit View"}),w.jsx("button",{onClick:()=>{o([]),l([])},className:"px-3 py-1.5 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded transition-colors",title:"Clear Canvas (Ctrl+X)",children:" Clear"}),w.jsxs("div",{className:"text-xs text-gray-500 border-l border-gray-200 pl-2",children:["Nodes: ",r.length," | Edges: ",s.length]}),w.jsx("div",{className:"text-xs text-gray-400 border-l border-gray-200 pl-2",children:" Right-click to add nodes"})]}),w.jsxs("div",{className:`relative w-full h-full ${h?"bg-blue-50 border-2 border-dashed border-blue-300":""}`,children:[w.jsxs(Bg,{nodes:r,edges:s,onNodesChange:i,onEdgesChange:a,onConnect:A,onInit:c,onDrop:H,onDragOver:R,onNodeClick:T,onNodeContextMenu:D,onPaneClick:z,onPaneContextMenu:P,nodeTypes:Yk,edgeTypes:Kk,fitView:!0,fitViewOptions:{padding:.1},connectionLineType:Ot.SmoothStep,defaultEdgeOptions:{type:"custom",animated:!0,style:{strokeWidth:2},markerEnd:{type:Bn.ArrowClosed}},minZoom:.1,maxZoom:4,defaultViewport:{x:0,y:0,zoom:1},nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,selectNodesOnDrag:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,panOnScroll:!1,preventScrolling:!0,children:[w.jsx(jk,{style:{top:10,right:10,background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},showZoom:!0,showFitView:!0,showInteractive:!0,position:"top-right"}),w.jsx(Tk,{nodeStrokeWidth:3,zoomable:!0,pannable:!0,style:{bottom:10,right:10,background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},position:"bottom-right"}),w.jsx(Bk,{variant:ct.Dots,gap:20,size:1,color:"#e5e7eb"})]}),h&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:w.jsxs("div",{className:"bg-blue-100 border-2 border-blue-300 rounded-lg p-8 text-blue-700",children:[w.jsx("div",{className:"text-2xl mb-2",children:""}),w.jsx("div",{className:"font-medium",children:"Drop Azure Service Here"})]})}),r.length===0&&!h&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:w.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[w.jsx("div",{className:"text-6xl mb-4",children:""}),w.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Start Building Your Azure Infrastructure"}),w.jsx("p",{className:"text-gray-500 mb-4",children:"Drag Azure services from the sidebar to create your infrastructure design, or use the AI prompt to generate it automatically."}),w.jsxs("div",{className:"flex flex-wrap gap-2 justify-center text-sm text-gray-400",children:[w.jsx("span",{children:" Drag & Drop"}),w.jsx("span",{children:""}),w.jsx("span",{children:" AI Generation"}),w.jsx("span",{children:""}),w.jsx("span",{children:" Connect Services"})]})]})})]}),p&&w.jsx("div",{className:"absolute bg-white rounded-lg shadow-lg z-50 border border-gray-200 min-w-[180px]",style:{left:p.x,top:p.y},children:p.nodeId?w.jsxs("div",{className:"py-2",children:[w.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm",onClick:()=>{C(!0),g(null)},children:" Edit Properties"}),w.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm",onClick:()=>{const k=r.find(_=>_.id===p.nodeId);if(k){const _={...k,id:`node_${Date.now()}`,position:{x:k.position.x+50,y:k.position.y+50}};o(E=>E.concat(_))}g(null)},children:" Duplicate"}),w.jsx("hr",{className:"my-1"}),w.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-red-50 transition-colors text-sm text-red-600",onClick:()=>L(p.nodeId),children:" Delete Node"})]}):w.jsxs("div",{className:"py-2",children:[w.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Add Service"}),w.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm",onClick:()=>{var E,I;const k=u==null?void 0:u.project({x:p.x-(((E=n.current)==null?void 0:E.getBoundingClientRect().left)||0),y:p.y-(((I=n.current)==null?void 0:I.getBoundingClientRect().top)||0)}),_={id:`node_${Date.now()}`,type:"azureService",position:k||{x:100,y:100},data:{name:"App Service",description:"Web application hosting",category:"compute",color:"#0078D4",properties:{tier:"Standard",size:"S1",region:"East US"}}};o($=>$.concat(_)),g(null)},children:" App Service"}),w.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm",onClick:()=>{var E,I;const k=u==null?void 0:u.project({x:p.x-(((E=n.current)==null?void 0:E.getBoundingClientRect().left)||0),y:p.y-(((I=n.current)==null?void 0:I.getBoundingClientRect().top)||0)}),_={id:`node_${Date.now()}`,type:"azureService",position:k||{x:100,y:100},data:{name:"Azure SQL Database",description:"Managed relational database",category:"database",color:"#7FBA00",properties:{tier:"Standard",size:"S0",region:"East US"}}};o($=>$.concat(_)),g(null)},children:" SQL Database"}),w.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm",onClick:()=>{var E,I;const k=u==null?void 0:u.project({x:p.x-(((E=n.current)==null?void 0:E.getBoundingClientRect().left)||0),y:p.y-(((I=n.current)==null?void 0:I.getBoundingClientRect().top)||0)}),_={id:`node_${Date.now()}`,type:"azureService",position:k||{x:100,y:100},data:{name:"Storage Account",description:"Cloud storage solution",category:"storage",color:"#FFB900",properties:{type:"Standard_LRS",accessTier:"Hot",region:"East US"}}};o($=>$.concat(_)),g(null)},children:" Storage Account"})]})}),v&&d&&w.jsx(Wk,{node:d,onSave:x,onClose:()=>C(!1)})]})},Zk=({onDragStart:e})=>{const[t,n]=N.useState({compute:!0,database:!1,storage:!1,networking:!1,security:!1,ai:!1,integration:!1,analytics:!1}),[r,o]=N.useState(""),i=a=>{n(u=>({...u,[a]:!u[a]}))},s=(a,u)=>{console.log(" Drag started for service:",u.name),a.dataTransfer.setData("application/reactflow/type","azureService"),a.dataTransfer.setData("application/reactflow/data",JSON.stringify({...u,label:u.name,type:u.category,color:u.color,position:{x:0,y:0}})),a.dataTransfer.effectAllowed="move";const c=a.currentTarget.cloneNode(!0);c.style.transform="rotate(3deg)",c.style.opacity="0.8",document.body.appendChild(c),a.dataTransfer.setDragImage(c,0,0),setTimeout(()=>{document.body.contains(c)&&document.body.removeChild(c)},100),e&&e(a,u)},l=Object.entries(vm).map(([a,u])=>({key:a,...u,services:u.services.filter(c=>c.name.toLowerCase().includes(r.toLowerCase())||c.description.toLowerCase().includes(r.toLowerCase()))})).filter(a=>r===""||a.services.length>0);return w.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col h-full",children:[w.jsxs("div",{className:"p-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Azure Services"}),w.jsxs("div",{className:"relative",children:[w.jsx(yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),w.jsx("input",{type:"text",placeholder:"Search services...",value:r,onChange:a=>o(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto",children:w.jsx("div",{className:"p-2",children:l.map(({key:a,name:u,color:c,icon:d,services:f})=>w.jsxs("div",{className:"mb-2",children:[w.jsxs("button",{onClick:()=>i(a),className:"w-full flex items-center gap-2 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:c},children:w.jsx(d,{size:16})}),w.jsx("span",{className:"flex-1 text-left font-medium text-gray-700",children:u}),w.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:f.length}),t[a]?w.jsx(U1,{size:16,className:"text-gray-400"}):w.jsx(V1,{size:16,className:"text-gray-400"})]}),t[a]&&w.jsx("div",{className:"ml-4 mt-2 space-y-1",children:f.map(p=>{const g=p.icon;return w.jsxs("div",{draggable:!0,onDragStart:v=>s(v,p),className:"group flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all bg-white",children:[w.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white flex-shrink-0",style:{backgroundColor:p.color},children:w.jsx(g,{size:18})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h4",{className:"font-medium text-sm text-gray-800 truncate",children:p.name}),w.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 leading-tight",children:p.description}),w.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:Object.entries(p.properties).slice(0,2).map(([v,C])=>w.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:[v,": ",String(C)]},v))})]}),w.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mb-1"}),w.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mb-1"}),w.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})]})]},p.id)})})]},a))})}),w.jsx("div",{className:"p-4 border-t border-gray-200",children:w.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Drag services to the canvas to build your infrastructure"})})]})},Jk=({className:e=""})=>{const[t,n]=N.useState(""),[r,o]=N.useState(!1),[i,s]=N.useState(""),l=N.useRef(null),{processPrompt:a,optimizeInfrastructure:u,isProcessing:c,error:d,clearError:f,setApiKey:p,isApiConfigured:g,clearGenerated:v}=Qs(),C=async A=>{if(A.preventDefault(),!(!t.trim()||c)){console.log(" EnhancedPromptInput handleSubmit called with:",t),console.log(" API Configured:",g),f();try{await a(t.trim()),n(""),console.log(" Prompt processed successfully")}catch(T){console.error(" Error in handleSubmit:",T)}}},h=async()=>{c||(f(),await u())},m=()=>{i.trim()&&(p(i.trim()),o(!1),s(""))},y=["I need a web application with a SQL database, storage for user uploads, and authentication","Create a microservices architecture with API gateway, multiple services, and message queuing","Build a data analytics platform with data lake, processing pipeline, and dashboard","Design a machine learning solution with model training, deployment, and monitoring"],S=A=>{n(A),l.current&&l.current.focus()};return w.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${e}`,children:[w.jsx("div",{className:"border-b border-gray-200 p-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(kx,{className:"text-blue-500",size:20}),w.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Describe Your Infrastructure"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:()=>o(!0),className:`
                flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors
                ${g?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}
              `,children:[w.jsx(mm,{size:14}),g?"API Configured":"Configure API"]}),g&&w.jsx("button",{onClick:v,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"Clear"})]})]})}),r&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Configure Gemini API"}),w.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(tf,{size:20})})]}),w.jsxs("div",{className:"p-4",children:[w.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Enter your Google Gemini API key to enable AI-powered infrastructure generation. You can get your API key from"," ",w.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Google AI Studio"})]}),w.jsx("input",{type:"password",value:i,onChange:A=>s(A.target.value),placeholder:"Enter your Gemini API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w.jsxs("div",{className:"flex gap-2 mt-4",children:[w.jsx("button",{onClick:m,disabled:!i.trim(),className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save API Key"}),w.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})]})}),d&&w.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[w.jsx(Ha,{className:"text-red-500 flex-shrink-0",size:16}),w.jsx("span",{className:"text-red-700 text-sm",children:d}),w.jsx("button",{onClick:f,className:"ml-auto text-red-500 hover:text-red-700",children:w.jsx(tf,{size:16})})]}),w.jsxs("div",{className:"p-4",children:[w.jsx("form",{onSubmit:C,children:w.jsxs("div",{className:"relative",children:[w.jsx("textarea",{ref:l,value:t,onChange:A=>n(A.target.value),placeholder:g?"Describe your Azure infrastructure needs in natural language...":"Describe your infrastructure needs - this will run in demo mode (configure API key for AI generation)",className:"w-full h-32 px-4 py-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4}),w.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[w.jsxs("button",{type:"button",onClick:h,disabled:!g||c,className:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 text-purple-700 rounded-lg text-sm font-medium hover:bg-purple-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[w.jsx(ym,{size:14}),"Optimize"]}),w.jsxs("button",{type:"submit",disabled:!t.trim()||c,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?w.jsx(gm,{className:"animate-spin",size:14}):w.jsx(xx,{size:14}),c?"Generating...":g?"Generate":"Demo Mode"]})]})]})}),w.jsxs("div",{className:"mt-4",children:[w.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Try these examples ",!g&&"(demo mode)",":"]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:y.map((A,T)=>w.jsxs("button",{onClick:()=>S(A),className:"text-left p-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm text-gray-700 transition-colors",children:['"',A,'"']},T))})]})]})]})},eN=({className:e=""})=>{var p;const{generatedCode:t,isProcessing:n,error:r}=Qs(),[o,i]=N.useState("arm"),[s,l]=N.useState({}),a=[{id:"arm",label:"ARM Template",icon:ax,description:"Azure Resource Manager JSON template",language:"json"},{id:"terraform",label:"Terraform",icon:Jd,description:"Terraform HCL configuration",language:"hcl"},{id:"yaml",label:"Azure DevOps",icon:ym,description:"Azure DevOps YAML pipeline",language:"yaml"}],u=()=>{if(!t)return"";switch(o){case"arm":return t.armTemplate;case"terraform":return t.terraformCode;case"yaml":return t.yamlConfig;default:return""}},c=async(g,v)=>{try{await navigator.clipboard.writeText(g),l({...s,[v]:!0}),setTimeout(()=>{l({...s,[v]:!1})},2e3)}catch(C){console.error("Failed to copy:",C)}},d=(g,v)=>{const C=new Blob([g],{type:"text/plain"}),h=URL.createObjectURL(C),m=document.createElement("a");m.href=h,m.download=v,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)},f=()=>{switch(o){case"arm":return".json";case"terraform":return".tf";case"yaml":return".yml";default:return".txt"}};return w.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col ${e}`,children:[w.jsxs("div",{className:"border-b border-gray-200 p-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Infrastructure as Code"}),w.jsx("div",{className:"flex space-x-1",children:a.map(g=>{const v=g.icon;return w.jsxs("button",{onClick:()=>i(g.id),className:`
                  flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors
                  ${o===g.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}
                `,children:[w.jsx(v,{size:16}),g.label]},g.id)})})]}),w.jsx("div",{className:"flex-1 flex flex-col",children:n?w.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Generating infrastructure code..."})]})}):r?w.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:w.jsxs("div",{className:"text-center text-red-600",children:[w.jsx("p",{className:"font-medium",children:"Error generating code"}),w.jsx("p",{className:"text-sm text-red-500 mt-1",children:r})]})}):t?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(sx,{size:16,className:"text-gray-400"}),w.jsx("span",{className:"text-sm text-gray-600",children:(p=a.find(g=>g.id===o))==null?void 0:p.description})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:()=>c(u(),o),className:`
                    flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors
                    ${s[o]?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                  `,children:[w.jsx(J1,{size:14}),s[o]?"Copied!":"Copy"]}),w.jsxs("button",{onClick:()=>d(u(),`infrastructure-${o}${f()}`),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors",children:[w.jsx(ox,{size:14}),"Download"]})]})]}),w.jsx("div",{className:"flex-1 relative",children:w.jsx("pre",{className:"h-full overflow-auto p-4 text-sm font-mono bg-gray-50 border-0",children:w.jsx("code",{className:"text-gray-800 whitespace-pre-wrap",children:u()})})})]}):w.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:w.jsxs("div",{className:"text-center text-gray-500",children:[w.jsx(Jd,{size:48,className:"mx-auto mb-4 text-gray-400"}),w.jsx("p",{className:"font-medium",children:"No infrastructure code generated"}),w.jsx("p",{className:"text-sm mt-1",children:"Create infrastructure using the prompt input to generate code"})]})})})]})},tN=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!1),[o,i]=N.useState(!1),{isApiConfigured:s,error:l}=Qs(),a=c=>{t(d=>[...d,`${new Date().toLocaleTimeString()}: ${c}`])},u=async()=>{var c;r(!0),t([]);try{a(" Starting Gemini API connection test...");const d=(c=document.getElementById("test-api-key"))==null?void 0:c.value;if(!d){a(" No API key provided for testing");return}a(" Testing with provided API key...");const f=new fm(d);a(" GeminiService instance created successfully"),a(" Testing simple content generation...");const p=await f.parseNaturalLanguageToInfrastructure("Create a simple web application with a database");a(" Gemini API call successful!"),a(` Generated ${p.services.length} services`),a(` Services: ${p.services.map(g=>g.name).join(", ")}`)}catch(d){a(" Test failed:"),a(`   Error: ${d instanceof Error?d.message:"Unknown error"}`),console.error("Gemini test error:",d)}finally{r(!1)}};return o?w.jsxs("div",{className:"fixed inset-4 bg-white rounded-lg shadow-xl border border-gray-300 z-50 overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"bg-gray-800 text-white px-4 py-3 flex items-center justify-between",children:[w.jsx("h3",{className:"font-semibold",children:"Gemini API Debug Panel"}),w.jsx("button",{onClick:()=>i(!1),className:"text-gray-300 hover:text-white",children:""})]}),w.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[w.jsxs("div",{className:"mb-6",children:[w.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[w.jsx(fx,{size:16}),"Current Status"]}),w.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s?w.jsx(Y1,{className:"text-green-500",size:16}):w.jsx(Ha,{className:"text-yellow-500",size:16}),w.jsxs("span",{children:["API Configured: ",s?"Yes":"No"]})]}),l&&w.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[w.jsx(Ha,{size:16}),w.jsxs("span",{children:["Current Error: ",l]})]})]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h4",{className:"font-semibold mb-2",children:"Test Gemini API Connection"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{id:"test-api-key",type:"password",placeholder:"Enter Gemini API key to test",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),w.jsxs("button",{onClick:u,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:[n?w.jsx(gm,{className:"animate-spin",size:16}):null,n?"Testing...":"Test Connection"]})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold mb-2",children:"Test Results"}),w.jsx("div",{className:"bg-gray-900 text-green-400 font-mono text-sm p-3 rounded-lg h-64 overflow-auto",children:e.length===0?w.jsx("div",{className:"text-gray-500",children:'No test results yet. Click "Test Connection" to begin.'}):e.map((c,d)=>w.jsx("div",{className:"mb-1",children:c},d))})]}),w.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[w.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Quick Test Steps:"}),w.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[w.jsxs("li",{children:["1. ",w.jsx("strong",{children:"Demo Mode:"}),` Don't enter API key, type "web app with database", click Generate`]}),w.jsxs("li",{children:["2. ",w.jsx("strong",{children:"Real Mode:"})," Get API key from ",w.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",className:"underline",children:"Google AI Studio"})]}),w.jsxs("li",{children:["3. ",w.jsx("strong",{children:"API Key Format:"}),' Should start with "AIza" and be ~39 characters long']}),w.jsxs("li",{children:["4. ",w.jsx("strong",{children:"Check Console:"})," Press F12 and look for    emoji logs"]}),w.jsxs("li",{children:["5. ",w.jsx("strong",{children:"Network Issues:"})," Check if requests to generativelanguage.googleapis.com are blocked"]})]})]})]})]}):w.jsx("div",{className:"fixed bottom-4 right-4",children:w.jsx("button",{onClick:()=>i(!0),className:"bg-gray-800 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-700",children:"Debug"})})},nN=()=>{var o;const[e,t]=N.useState(null),n=i=>{t(i)},r=(i,s)=>{console.log("Export generated:",{code:i,type:s})};return w.jsx(wc,{children:w.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[w.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:w.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Azure Infrastructure Designer"}),w.jsx("p",{className:"text-sm text-gray-600",children:"AI-Powered Infrastructure as Code Generator"})]})]}),w.jsx("div",{className:"flex items-center gap-4",children:w.jsxs("div",{className:"text-sm text-gray-600",children:["Powered by ",w.jsx("span",{className:"font-medium text-blue-600",children:"Google Gemini"})]})})]})}),w.jsxs("div",{className:"flex-1 flex",children:[w.jsx(Zk,{}),w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("div",{className:"p-4",children:w.jsx(Jk,{})}),w.jsxs("div",{className:"flex-1 bg-gray-100 relative",children:[w.jsx(Qk,{onNodeSelect:n,onExportGenerated:r}),w.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg p-4 max-w-sm",children:[w.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Getting Started"}),w.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[w.jsx("li",{children:" Configure your Gemini API key"}),w.jsx("li",{children:" Describe your infrastructure needs"}),w.jsx("li",{children:" Drag components from the sidebar"}),w.jsx("li",{children:" Connect services by dragging handles"}),w.jsx("li",{children:" Export your infrastructure as code"})]})]})]})]}),w.jsx("div",{className:"w-1/3 border-l border-gray-200",children:w.jsx(eN,{className:"h-full"})})]}),w.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-2",children:w.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{children:"Ready"}),e&&w.jsxs("span",{children:["Selected: ",((o=e.data)==null?void 0:o.label)||e.id]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{children:"React Flow Canvas"}),w.jsx("span",{children:""}),w.jsx("span",{children:"Azure Infrastructure Designer v2.0"})]})]})}),w.jsx(tN,{})]})})};function rN(){return console.log(" Full App component rendering..."),w.jsx(Ax,{children:w.jsx(nN,{})})}console.log(" Main.tsx loaded - attempting to render React app...");const Wf=document.getElementById("root");if(!Wf)console.error(" Root element not found!");else{console.log(" Root element found, creating React root...");try{sm(Wf).render(w.jsx(rN,{})),console.log(" React app rendered successfully!")}catch(e){console.error(" Error rendering React app:",e)}}
